ARM GAS  D:\Temp\ccoXQ802.s 			page 1


   1              		.cpu cortex-m0
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Src/main.c"
  18              		.section	.text.readBackupSettings,"ax",%progbits
  19              		.align	1
  20              		.global	readBackupSettings
  21              		.syntax unified
  22              		.code	16
  23              		.thumb_func
  25              	readBackupSettings:
  26              	.LFB37:
   1:Src/main.c    **** /* USER CODE BEGIN Header */
   2:Src/main.c    **** /**
   3:Src/main.c    ****  ******************************************************************************
   4:Src/main.c    ****  * @file           : main.c
   5:Src/main.c    ****  * @brief          : Main program body
   6:Src/main.c    ****  ******************************************************************************
   7:Src/main.c    ****  * @attention
   8:Src/main.c    ****  *
   9:Src/main.c    ****  * <h2><center>&copy; Copyright (c) 2019 STMicroelectronics.
  10:Src/main.c    ****  * All rights reserved.</center></h2>
  11:Src/main.c    ****  *
  12:Src/main.c    ****  * This software component is licensed by ST under BSD 3-Clause license,
  13:Src/main.c    ****  * the "License"; You may not use this file except in compliance with the
  14:Src/main.c    ****  * License. You may obtain a copy of the License at:
  15:Src/main.c    ****  *                        opensource.org/licenses/BSD-3-Clause
  16:Src/main.c    ****  *
  17:Src/main.c    ****  ******************************************************************************
  18:Src/main.c    ****  */
  19:Src/main.c    **** /* USER CODE END Header */
  20:Src/main.c    **** 
  21:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  22:Src/main.c    **** #include "main.h"
  23:Src/main.c    **** #include "adc.h"
  24:Src/main.c    **** #include "dma.h"
  25:Src/main.c    **** #include "gpio.h"
  26:Src/main.c    **** #include "i2c.h"
  27:Src/main.c    **** #include "tim.h"
  28:Src/main.c    **** 
  29:Src/main.c    **** 
  30:Src/main.c    **** /* Private includes ----------------------------------------------------------*/
  31:Src/main.c    **** /* USER CODE BEGIN Includes */
  32:Src/main.c    **** #include "SD3077.h"
ARM GAS  D:\Temp\ccoXQ802.s 			page 2


  33:Src/main.c    **** #include "TM1637.h"
  34:Src/main.c    **** #include "stdbool.h"
  35:Src/main.c    **** 
  36:Src/main.c    **** /* USER CODE END Includes */
  37:Src/main.c    **** 
  38:Src/main.c    **** /* Private typedef -----------------------------------------------------------*/
  39:Src/main.c    **** /* USER CODE BEGIN PTD */
  40:Src/main.c    **** // 显示模式枚举定义
  41:Src/main.c    **** typedef enum {
  42:Src/main.c    ****   MODE_SHOW_TIME = 0,    // 显示时间模式（时:分）
  43:Src/main.c    ****   MODE_SHOW_SECOND,      // 显示秒数模式
  44:Src/main.c    ****   MODE_SHOW_TEMPERTURE,  // 显示温度模式
  45:Src/main.c    ****   MODE_SET_HOUR,         // 设置小时模式
  46:Src/main.c    ****   MODE_SET_MINUTE,       // 设置分钟模式
  47:Src/main.c    ****   MODE_SET_ALARM_ENABLE, // 设置闹钟开关模�?
  48:Src/main.c    ****   MODE_SET_ALARM_HOUR,   // 设置闹钟小时模式
  49:Src/main.c    ****   MODE_SET_ALARM_MINUTE, // 设置闹钟分钟模式
  50:Src/main.c    ****   MODE_SET_TEMP_SHOW,    // 设置温度显示时长模式
  51:Src/main.c    ****   MODE_SET_TEMP_HIDE,    // 设置温度隐藏时长模式
  52:Src/main.c    ****   MODE_SET_BRIGHTNESS, // 设置亮度模式（手�?/自动�?
  53:Src/main.c    ****   MODE_SET_BRIGHTNESS_STRONG, // 设置强光亮度模式
  54:Src/main.c    ****   MODE_SET_BRIGHTNESS_WEAK,   // 设置弱光亮度模式
  55:Src/main.c    ****   MODE_SET_ROT_ENABLE,        // 设置整点报时开关模�?
  56:Src/main.c    ****   MODE_SET_ROT_START,         // 设置整点报时开始时间模�?
  57:Src/main.c    ****   MODE_SET_ROT_STOP,          // 设置整点报时结束时间模式
  58:Src/main.c    **** } DisplayMode;
  59:Src/main.c    **** /* USER CODE END PTD */
  60:Src/main.c    **** 
  61:Src/main.c    **** /* Private define ------------------------------------------------------------*/
  62:Src/main.c    **** /* USER CODE BEGIN PD */
  63:Src/main.c    **** 
  64:Src/main.c    **** /* USER CODE END PD */
  65:Src/main.c    **** 
  66:Src/main.c    **** /* Private macro -------------------------------------------------------------*/
  67:Src/main.c    **** /* USER CODE BEGIN PM */
  68:Src/main.c    **** // GPIO引脚定义
  69:Src/main.c    **** #define SECOND_INT_PIN                                                         \
  70:Src/main.c    ****   SEC_INT_Pin // 秒中断管脚编号（RTC每秒产生中断�?
  71:Src/main.c    **** #define SECOND_INT_EXTI_IRQN SEC_INT_EXTI_IRQn // 秒中断IRQN
  72:Src/main.c    **** #define KEY_EXTI_IRQN MODE_KEY_EXTI_IRQn       // 按键中断IRQN
  73:Src/main.c    **** 
  74:Src/main.c    **** #define MODE_KEY_GPIO_PORT MODE_KEY_GPIO_Port // 模式按钮GPIO端口
  75:Src/main.c    **** #define MODE_KEY_PIN MODE_KEY_Pin             // 模式按钮GPIO引脚
  76:Src/main.c    **** 
  77:Src/main.c    **** #define SET_KEY_GPIO_PORT SET_KEY_GPIO_Port // 设置按钮GPIO端口
  78:Src/main.c    **** #define SET_KEY_PIN SET_KEY_Pin             // 设置按钮GPIO引脚
  79:Src/main.c    **** 
  80:Src/main.c    **** #define BUZZER_GPIO_PORT BUZZER_GPIO_Port // 蜂鸣器GPIO端口
  81:Src/main.c    **** #define BUZZER_PIN BUZZER_Pin             // 蜂鸣器GPIO引脚
  82:Src/main.c    **** 
  83:Src/main.c    **** // 按键相关时间参数（单位：毫秒�?
  84:Src/main.c    **** #define KEY_LONG_PRESS_EFFECT_TIME                                             \
  85:Src/main.c    ****   800 // 按键长按生效时间（超过此时间视为长按�?
  86:Src/main.c    **** #define KEY_REPEAT_TIME_INTERVAL                                               \
  87:Src/main.c    ****   250 // 按键长按重复触发间隔
  88:Src/main.c    **** #define KEY_CLICK_EFFECT_TIME 50 // 按键单击生效时间（消抖时间）
  89:Src/main.c    **** 
ARM GAS  D:\Temp\ccoXQ802.s 			page 3


  90:Src/main.c    **** // 时间设置范围
  91:Src/main.c    **** #define YEAR_MAX_SET 38 // 最大年份设置（20xx年）
  92:Src/main.c    **** #define YEAR_MIN_SET 15 // 最小年份设置（20xx年）
  93:Src/main.c    **** 
  94:Src/main.c    **** // 温度显示时间范围（单位：秒）
  95:Src/main.c    **** #define TEMPERTURE_MAX_SHOW_TIME 15 // 温度最大显示时�?
  96:Src/main.c    **** #define TEMPERTURE_MAX_HIDE_TIME 30 // 温度最大隐藏时�?
  97:Src/main.c    **** 
  98:Src/main.c    **** // 整点报时参数
  99:Src/main.c    **** #define RING_ON_TIME_LONG                                                      \
 100:Src/main.c    ****   1000 // 整点报时蜂鸣器鸣叫时长（毫秒�?
 101:Src/main.c    **** 
 102:Src/main.c    **** // 自动亮度调节ADC阈�?
 103:Src/main.c    **** #define STRONG_BRIGHTNESS_ADC_VALUE                                            \
 104:Src/main.c    ****   2800 // 强光ADC阈值（超过此值切换到强光模式�?
 105:Src/main.c    **** #define WEAK_BRIGHTNESS_ADC_VALUE                                              \
 106:Src/main.c    ****   2300 // 弱光ADC阈值（低于此值切换到弱光模式�?
 107:Src/main.c    **** #define STRONG_BRIGHTNESS_VALUE                                                \
 108:Src/main.c    ****   8 // 强光默认亮度值（1-8级）
 109:Src/main.c    **** #define WEAK_BRIGHTNESS_VALUE                                                  \
 110:Src/main.c    ****   1 // 弱光默认亮度值（1-8级）
 111:Src/main.c    **** 
 112:Src/main.c    **** // 定时器句柄定�?
 113:Src/main.c    **** #define ALARM_CONTROL_TIMER_HANDLE htim17 // 闹钟控制定时器句�?
 114:Src/main.c    **** #define ALARM_CONTROL_TIMER TIM17         // 闹钟控制定时�?
 115:Src/main.c    **** #define LIGHT_CONTROL_TIMER_HANDLE                                             \
 116:Src/main.c    ****   htim16                           // 亮度控制定时器句�?
 117:Src/main.c    **** #define LIGHT_CONTROL_TIMER TIM16  // 亮度控制定时�?
 118:Src/main.c    **** #define TEMPERTURE_ADC_HANDLE hadc // 温度ADC句柄
 119:Src/main.c    **** 
 120:Src/main.c    **** // 备份数据存储索引（保存在RTC备份寄存器中�?
 121:Src/main.c    **** #define BAK_DATA_SIZE 13 // 备份数据总大�?
 122:Src/main.c    **** #define BAK_POWER_DOWN_IND_INDEX                                               \
 123:Src/main.c    ****   0x00 // 掉电标识索引（用于判断是否首次上电）
 124:Src/main.c    **** #define BAK_ALARM_ENABLED_INDEX 0x02  // 闹钟使能标志索引
 125:Src/main.c    **** #define BAK_ALARM_HOUR_INDEX 0x03     // 闹钟小时索引
 126:Src/main.c    **** #define BAK_ALARM_MINUTE_INDEX 0x04   // 闹钟分钟索引
 127:Src/main.c    **** #define BAK_TEMP_SHOW_TIME_INDEX 0x05 // 温度显示时长索引
 128:Src/main.c    **** #define BAK_TEMP_HIDE_TIME_INDEX 0x06 // 温度隐藏时长索引
 129:Src/main.c    **** #define BAK_ROT_ENABLED_INDEX 0x07    // 整点报时使能标志索引
 130:Src/main.c    **** #define BAK_ROT_START_INDEX 0x08      // 整点报时开始时间索�?
 131:Src/main.c    **** #define BAK_ROT_STOP_INDEX 0x09       // 整点报时结束时间索引
 132:Src/main.c    **** #define BAK_BRIGHTNESS_INDEX                                                   \
 133:Src/main.c    ****   0x0A // 亮度设置索引�?0为自动，1-8为手动）
 134:Src/main.c    **** #define BAK_BRIGHTNESS_STRONG_INDEX 0x0B // 强光亮度索引
 135:Src/main.c    **** #define BAK_BRIGHTNESS_WEAK_INDEX 0x0C   // 弱光亮度索引
 136:Src/main.c    **** 
 137:Src/main.c    **** #define POWER_DOWN_IND_DATA                                                    \
 138:Src/main.c    ****   0xFA // 掉电标识数据（用于判断是否首次上电）
 139:Src/main.c    **** 
 140:Src/main.c    **** // NTC温度传感器相�?
 141:Src/main.c    **** #define TEMP_BUFFER_SIZE 8 // 温度读取缓存长度（用于滤波平均）
 142:Src/main.c    **** #define TEMP_MAP_SIZE 126  // 温度映射表长度（ADC值到温度的映射）
 143:Src/main.c    **** // 温度映射表：将ADC值映射到温度值（0-125℃）
 144:Src/main.c    **** const uint16_t tempertureMap[] = {
 145:Src/main.c    ****     1054, 1091, 1128, 1165, 1203, 1242, 1280, 1320, 1359, 1399, 1439, 1479,
 146:Src/main.c    ****     1520, 1560, 1601, 1642, 1683, 1724, 1765, 1805, 1846, 1887, 1927, 1968,
ARM GAS  D:\Temp\ccoXQ802.s 			page 4


 147:Src/main.c    ****     2008, 2048, 2087, 2126, 2165, 2204, 2242, 2280, 2318, 2355, 2391, 2427,
 148:Src/main.c    ****     2463, 2498, 2533, 2567, 2601, 2634, 2667, 2699, 2730, 2761, 2791, 2821,
 149:Src/main.c    ****     2850, 2879, 2907, 2935, 2962, 2988, 3014, 3040, 3064, 3089, 3113, 3136,
 150:Src/main.c    ****     3158, 3181, 3202, 3224, 3244, 3264, 3284, 3303, 3322, 3341, 3359, 3376,
 151:Src/main.c    ****     3393, 3410, 3426, 3442, 3457, 3472, 3487, 3501, 3515, 3529, 3542, 3555,
 152:Src/main.c    ****     3568, 3580, 3592, 3603, 3615, 3626, 3637, 3647, 3657, 3667, 3677, 3687,
 153:Src/main.c    ****     3696, 3705, 3714, 3722, 3730, 3739, 3747, 3754, 3762, 3769, 3776, 3783,
 154:Src/main.c    ****     3790, 3797, 3803, 3809, 3815, 3821, 3827, 3833, 3839, 3844, 3849, 3854,
 155:Src/main.c    ****     3859, 3864, 3869, 3874, 3878, 3883,
 156:Src/main.c    **** };
 157:Src/main.c    **** 
 158:Src/main.c    **** /* USER CODE END PM */
 159:Src/main.c    **** 
 160:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
 161:Src/main.c    **** 
 162:Src/main.c    **** /* USER CODE BEGIN PV */
 163:Src/main.c    **** // 当前显示模式
 164:Src/main.c    **** DisplayMode currentMode = MODE_SHOW_TIME;
 165:Src/main.c    **** bool isInitCompleted = false; // 初始化完成标�?
 166:Src/main.c    **** uint32_t
 167:Src/main.c    ****     lastDisplayChangeTime; // 上次显示切换时间（用于温�?/时间自动切换�?
 168:Src/main.c    **** 
 169:Src/main.c    **** // ADC采样值（0:光敏电阻�?1:温度传感器）
 170:Src/main.c    **** uint32_t adcValue[2];
 171:Src/main.c    **** 
 172:Src/main.c    **** // 亮度控制相关
 173:Src/main.c    **** uint8_t savedBrightness =
 174:Src/main.c    ****     0; // 保存的亮度值（0=自动�?1-8=手动�?
 175:Src/main.c    **** bool isWeakBrightness = true; // 当前是否为弱光模�?
 176:Src/main.c    **** uint8_t strongBrightness, weakBrightness; // 强光/弱光亮度�?
 177:Src/main.c    **** 
 178:Src/main.c    **** // 时间相关
 179:Src/main.c    **** DateTime time,
 180:Src/main.c    ****     lastTime; // 当前时间和上次设置的时间
 181:Src/main.c    **** uint8_t
 182:Src/main.c    ****     blinkControl; // 闪烁控制标志（用于设置模式下的闪烁显示）
 183:Src/main.c    **** 
 184:Src/main.c    **** // 闹钟相关
 185:Src/main.c    **** bool isAlarmEnabled = false; // 闹钟使能标志
 186:Src/main.c    **** bool isAlarmed = false,
 187:Src/main.c    ****      isAlarming = false;             // 已触发标志和正在响铃标志
 188:Src/main.c    **** uint8_t alarmHour = 0, alarmMin = 0; // 闹钟时间
 189:Src/main.c    **** 
 190:Src/main.c    **** // 整点报时相关
 191:Src/main.c    **** bool isRingOnTimeEnabled;                // 整点报时使能标志
 192:Src/main.c    **** uint8_t ringOnTimeStart, ringOnTimeStop; // 整点报时起止时间
 193:Src/main.c    **** uint8_t
 194:Src/main.c    ****     lastRingOnTimeHour; // 上次整点报时的小时（防止重复触发�?
 195:Src/main.c    **** uint32_t ringStartTime; // 整点报时开始时间戳
 196:Src/main.c    **** uint8_t lastChimeSecond =
 197:Src/main.c    ****     0xFF; // 上次整点报时的秒数（防止同一秒重复触发）
 198:Src/main.c    **** bool isChiming = false; // 正在整点报时标志
 199:Src/main.c    **** 
 200:Src/main.c    **** // 按键相关
 201:Src/main.c    **** uint32_t lastModeKeyPressTime, lastSetKeyPressTime,
 202:Src/main.c    ****     lastSetKeyPressReportTime;           // 按键按下时间�?
 203:Src/main.c    **** uint32_t alarmTimestamp, alarmBeepCount; // 闹钟定时器计�?
ARM GAS  D:\Temp\ccoXQ802.s 			page 5


 204:Src/main.c    **** bool setKeyRepeatReported = false; // 设置键重复触发标�?
 205:Src/main.c    **** 
 206:Src/main.c    **** // 温度相关
 207:Src/main.c    **** uint8_t temperture = 25; // 当前温度�?
 208:Src/main.c    **** uint8_t tempertureShowTime,
 209:Src/main.c    ****     tempertureHideTime; // 温度显示/隐藏时长（秒�?
 210:Src/main.c    **** uint8_t tempBuffered = 0; // 温度缓存计数
 211:Src/main.c    **** uint16_t
 212:Src/main.c    ****     tempBuffer[TEMP_BUFFER_SIZE +
 213:Src/main.c    ****                1]; // 温度采样缓存（用于滤波）
 214:Src/main.c    **** /* USER CODE END PV */
 215:Src/main.c    **** 
 216:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
 217:Src/main.c    **** void SystemClock_Config(void);
 218:Src/main.c    **** /* USER CODE BEGIN PFP */
 219:Src/main.c    **** 
 220:Src/main.c    **** /* USER CODE END PFP */
 221:Src/main.c    **** 
 222:Src/main.c    **** /* Private user code ---------------------------------------------------------*/
 223:Src/main.c    **** /* USER CODE BEGIN 0 */
 224:Src/main.c    **** /**
 225:Src/main.c    ****  * @brief  从RTC备份寄存器读取闹钟设�?
 226:Src/main.c    ****  * @note
 227:Src/main.c    ****  * 读取闹钟时间和使能状态，并进行合法性检�?
 228:Src/main.c    ****  * @param  None
 229:Src/main.c    ****  * @retval None
 230:Src/main.c    ****  */
 231:Src/main.c    **** void readBackupSettings() {
  27              		.loc 1 231 27 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
 232:Src/main.c    ****   uint8_t data[3];
  31              		.loc 1 232 3 view .LVU1
 233:Src/main.c    ****   ReadBackData(0, data,
  32              		.loc 1 233 3 view .LVU2
 231:Src/main.c    ****   uint8_t data[3];
  33              		.loc 1 231 27 is_stmt 0 view .LVU3
  34 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 24
  37              		.cfi_offset 0, -24
  38              		.cfi_offset 1, -20
  39              		.cfi_offset 4, -16
  40              		.cfi_offset 5, -12
  41              		.cfi_offset 6, -8
  42              		.cfi_offset 14, -4
  43              		.loc 1 233 3 view .LVU4
  44 0002 01AC     		add	r4, sp, #4
  45 0004 2100     		movs	r1, r4
  46 0006 0322     		movs	r2, #3
  47 0008 0020     		movs	r0, #0
  48 000a FFF7FEFF 		bl	ReadBackData
  49              	.LVL0:
 234:Src/main.c    ****                3); // 从备份寄存器读取3字节数据
 235:Src/main.c    **** 
 236:Src/main.c    ****   alarmHour = data[0];      // 闹钟小时
ARM GAS  D:\Temp\ccoXQ802.s 			page 6


  50              		.loc 1 236 3 is_stmt 1 view .LVU5
  51              		.loc 1 236 19 is_stmt 0 view .LVU6
  52 000e 2678     		ldrb	r6, [r4]
  53              		.loc 1 236 13 view .LVU7
  54 0010 094D     		ldr	r5, .L4
 237:Src/main.c    ****   alarmMin = data[1];       // 闹钟分钟
  55              		.loc 1 237 12 view .LVU8
  56 0012 0A49     		ldr	r1, .L4+4
 236:Src/main.c    ****   alarmMin = data[1];       // 闹钟分钟
  57              		.loc 1 236 13 view .LVU9
  58 0014 2E70     		strb	r6, [r5]
  59              		.loc 1 237 3 is_stmt 1 view .LVU10
  60              		.loc 1 237 18 is_stmt 0 view .LVU11
  61 0016 6078     		ldrb	r0, [r4, #1]
 238:Src/main.c    ****   isAlarmEnabled = data[2]; // 闹钟使能标志
  62              		.loc 1 238 18 view .LVU12
  63 0018 094B     		ldr	r3, .L4+8
 237:Src/main.c    ****   alarmMin = data[1];       // 闹钟分钟
  64              		.loc 1 237 12 view .LVU13
  65 001a 0870     		strb	r0, [r1]
  66              		.loc 1 238 3 is_stmt 1 view .LVU14
  67              		.loc 1 238 24 is_stmt 0 view .LVU15
  68 001c A278     		ldrb	r2, [r4, #2]
  69 001e 541E     		subs	r4, r2, #1
  70 0020 A241     		sbcs	r2, r2, r4
  71 0022 1A70     		strb	r2, [r3]
 239:Src/main.c    **** 
 240:Src/main.c    ****   // 检查读取的数据是否合法，不合法则重置为0
 241:Src/main.c    ****   if (alarmHour > 23)
  72              		.loc 1 241 3 is_stmt 1 view .LVU16
  73              		.loc 1 241 6 is_stmt 0 view .LVU17
  74 0024 172E     		cmp	r6, #23
  75 0026 01D9     		bls	.L2
 242:Src/main.c    ****     alarmHour = 0;
  76              		.loc 1 242 5 is_stmt 1 view .LVU18
  77              		.loc 1 242 15 is_stmt 0 view .LVU19
  78 0028 0023     		movs	r3, #0
  79 002a 2B70     		strb	r3, [r5]
  80              	.L2:
 243:Src/main.c    ****   if (alarmMin > 59)
  81              		.loc 1 243 3 is_stmt 1 view .LVU20
  82              		.loc 1 243 6 is_stmt 0 view .LVU21
  83 002c 3B28     		cmp	r0, #59
  84 002e 01D9     		bls	.L1
 244:Src/main.c    ****     alarmMin = 0;
  85              		.loc 1 244 5 is_stmt 1 view .LVU22
  86              		.loc 1 244 14 is_stmt 0 view .LVU23
  87 0030 0023     		movs	r3, #0
  88 0032 0B70     		strb	r3, [r1]
  89              	.L1:
 245:Src/main.c    **** }
  90              		.loc 1 245 1 view .LVU24
  91              		@ sp needed
  92 0034 73BD     		pop	{r0, r1, r4, r5, r6, pc}
  93              	.L5:
  94 0036 C046     		.align	2
  95              	.L4:
ARM GAS  D:\Temp\ccoXQ802.s 			page 7


  96 0038 00000000 		.word	alarmHour
  97 003c 00000000 		.word	alarmMin
  98 0040 00000000 		.word	isAlarmEnabled
  99              		.cfi_endproc
 100              	.LFE37:
 102              		.section	.text.saveSettings,"ax",%progbits
 103              		.align	1
 104              		.global	saveSettings
 105              		.syntax unified
 106              		.code	16
 107              		.thumb_func
 109              	saveSettings:
 110              	.LFB38:
 246:Src/main.c    **** 
 247:Src/main.c    **** /**
 248:Src/main.c    ****  * @brief  保存所有设置到RTC备份寄存�?
 249:Src/main.c    ****  * @note
 250:Src/main.c    ****  * 将闹钟、温度显示、整点报时、亮度等设置保存到备份寄存器
 251:Src/main.c    ****  *         掉电后数据不会丢�?
 252:Src/main.c    ****  * @param  None
 253:Src/main.c    ****  * @retval None
 254:Src/main.c    ****  */
 255:Src/main.c    **** void saveSettings() {
 111              		.loc 1 255 21 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 16
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 256:Src/main.c    ****   uint8_t data[BAK_DATA_SIZE] = {
 115              		.loc 1 256 3 view .LVU26
 255:Src/main.c    ****   uint8_t data[BAK_DATA_SIZE] = {
 116              		.loc 1 255 21 is_stmt 0 view .LVU27
 117 0000 1FB5     		push	{r0, r1, r2, r3, r4, lr}
 118              	.LCFI1:
 119              		.cfi_def_cfa_offset 24
 120              		.cfi_offset 0, -24
 121              		.cfi_offset 1, -20
 122              		.cfi_offset 2, -16
 123              		.cfi_offset 3, -12
 124              		.cfi_offset 4, -8
 125              		.cfi_offset 14, -4
 126              		.loc 1 256 11 view .LVU28
 127 0002 6A46     		mov	r2, sp
 128 0004 144B     		ldr	r3, .L7
 257:Src/main.c    ****       POWER_DOWN_IND_DATA, // [0]
 258:Src/main.c    ****                            // 掉电标识（用于判断是否首次上电）
 259:Src/main.c    ****       POWER_DOWN_IND_DATA, // [1] 掉电标识（冗余）
 260:Src/main.c    ****       isAlarmEnabled,      // [2] 闹钟使能标志
 261:Src/main.c    ****       alarmHour,           // [3] 闹钟小时
 262:Src/main.c    ****       alarmMin,            // [4] 闹钟分钟
 263:Src/main.c    ****       tempertureShowTime,  // [5] 温度显示时长
 264:Src/main.c    ****       tempertureHideTime,  // [6] 温度隐藏时长
 265:Src/main.c    ****       isRingOnTimeEnabled, // [7] 整点报时使能标志
 266:Src/main.c    ****       ringOnTimeStart,     // [8] 整点报时开始时�?
 267:Src/main.c    ****       ringOnTimeStop,      // [9] 整点报时结束时间
 268:Src/main.c    ****       savedBrightness,     // [10]
 269:Src/main.c    ****                        // 亮度设置�?0=自动�?1-8=手动�?
 270:Src/main.c    ****       strongBrightness, // [11] 强光亮度�?
ARM GAS  D:\Temp\ccoXQ802.s 			page 8


 271:Src/main.c    ****       weakBrightness,   // [12] 弱光亮度�?
 272:Src/main.c    ****   };
 273:Src/main.c    ****   WriteBackData(0, data, BAK_DATA_SIZE); // 写入备份寄存�?
 129              		.loc 1 273 3 view .LVU29
 130 0006 6946     		mov	r1, sp
 256:Src/main.c    ****       POWER_DOWN_IND_DATA, // [0]
 131              		.loc 1 256 11 view .LVU30
 132 0008 1380     		strh	r3, [r2]
 133 000a 144B     		ldr	r3, .L7+4
 134              		.loc 1 273 3 view .LVU31
 135 000c 0020     		movs	r0, #0
 256:Src/main.c    ****       POWER_DOWN_IND_DATA, // [0]
 136              		.loc 1 256 11 view .LVU32
 137 000e 1B78     		ldrb	r3, [r3]
 138 0010 9370     		strb	r3, [r2, #2]
 139 0012 134B     		ldr	r3, .L7+8
 140 0014 1B78     		ldrb	r3, [r3]
 141 0016 D370     		strb	r3, [r2, #3]
 142 0018 124B     		ldr	r3, .L7+12
 143 001a 1B78     		ldrb	r3, [r3]
 144 001c 1371     		strb	r3, [r2, #4]
 145 001e 124B     		ldr	r3, .L7+16
 146 0020 1B78     		ldrb	r3, [r3]
 147 0022 5371     		strb	r3, [r2, #5]
 148 0024 114B     		ldr	r3, .L7+20
 149 0026 1B78     		ldrb	r3, [r3]
 150 0028 9371     		strb	r3, [r2, #6]
 151 002a 114B     		ldr	r3, .L7+24
 152 002c 1B78     		ldrb	r3, [r3]
 153 002e D371     		strb	r3, [r2, #7]
 154 0030 104B     		ldr	r3, .L7+28
 155 0032 1B78     		ldrb	r3, [r3]
 156 0034 1372     		strb	r3, [r2, #8]
 157 0036 104B     		ldr	r3, .L7+32
 158 0038 1B78     		ldrb	r3, [r3]
 159 003a 5372     		strb	r3, [r2, #9]
 160 003c 0F4B     		ldr	r3, .L7+36
 161 003e 1B78     		ldrb	r3, [r3]
 162 0040 9372     		strb	r3, [r2, #10]
 163 0042 0F4B     		ldr	r3, .L7+40
 164 0044 1B78     		ldrb	r3, [r3]
 165 0046 D372     		strb	r3, [r2, #11]
 166 0048 0E4B     		ldr	r3, .L7+44
 167 004a 1B78     		ldrb	r3, [r3]
 168 004c 1373     		strb	r3, [r2, #12]
 169              		.loc 1 273 3 is_stmt 1 view .LVU33
 170 004e 0D22     		movs	r2, #13
 171 0050 FFF7FEFF 		bl	WriteBackData
 172              	.LVL1:
 274:Src/main.c    **** }
 173              		.loc 1 274 1 is_stmt 0 view .LVU34
 174 0054 05B0     		add	sp, sp, #20
 175              		@ sp needed
 176 0056 00BD     		pop	{pc}
 177              	.L8:
 178              		.align	2
 179              	.L7:
ARM GAS  D:\Temp\ccoXQ802.s 			page 9


 180 0058 FAFAFFFF 		.word	-1286
 181 005c 00000000 		.word	isAlarmEnabled
 182 0060 00000000 		.word	alarmHour
 183 0064 00000000 		.word	alarmMin
 184 0068 00000000 		.word	tempertureShowTime
 185 006c 00000000 		.word	tempertureHideTime
 186 0070 00000000 		.word	isRingOnTimeEnabled
 187 0074 00000000 		.word	ringOnTimeStart
 188 0078 00000000 		.word	ringOnTimeStop
 189 007c 00000000 		.word	savedBrightness
 190 0080 00000000 		.word	strongBrightness
 191 0084 00000000 		.word	weakBrightness
 192              		.cfi_endproc
 193              	.LFE38:
 195              		.section	.text.resetSettings,"ax",%progbits
 196              		.align	1
 197              		.global	resetSettings
 198              		.syntax unified
 199              		.code	16
 200              		.thumb_func
 202              	resetSettings:
 203              	.LFB39:
 275:Src/main.c    **** 
 276:Src/main.c    **** /**
 277:Src/main.c    ****  * @brief  重置所有设置为默认�?
 278:Src/main.c    ****  * @note
 279:Src/main.c    ****  * 首次上电或数据异常时调用，恢复出厂设�?
 280:Src/main.c    ****  * @param  None
 281:Src/main.c    ****  * @retval None
 282:Src/main.c    ****  */
 283:Src/main.c    **** void resetSettings() {
 204              		.loc 1 283 22 is_stmt 1 view -0
 205              		.cfi_startproc
 206              		@ args = 0, pretend = 0, frame = 0
 207              		@ frame_needed = 0, uses_anonymous_args = 0
 208              		@ link register save eliminated.
 284:Src/main.c    ****   isAlarmEnabled = false; // 闹钟默认关闭
 209              		.loc 1 284 3 view .LVU36
 210              		.loc 1 284 18 is_stmt 0 view .LVU37
 211 0000 0023     		movs	r3, #0
 285:Src/main.c    ****   alarmHour = 0;          // 闹钟时间 00:00
 286:Src/main.c    ****   alarmMin = 0;
 287:Src/main.c    ****   tempertureShowTime = 2;      // 温度显示2�?
 288:Src/main.c    ****   tempertureHideTime = 10;     // 温度隐藏10�?
 289:Src/main.c    ****   isRingOnTimeEnabled = false; // 整点报时默认关闭
 290:Src/main.c    ****   ringOnTimeStart = 8;         // 整点报时时间�? 8:00-20:00
 291:Src/main.c    ****   ringOnTimeStop = 20;
 292:Src/main.c    ****   savedBrightness = 8;  // 默认手动最高亮�?
 293:Src/main.c    ****   strongBrightness = 8; // 强光亮度8�?
 294:Src/main.c    ****   weakBrightness = 1;   // 弱光亮度1�?
 295:Src/main.c    **** }
 212              		.loc 1 295 1 view .LVU38
 213              		@ sp needed
 287:Src/main.c    ****   tempertureHideTime = 10;     // 温度隐藏10�?
 214              		.loc 1 287 22 view .LVU39
 215 0002 0221     		movs	r1, #2
 284:Src/main.c    ****   isAlarmEnabled = false; // 闹钟默认关闭
ARM GAS  D:\Temp\ccoXQ802.s 			page 10


 216              		.loc 1 284 18 view .LVU40
 217 0004 0D4A     		ldr	r2, .L10
 218 0006 1370     		strb	r3, [r2]
 285:Src/main.c    ****   alarmHour = 0;          // 闹钟时间 00:00
 219              		.loc 1 285 3 is_stmt 1 view .LVU41
 285:Src/main.c    ****   alarmHour = 0;          // 闹钟时间 00:00
 220              		.loc 1 285 13 is_stmt 0 view .LVU42
 221 0008 0D4A     		ldr	r2, .L10+4
 222 000a 1370     		strb	r3, [r2]
 286:Src/main.c    ****   tempertureShowTime = 2;      // 温度显示2�?
 223              		.loc 1 286 3 is_stmt 1 view .LVU43
 286:Src/main.c    ****   tempertureShowTime = 2;      // 温度显示2�?
 224              		.loc 1 286 12 is_stmt 0 view .LVU44
 225 000c 0D4A     		ldr	r2, .L10+8
 226 000e 1370     		strb	r3, [r2]
 287:Src/main.c    ****   tempertureHideTime = 10;     // 温度隐藏10�?
 227              		.loc 1 287 3 is_stmt 1 view .LVU45
 287:Src/main.c    ****   tempertureHideTime = 10;     // 温度隐藏10�?
 228              		.loc 1 287 22 is_stmt 0 view .LVU46
 229 0010 0D4A     		ldr	r2, .L10+12
 230 0012 1170     		strb	r1, [r2]
 288:Src/main.c    ****   isRingOnTimeEnabled = false; // 整点报时默认关闭
 231              		.loc 1 288 3 is_stmt 1 view .LVU47
 288:Src/main.c    ****   isRingOnTimeEnabled = false; // 整点报时默认关闭
 232              		.loc 1 288 22 is_stmt 0 view .LVU48
 233 0014 0D4A     		ldr	r2, .L10+16
 234 0016 0831     		adds	r1, r1, #8
 235 0018 1170     		strb	r1, [r2]
 289:Src/main.c    ****   ringOnTimeStart = 8;         // 整点报时时间�? 8:00-20:00
 236              		.loc 1 289 3 is_stmt 1 view .LVU49
 289:Src/main.c    ****   ringOnTimeStart = 8;         // 整点报时时间�? 8:00-20:00
 237              		.loc 1 289 23 is_stmt 0 view .LVU50
 238 001a 0D4A     		ldr	r2, .L10+20
 291:Src/main.c    ****   savedBrightness = 8;  // 默认手动最高亮�?
 239              		.loc 1 291 18 view .LVU51
 240 001c 0A31     		adds	r1, r1, #10
 289:Src/main.c    ****   ringOnTimeStart = 8;         // 整点报时时间�? 8:00-20:00
 241              		.loc 1 289 23 view .LVU52
 242 001e 1370     		strb	r3, [r2]
 290:Src/main.c    ****   ringOnTimeStop = 20;
 243              		.loc 1 290 3 is_stmt 1 view .LVU53
 290:Src/main.c    ****   ringOnTimeStop = 20;
 244              		.loc 1 290 19 is_stmt 0 view .LVU54
 245 0020 0C4A     		ldr	r2, .L10+24
 246 0022 0833     		adds	r3, r3, #8
 247 0024 1370     		strb	r3, [r2]
 291:Src/main.c    ****   savedBrightness = 8;  // 默认手动最高亮�?
 248              		.loc 1 291 3 is_stmt 1 view .LVU55
 291:Src/main.c    ****   savedBrightness = 8;  // 默认手动最高亮�?
 249              		.loc 1 291 18 is_stmt 0 view .LVU56
 250 0026 0C4A     		ldr	r2, .L10+28
 251 0028 1170     		strb	r1, [r2]
 292:Src/main.c    ****   strongBrightness = 8; // 强光亮度8�?
 252              		.loc 1 292 3 is_stmt 1 view .LVU57
 292:Src/main.c    ****   strongBrightness = 8; // 强光亮度8�?
 253              		.loc 1 292 19 is_stmt 0 view .LVU58
 254 002a 0C4A     		ldr	r2, .L10+32
ARM GAS  D:\Temp\ccoXQ802.s 			page 11


 255 002c 1370     		strb	r3, [r2]
 293:Src/main.c    ****   weakBrightness = 1;   // 弱光亮度1�?
 256              		.loc 1 293 3 is_stmt 1 view .LVU59
 293:Src/main.c    ****   weakBrightness = 1;   // 弱光亮度1�?
 257              		.loc 1 293 20 is_stmt 0 view .LVU60
 258 002e 0C4A     		ldr	r2, .L10+36
 259 0030 1370     		strb	r3, [r2]
 294:Src/main.c    **** }
 260              		.loc 1 294 3 is_stmt 1 view .LVU61
 294:Src/main.c    **** }
 261              		.loc 1 294 18 is_stmt 0 view .LVU62
 262 0032 0122     		movs	r2, #1
 263 0034 0B4B     		ldr	r3, .L10+40
 264 0036 1A70     		strb	r2, [r3]
 265              		.loc 1 295 1 view .LVU63
 266 0038 7047     		bx	lr
 267              	.L11:
 268 003a C046     		.align	2
 269              	.L10:
 270 003c 00000000 		.word	isAlarmEnabled
 271 0040 00000000 		.word	alarmHour
 272 0044 00000000 		.word	alarmMin
 273 0048 00000000 		.word	tempertureShowTime
 274 004c 00000000 		.word	tempertureHideTime
 275 0050 00000000 		.word	isRingOnTimeEnabled
 276 0054 00000000 		.word	ringOnTimeStart
 277 0058 00000000 		.word	ringOnTimeStop
 278 005c 00000000 		.word	savedBrightness
 279 0060 00000000 		.word	strongBrightness
 280 0064 00000000 		.word	weakBrightness
 281              		.cfi_endproc
 282              	.LFE39:
 284              		.global	__aeabi_uidivmod
 285              		.global	__aeabi_idivmod
 286              		.section	.text.checkRingOnTime,"ax",%progbits
 287              		.align	1
 288              		.global	checkRingOnTime
 289              		.syntax unified
 290              		.code	16
 291              		.thumb_func
 293              	checkRingOnTime:
 294              	.LFB40:
 296:Src/main.c    **** 
 297:Src/main.c    **** /**
 298:Src/main.c    ****  * @brief  检查并触发整点报时
 299:Src/main.c    ****  * @note
 300:Src/main.c    ****  * 新逻辑：从每小时的59�?55秒开始，每秒响一次短音（100ms�?
 301:Src/main.c    ****  *         一直到下个小时�?00�?00秒，�?6�?
 302:Src/main.c    ****  *         最后一次（00:00）响长音�?1000ms�?
 303:Src/main.c    ****  *         避免与闹钟冲�?
 304:Src/main.c    ****  * @param  None
 305:Src/main.c    ****  * @retval None
 306:Src/main.c    ****  */
 307:Src/main.c    **** void checkRingOnTime() {
 295              		.loc 1 307 24 is_stmt 1 view -0
 296              		.cfi_startproc
 297              		@ args = 0, pretend = 0, frame = 0
ARM GAS  D:\Temp\ccoXQ802.s 			page 12


 298              		@ frame_needed = 0, uses_anonymous_args = 0
 308:Src/main.c    ****   // 检查整点报时是否开�?
 309:Src/main.c    ****   if (!isRingOnTimeEnabled) {
 299              		.loc 1 309 3 view .LVU65
 300              		.loc 1 309 7 is_stmt 0 view .LVU66
 301 0000 3C4B     		ldr	r3, .L41
 307:Src/main.c    ****   // 检查整点报时是否开�?
 302              		.loc 1 307 24 view .LVU67
 303 0002 70B5     		push	{r4, r5, r6, lr}
 304              	.LCFI2:
 305              		.cfi_def_cfa_offset 16
 306              		.cfi_offset 4, -16
 307              		.cfi_offset 5, -12
 308              		.cfi_offset 6, -8
 309              		.cfi_offset 14, -4
 310              		.loc 1 309 6 view .LVU68
 311 0004 1B78     		ldrb	r3, [r3]
 312 0006 002B     		cmp	r3, #0
 313 0008 16D0     		beq	.L12
 314              	.LBB14:
 315              	.LBI14:
 307:Src/main.c    ****   // 检查整点报时是否开�?
 316              		.loc 1 307 6 is_stmt 1 view .LVU69
 317              	.LBB15:
 310:Src/main.c    ****     return;
 311:Src/main.c    ****   }
 312:Src/main.c    **** 
 313:Src/main.c    ****   // 整点报时逻辑�?59�?55秒到00�?00秒，�?6�?
 314:Src/main.c    ****   if (time.minutes == 59 && time.seconds >= 55) {
 318              		.loc 1 314 3 view .LVU70
 319              		.loc 1 314 11 is_stmt 0 view .LVU71
 320 000a 3B4C     		ldr	r4, .L41+4
 321 000c 6378     		ldrb	r3, [r4, #1]
 322              		.loc 1 314 33 discriminator 1 view .LVU72
 323 000e 2578     		ldrb	r5, [r4]
 324              		.loc 1 314 6 view .LVU73
 325 0010 3B2B     		cmp	r3, #59
 326 0012 34D1     		bne	.L14
 327              		.loc 1 314 26 discriminator 1 view .LVU74
 328 0014 362D     		cmp	r5, #54
 329 0016 67D9     		bls	.L15
 330              	.LBB16:
 315:Src/main.c    ****     // 倒计时阶段：55秒�?56秒�?57秒�?58秒�?59秒（短音�?
 316:Src/main.c    ****     // 需要检查下一个小时是否在报时范围内
 317:Src/main.c    ****     uint8_t nextHour = (time.hours + 1) % 24;
 331              		.loc 1 317 5 is_stmt 1 view .LVU75
 332              		.loc 1 317 29 is_stmt 0 view .LVU76
 333 0018 E078     		ldrb	r0, [r4, #3]
 334              		.loc 1 317 41 view .LVU77
 335 001a 1821     		movs	r1, #24
 336              		.loc 1 317 36 view .LVU78
 337 001c 0130     		adds	r0, r0, #1
 338              		.loc 1 317 41 view .LVU79
 339 001e FFF7FEFF 		bl	__aeabi_idivmod
 340              	.LVL2:
 318:Src/main.c    ****     bool inTimeRange = false;
 319:Src/main.c    ****     if (ringOnTimeStart <= ringOnTimeStop) {
ARM GAS  D:\Temp\ccoXQ802.s 			page 13


 341              		.loc 1 319 25 view .LVU80
 342 0022 364B     		ldr	r3, .L41+8
 317:Src/main.c    ****     bool inTimeRange = false;
 343              		.loc 1 317 13 view .LVU81
 344 0024 C9B2     		uxtb	r1, r1
 345              	.LVL3:
 318:Src/main.c    ****     bool inTimeRange = false;
 346              		.loc 1 318 5 is_stmt 1 view .LVU82
 347              		.loc 1 319 5 view .LVU83
 348              		.loc 1 319 25 is_stmt 0 view .LVU84
 349 0026 1A78     		ldrb	r2, [r3]
 350 0028 354B     		ldr	r3, .L41+12
 351 002a 1B78     		ldrb	r3, [r3]
 352              		.loc 1 319 8 view .LVU85
 353 002c 9A42     		cmp	r2, r3
 354 002e 04D8     		bhi	.L16
 320:Src/main.c    ****       // 正常时间段（�?8:00-20:00�?
 321:Src/main.c    ****       inTimeRange =
 355              		.loc 1 321 7 is_stmt 1 view .LVU86
 322:Src/main.c    ****           (nextHour >= ringOnTimeStart && nextHour <= ringOnTimeStop);
 356              		.loc 1 322 40 is_stmt 0 view .LVU87
 357 0030 9142     		cmp	r1, r2
 358 0032 01D3     		bcc	.L12
 359              	.L38:
 323:Src/main.c    ****     } else {
 324:Src/main.c    ****       // 跨天时间段（�?22:00-6:00�?
 325:Src/main.c    ****       inTimeRange =
 326:Src/main.c    ****           (nextHour >= ringOnTimeStart || nextHour <= ringOnTimeStop);
 360              		.loc 1 326 40 discriminator 2 view .LVU88
 361 0034 9942     		cmp	r1, r3
 362 0036 02D9     		bls	.L17
 363              	.LVL4:
 364              	.L12:
 365              		.loc 1 326 40 discriminator 2 view .LVU89
 366              	.LBE16:
 367              	.LBE15:
 368              	.LBE14:
 327:Src/main.c    ****     }
 328:Src/main.c    **** 
 329:Src/main.c    ****     if (!inTimeRange) {
 330:Src/main.c    ****       return;
 331:Src/main.c    ****     }
 332:Src/main.c    **** 
 333:Src/main.c    ****     // 避免与闹钟冲突：如果闹钟开启且设置在下一个整点，则不报时
 334:Src/main.c    ****     if (isAlarmEnabled && alarmMin == 0 && alarmHour == nextHour) {
 335:Src/main.c    ****       return;
 336:Src/main.c    ****     }
 337:Src/main.c    **** 
 338:Src/main.c    ****     if (lastChimeSecond != time.seconds) {
 339:Src/main.c    ****       // 短音�?100ms
 340:Src/main.c    ****       ringStartTime = HAL_GetTick();
 341:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 342:Src/main.c    ****       isChiming = true;
 343:Src/main.c    ****       lastChimeSecond = time.seconds;
 344:Src/main.c    ****     }
 345:Src/main.c    ****   } else if (time.minutes == 0 && time.seconds == 0) {
 346:Src/main.c    ****     // 整点�?00�?00秒（长音�?
ARM GAS  D:\Temp\ccoXQ802.s 			page 14


 347:Src/main.c    ****     // 检查当前小时是否在报时范围内
 348:Src/main.c    ****     bool inTimeRange = false;
 349:Src/main.c    ****     if (ringOnTimeStart <= ringOnTimeStop) {
 350:Src/main.c    ****       // 正常时间段（�?8:00-20:00�?
 351:Src/main.c    ****       inTimeRange =
 352:Src/main.c    ****           (time.hours >= ringOnTimeStart && time.hours <= ringOnTimeStop);
 353:Src/main.c    ****     } else {
 354:Src/main.c    ****       // 跨天时间段（�?22:00-6:00�?
 355:Src/main.c    ****       inTimeRange =
 356:Src/main.c    ****           (time.hours >= ringOnTimeStart || time.hours <= ringOnTimeStop);
 357:Src/main.c    ****     }
 358:Src/main.c    **** 
 359:Src/main.c    ****     if (!inTimeRange) {
 360:Src/main.c    ****       return;
 361:Src/main.c    ****     }
 362:Src/main.c    **** 
 363:Src/main.c    ****     // 避免与闹钟冲突：如果闹钟开启且设置在整点，则不报时
 364:Src/main.c    ****     if (isAlarmEnabled && alarmMin == 0 && alarmHour == time.hours) {
 365:Src/main.c    ****       return;
 366:Src/main.c    ****     }
 367:Src/main.c    **** 
 368:Src/main.c    ****     if (lastChimeSecond != 0) {
 369:Src/main.c    ****       // 长音�?1000ms
 370:Src/main.c    ****       ringStartTime = HAL_GetTick();
 371:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 372:Src/main.c    ****       isChiming = true;
 373:Src/main.c    ****       lastChimeSecond = 0;
 374:Src/main.c    ****       lastRingOnTimeHour = time.hours; // 记录已报时的小时
 375:Src/main.c    ****     }
 376:Src/main.c    ****   } else {
 377:Src/main.c    ****     // 其他时间，重置秒数标�?
 378:Src/main.c    ****     if (time.seconds > 0) {
 379:Src/main.c    ****       lastChimeSecond = 0xFF;
 380:Src/main.c    ****     }
 381:Src/main.c    ****   }
 382:Src/main.c    **** }
 369              		.loc 1 382 1 view .LVU90
 370              		@ sp needed
 371 0038 70BD     		pop	{r4, r5, r6, pc}
 372              	.LVL5:
 373              	.L16:
 374              	.LBB22:
 375              	.LBB21:
 376              	.LBB17:
 325:Src/main.c    ****           (nextHour >= ringOnTimeStart || nextHour <= ringOnTimeStop);
 377              		.loc 1 325 7 is_stmt 1 view .LVU91
 326:Src/main.c    ****     }
 378              		.loc 1 326 40 is_stmt 0 view .LVU92
 379 003a 9142     		cmp	r1, r2
 380 003c FAD3     		bcc	.L38
 381              	.L17:
 382              	.LVL6:
 334:Src/main.c    ****       return;
 383              		.loc 1 334 5 is_stmt 1 view .LVU93
 334:Src/main.c    ****       return;
 384              		.loc 1 334 9 is_stmt 0 view .LVU94
 385 003e 314B     		ldr	r3, .L41+16
ARM GAS  D:\Temp\ccoXQ802.s 			page 15


 334:Src/main.c    ****       return;
 386              		.loc 1 334 8 view .LVU95
 387 0040 1B78     		ldrb	r3, [r3]
 388 0042 002B     		cmp	r3, #0
 389 0044 07D0     		beq	.L18
 334:Src/main.c    ****       return;
 390              		.loc 1 334 36 discriminator 1 view .LVU96
 391 0046 304B     		ldr	r3, .L41+20
 334:Src/main.c    ****       return;
 392              		.loc 1 334 24 discriminator 1 view .LVU97
 393 0048 1B78     		ldrb	r3, [r3]
 394 004a 002B     		cmp	r3, #0
 395 004c 03D1     		bne	.L18
 334:Src/main.c    ****       return;
 396              		.loc 1 334 54 discriminator 2 view .LVU98
 397 004e 2F4B     		ldr	r3, .L41+24
 334:Src/main.c    ****       return;
 398              		.loc 1 334 41 discriminator 2 view .LVU99
 399 0050 1B78     		ldrb	r3, [r3]
 400 0052 8B42     		cmp	r3, r1
 401 0054 F0D0     		beq	.L12
 402              	.L18:
 338:Src/main.c    ****       // 短音�?100ms
 403              		.loc 1 338 5 is_stmt 1 view .LVU100
 338:Src/main.c    ****       // 短音�?100ms
 404              		.loc 1 338 25 is_stmt 0 view .LVU101
 405 0056 2E4E     		ldr	r6, .L41+28
 338:Src/main.c    ****       // 短音�?100ms
 406              		.loc 1 338 8 view .LVU102
 407 0058 3378     		ldrb	r3, [r6]
 408 005a AB42     		cmp	r3, r5
 409 005c ECD0     		beq	.L12
 340:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 410              		.loc 1 340 7 is_stmt 1 view .LVU103
 340:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 411              		.loc 1 340 23 is_stmt 0 view .LVU104
 412 005e FFF7FEFF 		bl	HAL_GetTick
 413              	.LVL7:
 340:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 414              		.loc 1 340 21 discriminator 1 view .LVU105
 415 0062 2C4B     		ldr	r3, .L41+32
 341:Src/main.c    ****       isChiming = true;
 416              		.loc 1 341 7 view .LVU106
 417 0064 0022     		movs	r2, #0
 340:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 418              		.loc 1 340 21 discriminator 1 view .LVU107
 419 0066 1860     		str	r0, [r3]
 341:Src/main.c    ****       isChiming = true;
 420              		.loc 1 341 7 is_stmt 1 view .LVU108
 421 0068 9020     		movs	r0, #144
 422 006a 4021     		movs	r1, #64
 423 006c C005     		lsls	r0, r0, #23
 424 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 425              	.LVL8:
 342:Src/main.c    ****       lastChimeSecond = time.seconds;
 426              		.loc 1 342 7 view .LVU109
 342:Src/main.c    ****       lastChimeSecond = time.seconds;
ARM GAS  D:\Temp\ccoXQ802.s 			page 16


 427              		.loc 1 342 17 is_stmt 0 view .LVU110
 428 0072 0122     		movs	r2, #1
 429 0074 284B     		ldr	r3, .L41+36
 430 0076 1A70     		strb	r2, [r3]
 343:Src/main.c    ****     }
 431              		.loc 1 343 7 is_stmt 1 view .LVU111
 343:Src/main.c    ****     }
 432              		.loc 1 343 23 is_stmt 0 view .LVU112
 433 0078 2378     		ldrb	r3, [r4]
 434 007a 3370     		strb	r3, [r6]
 435 007c DCE7     		b	.L12
 436              	.LVL9:
 437              	.L14:
 343:Src/main.c    ****     }
 438              		.loc 1 343 23 view .LVU113
 439              	.LBE17:
 345:Src/main.c    ****     // 整点�?00�?00秒（长音�?
 440              		.loc 1 345 10 is_stmt 1 view .LVU114
 345:Src/main.c    ****     // 整点�?00�?00秒（长音�?
 441              		.loc 1 345 13 is_stmt 0 view .LVU115
 442 007e 002B     		cmp	r3, #0
 443 0080 32D1     		bne	.L15
 345:Src/main.c    ****     // 整点�?00�?00秒（长音�?
 444              		.loc 1 345 32 discriminator 1 view .LVU116
 445 0082 002D     		cmp	r5, #0
 446 0084 32D1     		bne	.L19
 447              	.LBB18:
 348:Src/main.c    ****     if (ringOnTimeStart <= ringOnTimeStop) {
 448              		.loc 1 348 5 is_stmt 1 view .LVU117
 449              	.LVL10:
 349:Src/main.c    ****       // 正常时间段（�?8:00-20:00�?
 450              		.loc 1 349 5 view .LVU118
 349:Src/main.c    ****       // 正常时间段（�?8:00-20:00�?
 451              		.loc 1 349 25 is_stmt 0 view .LVU119
 452 0086 1D4B     		ldr	r3, .L41+8
 453 0088 1978     		ldrb	r1, [r3]
 454 008a 1D4B     		ldr	r3, .L41+12
 455 008c 1A78     		ldrb	r2, [r3]
 456              	.LBE18:
 457              	.LBB19:
 317:Src/main.c    ****     bool inTimeRange = false;
 458              		.loc 1 317 29 view .LVU120
 459 008e E378     		ldrb	r3, [r4, #3]
 460              	.LBE19:
 461              	.LBB20:
 349:Src/main.c    ****       // 正常时间段（�?8:00-20:00�?
 462              		.loc 1 349 8 view .LVU121
 463 0090 9142     		cmp	r1, r2
 464 0092 04D8     		bhi	.L20
 351:Src/main.c    ****           (time.hours >= ringOnTimeStart && time.hours <= ringOnTimeStop);
 465              		.loc 1 351 7 is_stmt 1 view .LVU122
 352:Src/main.c    ****     } else {
 466              		.loc 1 352 42 is_stmt 0 view .LVU123
 467 0094 9942     		cmp	r1, r3
 468 0096 CFD8     		bhi	.L12
 469              	.L39:
 356:Src/main.c    ****     }
ARM GAS  D:\Temp\ccoXQ802.s 			page 17


 470              		.loc 1 356 42 discriminator 2 view .LVU124
 471 0098 9A42     		cmp	r2, r3
 472 009a 02D2     		bcs	.L21
 473 009c CCE7     		b	.L12
 474              	.L20:
 355:Src/main.c    ****           (time.hours >= ringOnTimeStart || time.hours <= ringOnTimeStop);
 475              		.loc 1 355 7 is_stmt 1 view .LVU125
 356:Src/main.c    ****     }
 476              		.loc 1 356 42 is_stmt 0 view .LVU126
 477 009e 9942     		cmp	r1, r3
 478 00a0 FAD8     		bhi	.L39
 479              	.L21:
 480              	.LVL11:
 364:Src/main.c    ****       return;
 481              		.loc 1 364 5 is_stmt 1 view .LVU127
 364:Src/main.c    ****       return;
 482              		.loc 1 364 9 is_stmt 0 view .LVU128
 483 00a2 184A     		ldr	r2, .L41+16
 364:Src/main.c    ****       return;
 484              		.loc 1 364 8 view .LVU129
 485 00a4 1278     		ldrb	r2, [r2]
 486 00a6 002A     		cmp	r2, #0
 487 00a8 07D0     		beq	.L22
 364:Src/main.c    ****       return;
 488              		.loc 1 364 36 discriminator 1 view .LVU130
 489 00aa 174A     		ldr	r2, .L41+20
 364:Src/main.c    ****       return;
 490              		.loc 1 364 24 discriminator 1 view .LVU131
 491 00ac 1278     		ldrb	r2, [r2]
 492 00ae 002A     		cmp	r2, #0
 493 00b0 03D1     		bne	.L22
 364:Src/main.c    ****       return;
 494              		.loc 1 364 54 discriminator 2 view .LVU132
 495 00b2 164A     		ldr	r2, .L41+24
 364:Src/main.c    ****       return;
 496              		.loc 1 364 41 discriminator 2 view .LVU133
 497 00b4 1278     		ldrb	r2, [r2]
 498 00b6 9A42     		cmp	r2, r3
 499 00b8 BED0     		beq	.L12
 500              	.L22:
 368:Src/main.c    ****       // 长音�?1000ms
 501              		.loc 1 368 5 is_stmt 1 view .LVU134
 368:Src/main.c    ****       // 长音�?1000ms
 502              		.loc 1 368 25 is_stmt 0 view .LVU135
 503 00ba 154D     		ldr	r5, .L41+28
 368:Src/main.c    ****       // 长音�?1000ms
 504              		.loc 1 368 8 view .LVU136
 505 00bc 2B78     		ldrb	r3, [r5]
 506 00be 002B     		cmp	r3, #0
 507 00c0 BAD0     		beq	.L12
 370:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 508              		.loc 1 370 7 is_stmt 1 view .LVU137
 370:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 509              		.loc 1 370 23 is_stmt 0 view .LVU138
 510 00c2 FFF7FEFF 		bl	HAL_GetTick
 511              	.LVL12:
 370:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
ARM GAS  D:\Temp\ccoXQ802.s 			page 18


 512              		.loc 1 370 21 discriminator 1 view .LVU139
 513 00c6 134B     		ldr	r3, .L41+32
 371:Src/main.c    ****       isChiming = true;
 514              		.loc 1 371 7 view .LVU140
 515 00c8 0022     		movs	r2, #0
 370:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 516              		.loc 1 370 21 discriminator 1 view .LVU141
 517 00ca 1860     		str	r0, [r3]
 371:Src/main.c    ****       isChiming = true;
 518              		.loc 1 371 7 is_stmt 1 view .LVU142
 519 00cc 9020     		movs	r0, #144
 520 00ce 4021     		movs	r1, #64
 521 00d0 C005     		lsls	r0, r0, #23
 522 00d2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 523              	.LVL13:
 372:Src/main.c    ****       lastChimeSecond = 0;
 524              		.loc 1 372 7 view .LVU143
 372:Src/main.c    ****       lastChimeSecond = 0;
 525              		.loc 1 372 17 is_stmt 0 view .LVU144
 526 00d6 0122     		movs	r2, #1
 527 00d8 0F4B     		ldr	r3, .L41+36
 528 00da 1A70     		strb	r2, [r3]
 373:Src/main.c    ****       lastRingOnTimeHour = time.hours; // 记录已报时的小时
 529              		.loc 1 373 7 is_stmt 1 view .LVU145
 373:Src/main.c    ****       lastRingOnTimeHour = time.hours; // 记录已报时的小时
 530              		.loc 1 373 23 is_stmt 0 view .LVU146
 531 00dc 0023     		movs	r3, #0
 532 00de 2B70     		strb	r3, [r5]
 374:Src/main.c    ****     }
 533              		.loc 1 374 7 is_stmt 1 view .LVU147
 374:Src/main.c    ****     }
 534              		.loc 1 374 26 is_stmt 0 view .LVU148
 535 00e0 E278     		ldrb	r2, [r4, #3]
 536 00e2 0E4B     		ldr	r3, .L41+40
 537              	.L40:
 538              	.LBE20:
 379:Src/main.c    ****     }
 539              		.loc 1 379 23 view .LVU149
 540 00e4 1A70     		strb	r2, [r3]
 541 00e6 A7E7     		b	.L12
 542              	.L15:
 378:Src/main.c    ****       lastChimeSecond = 0xFF;
 543              		.loc 1 378 5 is_stmt 1 view .LVU150
 378:Src/main.c    ****       lastChimeSecond = 0xFF;
 544              		.loc 1 378 8 is_stmt 0 view .LVU151
 545 00e8 002D     		cmp	r5, #0
 546 00ea A5D0     		beq	.L12
 547              	.L19:
 379:Src/main.c    ****     }
 548              		.loc 1 379 7 is_stmt 1 view .LVU152
 379:Src/main.c    ****     }
 549              		.loc 1 379 23 is_stmt 0 view .LVU153
 550 00ec FF22     		movs	r2, #255
 551 00ee 084B     		ldr	r3, .L41+28
 552 00f0 F8E7     		b	.L40
 553              	.L42:
 554 00f2 C046     		.align	2
ARM GAS  D:\Temp\ccoXQ802.s 			page 19


 555              	.L41:
 556 00f4 00000000 		.word	isRingOnTimeEnabled
 557 00f8 00000000 		.word	time
 558 00fc 00000000 		.word	ringOnTimeStart
 559 0100 00000000 		.word	ringOnTimeStop
 560 0104 00000000 		.word	isAlarmEnabled
 561 0108 00000000 		.word	alarmMin
 562 010c 00000000 		.word	alarmHour
 563 0110 00000000 		.word	lastChimeSecond
 564 0114 00000000 		.word	ringStartTime
 565 0118 00000000 		.word	isChiming
 566 011c 00000000 		.word	lastRingOnTimeHour
 567              	.LBE21:
 568              	.LBE22:
 569              		.cfi_endproc
 570              	.LFE40:
 572              		.section	.text.alarmStart,"ax",%progbits
 573              		.align	1
 574              		.global	alarmStart
 575              		.syntax unified
 576              		.code	16
 577              		.thumb_func
 579              	alarmStart:
 580              	.LFB41:
 383:Src/main.c    **** 
 384:Src/main.c    **** void alarmStart() {
 581              		.loc 1 384 19 is_stmt 1 view -0
 582              		.cfi_startproc
 583              		@ args = 0, pretend = 0, frame = 0
 584              		@ frame_needed = 0, uses_anonymous_args = 0
 385:Src/main.c    ****   isAlarming = true;
 585              		.loc 1 385 3 view .LVU155
 586              		.loc 1 385 14 is_stmt 0 view .LVU156
 587 0000 0122     		movs	r2, #1
 384:Src/main.c    ****   isAlarming = true;
 588              		.loc 1 384 19 view .LVU157
 589 0002 10B5     		push	{r4, lr}
 590              	.LCFI3:
 591              		.cfi_def_cfa_offset 8
 592              		.cfi_offset 4, -8
 593              		.cfi_offset 14, -4
 594              		.loc 1 385 14 view .LVU158
 595 0004 034B     		ldr	r3, .L44
 386:Src/main.c    ****   isAlarmed = true;
 387:Src/main.c    ****   HAL_TIM_Base_Start_IT(&ALARM_CONTROL_TIMER_HANDLE);
 596              		.loc 1 387 3 view .LVU159
 597 0006 0448     		ldr	r0, .L44+4
 385:Src/main.c    ****   isAlarmed = true;
 598              		.loc 1 385 14 view .LVU160
 599 0008 1A70     		strb	r2, [r3]
 386:Src/main.c    ****   isAlarmed = true;
 600              		.loc 1 386 3 is_stmt 1 view .LVU161
 386:Src/main.c    ****   isAlarmed = true;
 601              		.loc 1 386 13 is_stmt 0 view .LVU162
 602 000a 044B     		ldr	r3, .L44+8
 388:Src/main.c    **** }
 603              		.loc 1 388 1 view .LVU163
ARM GAS  D:\Temp\ccoXQ802.s 			page 20


 604              		@ sp needed
 386:Src/main.c    ****   isAlarmed = true;
 605              		.loc 1 386 13 view .LVU164
 606 000c 1A70     		strb	r2, [r3]
 387:Src/main.c    **** }
 607              		.loc 1 387 3 is_stmt 1 view .LVU165
 608 000e FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 609              	.LVL14:
 610              		.loc 1 388 1 is_stmt 0 view .LVU166
 611 0012 10BD     		pop	{r4, pc}
 612              	.L45:
 613              		.align	2
 614              	.L44:
 615 0014 00000000 		.word	isAlarming
 616 0018 00000000 		.word	htim17
 617 001c 00000000 		.word	isAlarmed
 618              		.cfi_endproc
 619              	.LFE41:
 621              		.section	.text.alarmTimerTick,"ax",%progbits
 622              		.align	1
 623              		.global	alarmTimerTick
 624              		.syntax unified
 625              		.code	16
 626              		.thumb_func
 628              	alarmTimerTick:
 629              	.LFB42:
 389:Src/main.c    **** 
 390:Src/main.c    **** void alarmTimerTick() {
 630              		.loc 1 390 23 is_stmt 1 view -0
 631              		.cfi_startproc
 632              		@ args = 0, pretend = 0, frame = 0
 633              		@ frame_needed = 0, uses_anonymous_args = 0
 391:Src/main.c    ****   uint16_t onTime = 50, offTime = 50, restTime = 500;
 634              		.loc 1 391 3 view .LVU168
 635              	.LVL15:
 392:Src/main.c    ****   uint8_t ringCounts = 4;
 636              		.loc 1 392 3 view .LVU169
 393:Src/main.c    ****   alarmTimestamp++;
 637              		.loc 1 393 3 view .LVU170
 394:Src/main.c    ****   if (HAL_GPIO_ReadPin(BUZZER_GPIO_PORT, BUZZER_PIN) == GPIO_PIN_RESET) {
 638              		.loc 1 394 7 is_stmt 0 view .LVU171
 639 0000 9020     		movs	r0, #144
 390:Src/main.c    ****   uint16_t onTime = 50, offTime = 50, restTime = 500;
 640              		.loc 1 390 23 view .LVU172
 641 0002 70B5     		push	{r4, r5, r6, lr}
 642              	.LCFI4:
 643              		.cfi_def_cfa_offset 16
 644              		.cfi_offset 4, -16
 645              		.cfi_offset 5, -12
 646              		.cfi_offset 6, -8
 647              		.cfi_offset 14, -4
 393:Src/main.c    ****   alarmTimestamp++;
 648              		.loc 1 393 17 view .LVU173
 649 0004 1A4C     		ldr	r4, .L50
 650              		.loc 1 394 7 view .LVU174
 651 0006 4021     		movs	r1, #64
 393:Src/main.c    ****   alarmTimestamp++;
ARM GAS  D:\Temp\ccoXQ802.s 			page 21


 652              		.loc 1 393 17 view .LVU175
 653 0008 2368     		ldr	r3, [r4]
 654              		.loc 1 394 7 view .LVU176
 655 000a C005     		lsls	r0, r0, #23
 393:Src/main.c    ****   alarmTimestamp++;
 656              		.loc 1 393 17 view .LVU177
 657 000c 0133     		adds	r3, r3, #1
 658 000e 2360     		str	r3, [r4]
 659              		.loc 1 394 3 is_stmt 1 view .LVU178
 660              		.loc 1 394 7 is_stmt 0 view .LVU179
 661 0010 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 662              	.LVL16:
 395:Src/main.c    ****     // ����XX����
 396:Src/main.c    ****     if (alarmTimestamp > onTime) {
 663              		.loc 1 396 8 view .LVU180
 664 0014 2368     		ldr	r3, [r4]
 394:Src/main.c    ****     // ����XX����
 665              		.loc 1 394 7 view .LVU181
 666 0016 051E     		subs	r5, r0, #0
 394:Src/main.c    ****     // ����XX����
 667              		.loc 1 394 6 discriminator 1 view .LVU182
 668 0018 0DD1     		bne	.L47
 669              		.loc 1 396 5 is_stmt 1 view .LVU183
 670              		.loc 1 396 8 is_stmt 0 view .LVU184
 671 001a 322B     		cmp	r3, #50
 672 001c 0AD9     		bls	.L46
 397:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, SET);
 673              		.loc 1 397 7 is_stmt 1 view .LVU185
 674 001e 9020     		movs	r0, #144
 675 0020 0122     		movs	r2, #1
 676 0022 4021     		movs	r1, #64
 677 0024 C005     		lsls	r0, r0, #23
 678 0026 FFF7FEFF 		bl	HAL_GPIO_WritePin
 679              	.LVL17:
 398:Src/main.c    ****       alarmBeepCount++;
 680              		.loc 1 398 7 view .LVU186
 681              		.loc 1 398 21 is_stmt 0 view .LVU187
 682 002a 124A     		ldr	r2, .L50+4
 399:Src/main.c    ****       alarmTimestamp = 0;
 683              		.loc 1 399 22 view .LVU188
 684 002c 2560     		str	r5, [r4]
 398:Src/main.c    ****       alarmBeepCount++;
 685              		.loc 1 398 21 view .LVU189
 686 002e 1368     		ldr	r3, [r2]
 687 0030 0133     		adds	r3, r3, #1
 688 0032 1360     		str	r3, [r2]
 689              		.loc 1 399 7 is_stmt 1 view .LVU190
 690              	.L46:
 400:Src/main.c    ****     }
 401:Src/main.c    ****   } else {
 402:Src/main.c    ****     // ��X+1��
 403:Src/main.c    ****     if (alarmBeepCount < ringCounts) {
 404:Src/main.c    ****       // ���ζ���ʱ����
 405:Src/main.c    ****       if (alarmTimestamp > offTime) {
 406:Src/main.c    ****         HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, RESET);
 407:Src/main.c    ****         alarmTimestamp = 0;
 408:Src/main.c    ****       }
ARM GAS  D:\Temp\ccoXQ802.s 			page 22


 409:Src/main.c    **** 
 410:Src/main.c    ****     }
 411:Src/main.c    ****     // ��X+1�κ�ֹͣ����һ��ʱ��
 412:Src/main.c    ****     else if (alarmTimestamp > restTime) {
 413:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, RESET);
 414:Src/main.c    ****       alarmTimestamp = 0;
 415:Src/main.c    ****       alarmBeepCount = 0;
 416:Src/main.c    ****     }
 417:Src/main.c    ****   }
 418:Src/main.c    **** }
 691              		.loc 1 418 1 is_stmt 0 view .LVU191
 692              		@ sp needed
 693 0034 70BD     		pop	{r4, r5, r6, pc}
 694              	.L47:
 695              	.LBB25:
 696              	.LBI25:
 390:Src/main.c    ****   uint16_t onTime = 50, offTime = 50, restTime = 500;
 697              		.loc 1 390 6 is_stmt 1 view .LVU192
 698              	.LBB26:
 403:Src/main.c    ****       // ���ζ���ʱ����
 699              		.loc 1 403 5 view .LVU193
 403:Src/main.c    ****       // ���ζ���ʱ����
 700              		.loc 1 403 24 is_stmt 0 view .LVU194
 701 0036 0F4D     		ldr	r5, .L50+4
 403:Src/main.c    ****       // ���ζ���ʱ����
 702              		.loc 1 403 8 view .LVU195
 703 0038 2A68     		ldr	r2, [r5]
 704 003a 032A     		cmp	r2, #3
 705 003c 0AD8     		bhi	.L49
 405:Src/main.c    ****         HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, RESET);
 706              		.loc 1 405 7 is_stmt 1 view .LVU196
 405:Src/main.c    ****         HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, RESET);
 707              		.loc 1 405 10 is_stmt 0 view .LVU197
 708 003e 322B     		cmp	r3, #50
 709 0040 F8D9     		bls	.L46
 406:Src/main.c    ****         alarmTimestamp = 0;
 710              		.loc 1 406 9 is_stmt 1 view .LVU198
 711 0042 9020     		movs	r0, #144
 712 0044 0022     		movs	r2, #0
 713 0046 4021     		movs	r1, #64
 714 0048 C005     		lsls	r0, r0, #23
 715 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
 716              	.LVL18:
 407:Src/main.c    ****       }
 717              		.loc 1 407 9 view .LVU199
 407:Src/main.c    ****       }
 718              		.loc 1 407 24 is_stmt 0 view .LVU200
 719 004e 0023     		movs	r3, #0
 720 0050 2360     		str	r3, [r4]
 721 0052 EFE7     		b	.L46
 722              	.L49:
 412:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, RESET);
 723              		.loc 1 412 10 is_stmt 1 view .LVU201
 412:Src/main.c    ****       HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, RESET);
 724              		.loc 1 412 13 is_stmt 0 view .LVU202
 725 0054 FA22     		movs	r2, #250
 726 0056 5200     		lsls	r2, r2, #1
ARM GAS  D:\Temp\ccoXQ802.s 			page 23


 727 0058 9342     		cmp	r3, r2
 728 005a EBD9     		bls	.L46
 413:Src/main.c    ****       alarmTimestamp = 0;
 729              		.loc 1 413 7 is_stmt 1 view .LVU203
 730 005c 9020     		movs	r0, #144
 731 005e 0022     		movs	r2, #0
 732 0060 4021     		movs	r1, #64
 733 0062 C005     		lsls	r0, r0, #23
 734 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 735              	.LVL19:
 414:Src/main.c    ****       alarmBeepCount = 0;
 736              		.loc 1 414 7 view .LVU204
 414:Src/main.c    ****       alarmBeepCount = 0;
 737              		.loc 1 414 22 is_stmt 0 view .LVU205
 738 0068 0023     		movs	r3, #0
 739 006a 2360     		str	r3, [r4]
 415:Src/main.c    ****     }
 740              		.loc 1 415 7 is_stmt 1 view .LVU206
 415:Src/main.c    ****     }
 741              		.loc 1 415 22 is_stmt 0 view .LVU207
 742 006c 2B60     		str	r3, [r5]
 743              	.LBE26:
 744              	.LBE25:
 745              		.loc 1 418 1 view .LVU208
 746 006e E1E7     		b	.L46
 747              	.L51:
 748              		.align	2
 749              	.L50:
 750 0070 00000000 		.word	alarmTimestamp
 751 0074 00000000 		.word	alarmBeepCount
 752              		.cfi_endproc
 753              	.LFE42:
 755              		.section	.text.alarmStop,"ax",%progbits
 756              		.align	1
 757              		.global	alarmStop
 758              		.syntax unified
 759              		.code	16
 760              		.thumb_func
 762              	alarmStop:
 763              	.LFB43:
 419:Src/main.c    **** 
 420:Src/main.c    **** void alarmStop() {
 764              		.loc 1 420 18 is_stmt 1 view -0
 765              		.cfi_startproc
 766              		@ args = 0, pretend = 0, frame = 0
 767              		@ frame_needed = 0, uses_anonymous_args = 0
 421:Src/main.c    ****   isAlarming = false;
 768              		.loc 1 421 3 view .LVU210
 769              		.loc 1 421 14 is_stmt 0 view .LVU211
 770 0000 0022     		movs	r2, #0
 771 0002 064B     		ldr	r3, .L53
 420:Src/main.c    ****   isAlarming = false;
 772              		.loc 1 420 18 view .LVU212
 773 0004 10B5     		push	{r4, lr}
 774              	.LCFI5:
 775              		.cfi_def_cfa_offset 8
 776              		.cfi_offset 4, -8
ARM GAS  D:\Temp\ccoXQ802.s 			page 24


 777              		.cfi_offset 14, -4
 422:Src/main.c    ****   HAL_TIM_Base_Stop_IT(&ALARM_CONTROL_TIMER_HANDLE);
 778              		.loc 1 422 3 view .LVU213
 779 0006 0648     		ldr	r0, .L53+4
 421:Src/main.c    ****   isAlarming = false;
 780              		.loc 1 421 14 view .LVU214
 781 0008 1A70     		strb	r2, [r3]
 782              		.loc 1 422 3 is_stmt 1 view .LVU215
 783 000a FFF7FEFF 		bl	HAL_TIM_Base_Stop_IT
 784              	.LVL20:
 423:Src/main.c    ****   HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, SET);
 785              		.loc 1 423 3 view .LVU216
 424:Src/main.c    **** }
 786              		.loc 1 424 1 is_stmt 0 view .LVU217
 787              		@ sp needed
 423:Src/main.c    ****   HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, SET);
 788              		.loc 1 423 3 view .LVU218
 789 000e 9020     		movs	r0, #144
 790 0010 0122     		movs	r2, #1
 791 0012 4021     		movs	r1, #64
 792 0014 C005     		lsls	r0, r0, #23
 793 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 794              	.LVL21:
 795              		.loc 1 424 1 view .LVU219
 796 001a 10BD     		pop	{r4, pc}
 797              	.L54:
 798              		.align	2
 799              	.L53:
 800 001c 00000000 		.word	isAlarming
 801 0020 00000000 		.word	htim17
 802              		.cfi_endproc
 803              	.LFE43:
 805              		.section	.text.checkAlarm,"ax",%progbits
 806              		.align	1
 807              		.global	checkAlarm
 808              		.syntax unified
 809              		.code	16
 810              		.thumb_func
 812              	checkAlarm:
 813              	.LFB44:
 425:Src/main.c    **** 
 426:Src/main.c    **** void checkAlarm() {
 814              		.loc 1 426 19 is_stmt 1 view -0
 815              		.cfi_startproc
 816              		@ args = 0, pretend = 0, frame = 0
 817              		@ frame_needed = 0, uses_anonymous_args = 0
 427:Src/main.c    ****   if (alarmHour == time.hours && alarmMin == time.minutes &&
 818              		.loc 1 427 3 view .LVU221
 426:Src/main.c    ****   if (alarmHour == time.hours && alarmMin == time.minutes &&
 819              		.loc 1 426 19 is_stmt 0 view .LVU222
 820 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 821              	.LCFI6:
 822              		.cfi_def_cfa_offset 24
 823              		.cfi_offset 3, -24
 824              		.cfi_offset 4, -20
 825              		.cfi_offset 5, -16
 826              		.cfi_offset 6, -12
ARM GAS  D:\Temp\ccoXQ802.s 			page 25


 827              		.cfi_offset 7, -8
 828              		.cfi_offset 14, -4
 829              		.loc 1 427 24 view .LVU223
 830 0002 134C     		ldr	r4, .L67
 831              		.loc 1 427 17 view .LVU224
 832 0004 134E     		ldr	r6, .L67+4
 833              		.loc 1 427 6 view .LVU225
 834 0006 E278     		ldrb	r2, [r4, #3]
 835 0008 3378     		ldrb	r3, [r6]
 836 000a 134D     		ldr	r5, .L67+8
 837 000c 9A42     		cmp	r2, r3
 838 000e 08D0     		beq	.L56
 839              	.L60:
 428:Src/main.c    ****       isAlarmed == false && isAlarmEnabled) {
 429:Src/main.c    ****     alarmStart();
 430:Src/main.c    ****   }
 431:Src/main.c    **** 
 432:Src/main.c    ****   if (alarmHour != time.hours || alarmMin != time.minutes) {
 433:Src/main.c    ****     if (isAlarming) {
 840              		.loc 1 433 5 is_stmt 1 view .LVU226
 841              		.loc 1 433 9 is_stmt 0 view .LVU227
 842 0010 124B     		ldr	r3, .L67+12
 843              		.loc 1 433 8 view .LVU228
 844 0012 1B78     		ldrb	r3, [r3]
 845 0014 002B     		cmp	r3, #0
 846 0016 01D0     		beq	.L58
 434:Src/main.c    ****       alarmStop();
 847              		.loc 1 434 7 is_stmt 1 view .LVU229
 848 0018 FFF7FEFF 		bl	alarmStop
 849              	.LVL22:
 850              	.L58:
 435:Src/main.c    ****     }
 436:Src/main.c    ****     isAlarmed = false;
 851              		.loc 1 436 5 view .LVU230
 852              		.loc 1 436 15 is_stmt 0 view .LVU231
 853 001c 0023     		movs	r3, #0
 854 001e 2B70     		strb	r3, [r5]
 437:Src/main.c    ****   }
 438:Src/main.c    **** }
 855              		.loc 1 438 1 view .LVU232
 856 0020 15E0     		b	.L55
 857              	.L56:
 427:Src/main.c    ****       isAlarmed == false && isAlarmEnabled) {
 858              		.loc 1 427 43 discriminator 1 view .LVU233
 859 0022 0F4F     		ldr	r7, .L67+16
 427:Src/main.c    ****       isAlarmed == false && isAlarmEnabled) {
 860              		.loc 1 427 31 discriminator 1 view .LVU234
 861 0024 6278     		ldrb	r2, [r4, #1]
 862 0026 3B78     		ldrb	r3, [r7]
 863 0028 9A42     		cmp	r2, r3
 864 002a F1D1     		bne	.L60
 427:Src/main.c    ****       isAlarmed == false && isAlarmEnabled) {
 865              		.loc 1 427 59 discriminator 2 view .LVU235
 866 002c 2B78     		ldrb	r3, [r5]
 867 002e 002B     		cmp	r3, #0
 868 0030 0DD1     		bne	.L55
 428:Src/main.c    ****     alarmStart();
ARM GAS  D:\Temp\ccoXQ802.s 			page 26


 869              		.loc 1 428 26 view .LVU236
 870 0032 0C4B     		ldr	r3, .L67+20
 871 0034 1B78     		ldrb	r3, [r3]
 872 0036 002B     		cmp	r3, #0
 873 0038 09D0     		beq	.L55
 429:Src/main.c    ****   }
 874              		.loc 1 429 5 is_stmt 1 view .LVU237
 875 003a FFF7FEFF 		bl	alarmStart
 876              	.LVL23:
 432:Src/main.c    ****     if (isAlarming) {
 877              		.loc 1 432 3 view .LVU238
 432:Src/main.c    ****     if (isAlarming) {
 878              		.loc 1 432 6 is_stmt 0 view .LVU239
 879 003e E278     		ldrb	r2, [r4, #3]
 880 0040 3378     		ldrb	r3, [r6]
 881 0042 9A42     		cmp	r2, r3
 882 0044 E4D1     		bne	.L60
 432:Src/main.c    ****     if (isAlarming) {
 883              		.loc 1 432 31 discriminator 1 view .LVU240
 884 0046 6278     		ldrb	r2, [r4, #1]
 885 0048 3B78     		ldrb	r3, [r7]
 886 004a 9A42     		cmp	r2, r3
 887 004c E0D1     		bne	.L60
 888              	.L55:
 889              		.loc 1 438 1 view .LVU241
 890              		@ sp needed
 891 004e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 892              	.L68:
 893              		.align	2
 894              	.L67:
 895 0050 00000000 		.word	time
 896 0054 00000000 		.word	alarmHour
 897 0058 00000000 		.word	isAlarmed
 898 005c 00000000 		.word	isAlarming
 899 0060 00000000 		.word	alarmMin
 900 0064 00000000 		.word	isAlarmEnabled
 901              		.cfi_endproc
 902              	.LFE44:
 904              		.section	.text.refreshTemperture,"ax",%progbits
 905              		.align	1
 906              		.global	refreshTemperture
 907              		.syntax unified
 908              		.code	16
 909              		.thumb_func
 911              	refreshTemperture:
 912              	.LFB45:
 439:Src/main.c    **** 
 440:Src/main.c    **** void refreshTemperture() {
 913              		.loc 1 440 26 is_stmt 1 view -0
 914              		.cfi_startproc
 915              		@ args = 0, pretend = 0, frame = 0
 916              		@ frame_needed = 0, uses_anonymous_args = 0
 441:Src/main.c    ****   // �����¶�ת��ADC
 442:Src/main.c    **** 
 443:Src/main.c    ****   uint32_t value;
 917              		.loc 1 443 3 view .LVU243
 444:Src/main.c    ****   uint32_t srcValue = adcValue[1];
ARM GAS  D:\Temp\ccoXQ802.s 			page 27


 918              		.loc 1 444 3 view .LVU244
 440:Src/main.c    ****   // �����¶�ת��ADC
 919              		.loc 1 440 26 is_stmt 0 view .LVU245
 920 0000 30B5     		push	{r4, r5, lr}
 921              	.LCFI7:
 922              		.cfi_def_cfa_offset 12
 923              		.cfi_offset 4, -12
 924              		.cfi_offset 5, -8
 925              		.cfi_offset 14, -4
 926              		.loc 1 444 12 view .LVU246
 927 0002 134B     		ldr	r3, .L77
 445:Src/main.c    **** 
 446:Src/main.c    ****   if (tempBuffered < TEMP_BUFFER_SIZE) {
 928              		.loc 1 446 20 view .LVU247
 929 0004 134C     		ldr	r4, .L77+4
 444:Src/main.c    **** 
 930              		.loc 1 444 12 view .LVU248
 931 0006 5A68     		ldr	r2, [r3, #4]
 932              	.LVL24:
 933              		.loc 1 446 3 is_stmt 1 view .LVU249
 934              		.loc 1 446 20 is_stmt 0 view .LVU250
 935 0008 2178     		ldrb	r1, [r4]
 936 000a 134B     		ldr	r3, .L77+8
 447:Src/main.c    ****     tempBuffer[tempBuffered++] = (uint16_t)srcValue;
 937              		.loc 1 447 34 view .LVU251
 938 000c 90B2     		uxth	r0, r2
 446:Src/main.c    ****     tempBuffer[tempBuffered++] = (uint16_t)srcValue;
 939              		.loc 1 446 6 view .LVU252
 940 000e 0729     		cmp	r1, #7
 941 0010 11D8     		bhi	.L70
 942              		.loc 1 447 5 is_stmt 1 view .LVU253
 943              		.loc 1 447 28 is_stmt 0 view .LVU254
 944 0012 4D1C     		adds	r5, r1, #1
 945              		.loc 1 447 32 view .LVU255
 946 0014 4900     		lsls	r1, r1, #1
 947              		.loc 1 447 28 view .LVU256
 948 0016 2570     		strb	r5, [r4]
 949              		.loc 1 447 32 view .LVU257
 950 0018 5852     		strh	r0, [r3, r1]
 448:Src/main.c    ****     value = srcValue;
 951              		.loc 1 448 5 is_stmt 1 view .LVU258
 952              	.LVL25:
 953              	.L71:
 449:Src/main.c    ****   } else {
 450:Src/main.c    ****     tempBuffer[TEMP_BUFFER_SIZE] = (uint16_t)srcValue;
 451:Src/main.c    ****     value = 0;
 452:Src/main.c    ****     for (uint8_t i = 0; i < TEMP_BUFFER_SIZE; i++) {
 453:Src/main.c    ****       tempBuffer[i] = tempBuffer[i + 1];
 454:Src/main.c    ****       value += tempBuffer[i];
 455:Src/main.c    ****     }
 456:Src/main.c    ****     value = value / TEMP_BUFFER_SIZE;
 457:Src/main.c    ****   }
 458:Src/main.c    **** 
 459:Src/main.c    ****   for (uint8_t i = 0; i < TEMP_MAP_SIZE; i++) {
 954              		.loc 1 459 3 view .LVU259
 955              	.LBB27:
 956              		.loc 1 459 8 view .LVU260
ARM GAS  D:\Temp\ccoXQ802.s 			page 28


 957              		.loc 1 459 25 discriminator 1 view .LVU261
 958              		.loc 1 459 16 is_stmt 0 view .LVU262
 959 001a 0023     		movs	r3, #0
 960 001c 0F49     		ldr	r1, .L77+12
 961              	.LVL26:
 962              	.L74:
 460:Src/main.c    ****     if (value <= tempertureMap[i]) {
 963              		.loc 1 460 5 is_stmt 1 view .LVU263
 964              		.loc 1 460 31 is_stmt 0 view .LVU264
 965 001e 0888     		ldrh	r0, [r1]
 966              		.loc 1 460 8 view .LVU265
 967 0020 9042     		cmp	r0, r2
 968 0022 05D2     		bcs	.L73
 459:Src/main.c    ****     if (value <= tempertureMap[i]) {
 969              		.loc 1 459 43 is_stmt 1 discriminator 2 view .LVU266
 970 0024 0133     		adds	r3, r3, #1
 971              	.LVL27:
 459:Src/main.c    ****     if (value <= tempertureMap[i]) {
 972              		.loc 1 459 43 is_stmt 0 discriminator 2 view .LVU267
 973 0026 DBB2     		uxtb	r3, r3
 974              	.LVL28:
 459:Src/main.c    ****     if (value <= tempertureMap[i]) {
 975              		.loc 1 459 25 is_stmt 1 discriminator 1 view .LVU268
 976 0028 0231     		adds	r1, r1, #2
 977 002a 7E2B     		cmp	r3, #126
 978 002c F7D1     		bne	.L74
 979 002e 0023     		movs	r3, #0
 980              	.LVL29:
 981              	.L73:
 459:Src/main.c    ****     if (value <= tempertureMap[i]) {
 982              		.loc 1 459 25 is_stmt 0 discriminator 1 view .LVU269
 983              	.LBE27:
 461:Src/main.c    ****       temperture = i;
 462:Src/main.c    ****       return;
 463:Src/main.c    ****     }
 464:Src/main.c    ****   }
 465:Src/main.c    **** 
 466:Src/main.c    ****   temperture = 0;
 467:Src/main.c    ****   return;
 468:Src/main.c    **** }
 984              		.loc 1 468 1 view .LVU270
 985              		@ sp needed
 986              	.LBB28:
 461:Src/main.c    ****       temperture = i;
 987              		.loc 1 461 18 view .LVU271
 988 0030 0B4A     		ldr	r2, .L77+16
 989              	.LVL30:
 461:Src/main.c    ****       temperture = i;
 990              		.loc 1 461 18 view .LVU272
 991 0032 1370     		strb	r3, [r2]
 992              	.LBE28:
 993              		.loc 1 468 1 view .LVU273
 994 0034 30BD     		pop	{r4, r5, pc}
 995              	.LVL31:
 996              	.L70:
 450:Src/main.c    ****     value = 0;
 997              		.loc 1 450 5 is_stmt 1 view .LVU274
ARM GAS  D:\Temp\ccoXQ802.s 			page 29


 450:Src/main.c    ****     value = 0;
 998              		.loc 1 450 34 is_stmt 0 view .LVU275
 999 0036 0821     		movs	r1, #8
 451:Src/main.c    ****     for (uint8_t i = 0; i < TEMP_BUFFER_SIZE; i++) {
 1000              		.loc 1 451 11 view .LVU276
 1001 0038 0022     		movs	r2, #0
 1002              	.LVL32:
 450:Src/main.c    ****     value = 0;
 1003              		.loc 1 450 34 view .LVU277
 1004 003a 1882     		strh	r0, [r3, #16]
 451:Src/main.c    ****     for (uint8_t i = 0; i < TEMP_BUFFER_SIZE; i++) {
 1005              		.loc 1 451 5 is_stmt 1 view .LVU278
 1006              	.LVL33:
 452:Src/main.c    ****       tempBuffer[i] = tempBuffer[i + 1];
 1007              		.loc 1 452 5 view .LVU279
 1008              	.LBB29:
 452:Src/main.c    ****       tempBuffer[i] = tempBuffer[i + 1];
 1009              		.loc 1 452 10 view .LVU280
 452:Src/main.c    ****       tempBuffer[i] = tempBuffer[i + 1];
 1010              		.loc 1 452 27 discriminator 1 view .LVU281
 1011              	.L72:
 453:Src/main.c    ****       value += tempBuffer[i];
 1012              		.loc 1 453 7 view .LVU282
 453:Src/main.c    ****       value += tempBuffer[i];
 1013              		.loc 1 453 33 is_stmt 0 view .LVU283
 1014 003c 5888     		ldrh	r0, [r3, #2]
 452:Src/main.c    ****       tempBuffer[i] = tempBuffer[i + 1];
 1015              		.loc 1 452 27 discriminator 1 view .LVU284
 1016 003e 0139     		subs	r1, r1, #1
 1017              	.LVL34:
 452:Src/main.c    ****       tempBuffer[i] = tempBuffer[i + 1];
 1018              		.loc 1 452 27 discriminator 1 view .LVU285
 1019 0040 C9B2     		uxtb	r1, r1
 1020              	.LVL35:
 453:Src/main.c    ****       value += tempBuffer[i];
 1021              		.loc 1 453 21 view .LVU286
 1022 0042 1880     		strh	r0, [r3]
 454:Src/main.c    ****     }
 1023              		.loc 1 454 7 is_stmt 1 view .LVU287
 454:Src/main.c    ****     }
 1024              		.loc 1 454 13 is_stmt 0 view .LVU288
 1025 0044 1218     		adds	r2, r2, r0
 1026              	.LVL36:
 452:Src/main.c    ****       tempBuffer[i] = tempBuffer[i + 1];
 1027              		.loc 1 452 48 is_stmt 1 discriminator 3 view .LVU289
 452:Src/main.c    ****       tempBuffer[i] = tempBuffer[i + 1];
 1028              		.loc 1 452 27 discriminator 1 view .LVU290
 1029 0046 0233     		adds	r3, r3, #2
 1030 0048 0029     		cmp	r1, #0
 1031 004a F7D1     		bne	.L72
 1032              	.LBE29:
 456:Src/main.c    ****   }
 1033              		.loc 1 456 5 view .LVU291
 456:Src/main.c    ****   }
 1034              		.loc 1 456 11 is_stmt 0 view .LVU292
 1035 004c D208     		lsrs	r2, r2, #3
 1036              	.LVL37:
ARM GAS  D:\Temp\ccoXQ802.s 			page 30


 456:Src/main.c    ****   }
 1037              		.loc 1 456 11 view .LVU293
 1038 004e E4E7     		b	.L71
 1039              	.L78:
 1040              		.align	2
 1041              	.L77:
 1042 0050 00000000 		.word	adcValue
 1043 0054 00000000 		.word	tempBuffered
 1044 0058 00000000 		.word	tempBuffer
 1045 005c 00000000 		.word	tempertureMap
 1046 0060 00000000 		.word	temperture
 1047              		.cfi_endproc
 1048              	.LFE45:
 1050              		.global	__aeabi_uidiv
 1051              		.section	.text.refreshTimeDisplay,"ax",%progbits
 1052              		.align	1
 1053              		.global	refreshTimeDisplay
 1054              		.syntax unified
 1055              		.code	16
 1056              		.thumb_func
 1058              	refreshTimeDisplay:
 1059              	.LFB46:
 469:Src/main.c    **** 
 470:Src/main.c    **** void refreshTimeDisplay() {
 1060              		.loc 1 470 27 is_stmt 1 view -0
 1061              		.cfi_startproc
 1062              		@ args = 0, pretend = 0, frame = 0
 1063              		@ frame_needed = 0, uses_anonymous_args = 0
 471:Src/main.c    ****   TimeNow(&time);
 1064              		.loc 1 471 3 view .LVU295
 470:Src/main.c    ****   TimeNow(&time);
 1065              		.loc 1 470 27 is_stmt 0 view .LVU296
 1066 0000 70B5     		push	{r4, r5, r6, lr}
 1067              	.LCFI8:
 1068              		.cfi_def_cfa_offset 16
 1069              		.cfi_offset 4, -16
 1070              		.cfi_offset 5, -12
 1071              		.cfi_offset 6, -8
 1072              		.cfi_offset 14, -4
 1073              		.loc 1 471 3 view .LVU297
 1074 0002 344C     		ldr	r4, .L88
 1075 0004 2000     		movs	r0, r4
 1076 0006 FFF7FEFF 		bl	TimeNow
 1077              	.LVL38:
 472:Src/main.c    ****   lastTime = time;
 1078              		.loc 1 472 3 is_stmt 1 view .LVU298
 1079              		.loc 1 472 12 is_stmt 0 view .LVU299
 1080 000a 334D     		ldr	r5, .L88+4
 1081 000c 2100     		movs	r1, r4
 1082 000e 0822     		movs	r2, #8
 1083 0010 2800     		movs	r0, r5
 1084 0012 FFF7FEFF 		bl	memcpy
 1085              	.LVL39:
 473:Src/main.c    ****   if (currentMode == MODE_SHOW_TIME) {
 1086              		.loc 1 473 3 is_stmt 1 view .LVU300
 1087              		.loc 1 473 19 is_stmt 0 view .LVU301
 1088 0016 314B     		ldr	r3, .L88+8
ARM GAS  D:\Temp\ccoXQ802.s 			page 31


 1089 0018 1C78     		ldrb	r4, [r3]
 1090              		.loc 1 473 6 view .LVU302
 1091 001a 002C     		cmp	r4, #0
 1092 001c 13D1     		bne	.L80
 1093              	.LBB30:
 474:Src/main.c    ****     uint16_t number = lastTime.hours * 100 + lastTime.minutes;
 1094              		.loc 1 474 5 is_stmt 1 view .LVU303
 1095              	.LVL40:
 475:Src/main.c    ****     TM1637ShowNumberRight(3, number, blinkControl ? 2 : 0xFF, 1);
 1096              		.loc 1 475 5 view .LVU304
 474:Src/main.c    ****     uint16_t number = lastTime.hours * 100 + lastTime.minutes;
 1097              		.loc 1 474 44 is_stmt 0 view .LVU305
 1098 001e 6422     		movs	r2, #100
 1099 0020 EB78     		ldrb	r3, [r5, #3]
 474:Src/main.c    ****     uint16_t number = lastTime.hours * 100 + lastTime.minutes;
 1100              		.loc 1 474 54 view .LVU306
 1101 0022 6978     		ldrb	r1, [r5, #1]
 474:Src/main.c    ****     uint16_t number = lastTime.hours * 100 + lastTime.minutes;
 1102              		.loc 1 474 44 view .LVU307
 1103 0024 5343     		muls	r3, r2
 1104              		.loc 1 475 5 view .LVU308
 1105 0026 C918     		adds	r1, r1, r3
 1106              		.loc 1 475 51 view .LVU309
 1107 0028 2D4B     		ldr	r3, .L88+12
 1108              		.loc 1 475 5 discriminator 2 view .LVU310
 1109 002a 9B32     		adds	r2, r2, #155
 1110              		.loc 1 475 5 view .LVU311
 1111 002c 1B78     		ldrb	r3, [r3]
 1112 002e 002B     		cmp	r3, #0
 1113 0030 00D0     		beq	.L81
 1114              		.loc 1 475 5 discriminator 1 view .LVU312
 1115 0032 FD3A     		subs	r2, r2, #253
 1116              	.L81:
 1117              		.loc 1 475 5 discriminator 4 view .LVU313
 1118 0034 0123     		movs	r3, #1
 1119 0036 0320     		movs	r0, #3
 1120 0038 FFF7FEFF 		bl	TM1637ShowNumberRight
 1121              	.LVL41:
 1122              	.L82:
 1123              		.loc 1 475 5 discriminator 4 view .LVU314
 1124              	.LBE30:
 476:Src/main.c    ****   } else if (currentMode == MODE_SHOW_SECOND) {
 477:Src/main.c    ****     TM1637SetChar(0, ' ', false);
 478:Src/main.c    ****     TM1637SetChar(1, ' ', true);
 479:Src/main.c    ****     TM1637SetChar(2, lastTime.seconds / 10 + '0', false);
 480:Src/main.c    ****     TM1637SetChar(3, lastTime.seconds % 10 + '0', false);
 481:Src/main.c    ****   } else if (currentMode == MODE_SHOW_TEMPERTURE) {
 482:Src/main.c    ****     refreshTemperture();
 483:Src/main.c    ****     if (temperture > 99) {
 484:Src/main.c    ****       temperture = 99;
 485:Src/main.c    ****     }
 486:Src/main.c    ****     TM1637SetChar(0, ' ', false);
 487:Src/main.c    ****     TM1637SetChar(1, temperture / 10 + '0', false);
 488:Src/main.c    ****     TM1637SetChar(2, temperture % 10 + '0', false);
 489:Src/main.c    ****     TM1637SetChar(3, 'C', false);
 490:Src/main.c    ****   }
 491:Src/main.c    **** 
ARM GAS  D:\Temp\ccoXQ802.s 			page 32


 492:Src/main.c    ****   checkAlarm();
 1125              		.loc 1 492 3 is_stmt 1 view .LVU315
 493:Src/main.c    ****   checkRingOnTime();
 494:Src/main.c    **** }
 1126              		.loc 1 494 1 is_stmt 0 view .LVU316
 1127              		@ sp needed
 492:Src/main.c    ****   checkRingOnTime();
 1128              		.loc 1 492 3 view .LVU317
 1129 003c FFF7FEFF 		bl	checkAlarm
 1130              	.LVL42:
 493:Src/main.c    ****   checkRingOnTime();
 1131              		.loc 1 493 3 is_stmt 1 view .LVU318
 1132 0040 FFF7FEFF 		bl	checkRingOnTime
 1133              	.LVL43:
 1134              		.loc 1 494 1 is_stmt 0 view .LVU319
 1135 0044 70BD     		pop	{r4, r5, r6, pc}
 1136              	.L80:
 476:Src/main.c    ****   } else if (currentMode == MODE_SHOW_SECOND) {
 1137              		.loc 1 476 10 is_stmt 1 view .LVU320
 476:Src/main.c    ****   } else if (currentMode == MODE_SHOW_SECOND) {
 1138              		.loc 1 476 13 is_stmt 0 view .LVU321
 1139 0046 012C     		cmp	r4, #1
 1140 0048 1ED1     		bne	.L83
 477:Src/main.c    ****     TM1637SetChar(1, ' ', true);
 1141              		.loc 1 477 5 is_stmt 1 view .LVU322
 1142 004a 0022     		movs	r2, #0
 1143 004c 2021     		movs	r1, #32
 1144 004e 1000     		movs	r0, r2
 1145 0050 FFF7FEFF 		bl	TM1637SetChar
 1146              	.LVL44:
 478:Src/main.c    ****     TM1637SetChar(2, lastTime.seconds / 10 + '0', false);
 1147              		.loc 1 478 5 view .LVU323
 1148 0054 2200     		movs	r2, r4
 1149 0056 2021     		movs	r1, #32
 1150 0058 2000     		movs	r0, r4
 1151 005a FFF7FEFF 		bl	TM1637SetChar
 1152              	.LVL45:
 479:Src/main.c    ****     TM1637SetChar(3, lastTime.seconds % 10 + '0', false);
 1153              		.loc 1 479 5 view .LVU324
 1154 005e 0A21     		movs	r1, #10
 1155 0060 2878     		ldrb	r0, [r5]
 1156 0062 FFF7FEFF 		bl	__aeabi_uidiv
 1157              	.LVL46:
 1158 0066 3030     		adds	r0, r0, #48
 1159 0068 0022     		movs	r2, #0
 1160 006a C1B2     		uxtb	r1, r0
 1161 006c 0220     		movs	r0, #2
 1162 006e FFF7FEFF 		bl	TM1637SetChar
 1163              	.LVL47:
 480:Src/main.c    ****   } else if (currentMode == MODE_SHOW_TEMPERTURE) {
 1164              		.loc 1 480 5 view .LVU325
 1165 0072 0A21     		movs	r1, #10
 1166 0074 2878     		ldrb	r0, [r5]
 1167 0076 FFF7FEFF 		bl	__aeabi_uidivmod
 1168              	.LVL48:
 1169 007a 0022     		movs	r2, #0
 1170 007c 3031     		adds	r1, r1, #48
ARM GAS  D:\Temp\ccoXQ802.s 			page 33


 1171 007e C9B2     		uxtb	r1, r1
 1172              	.L87:
 489:Src/main.c    ****   }
 1173              		.loc 1 489 5 is_stmt 0 view .LVU326
 1174 0080 0320     		movs	r0, #3
 1175 0082 FFF7FEFF 		bl	TM1637SetChar
 1176              	.LVL49:
 1177 0086 D9E7     		b	.L82
 1178              	.L83:
 481:Src/main.c    ****     refreshTemperture();
 1179              		.loc 1 481 10 is_stmt 1 view .LVU327
 481:Src/main.c    ****     refreshTemperture();
 1180              		.loc 1 481 13 is_stmt 0 view .LVU328
 1181 0088 022C     		cmp	r4, #2
 1182 008a D7D1     		bne	.L82
 482:Src/main.c    ****     if (temperture > 99) {
 1183              		.loc 1 482 5 is_stmt 1 view .LVU329
 1184 008c FFF7FEFF 		bl	refreshTemperture
 1185              	.LVL50:
 483:Src/main.c    ****       temperture = 99;
 1186              		.loc 1 483 5 view .LVU330
 483:Src/main.c    ****       temperture = 99;
 1187              		.loc 1 483 20 is_stmt 0 view .LVU331
 1188 0090 144C     		ldr	r4, .L88+16
 483:Src/main.c    ****       temperture = 99;
 1189              		.loc 1 483 8 view .LVU332
 1190 0092 2378     		ldrb	r3, [r4]
 1191 0094 632B     		cmp	r3, #99
 1192 0096 01D9     		bls	.L84
 484:Src/main.c    ****     }
 1193              		.loc 1 484 7 is_stmt 1 view .LVU333
 484:Src/main.c    ****     }
 1194              		.loc 1 484 18 is_stmt 0 view .LVU334
 1195 0098 6323     		movs	r3, #99
 1196 009a 2370     		strb	r3, [r4]
 1197              	.L84:
 486:Src/main.c    ****     TM1637SetChar(1, temperture / 10 + '0', false);
 1198              		.loc 1 486 5 is_stmt 1 view .LVU335
 1199 009c 0022     		movs	r2, #0
 1200 009e 2021     		movs	r1, #32
 1201 00a0 1000     		movs	r0, r2
 1202 00a2 FFF7FEFF 		bl	TM1637SetChar
 1203              	.LVL51:
 487:Src/main.c    ****     TM1637SetChar(2, temperture % 10 + '0', false);
 1204              		.loc 1 487 5 view .LVU336
 1205 00a6 0A21     		movs	r1, #10
 1206 00a8 2078     		ldrb	r0, [r4]
 1207 00aa FFF7FEFF 		bl	__aeabi_uidiv
 1208              	.LVL52:
 1209 00ae 3030     		adds	r0, r0, #48
 1210 00b0 0022     		movs	r2, #0
 1211 00b2 C1B2     		uxtb	r1, r0
 1212 00b4 0120     		movs	r0, #1
 1213 00b6 FFF7FEFF 		bl	TM1637SetChar
 1214              	.LVL53:
 488:Src/main.c    ****     TM1637SetChar(3, 'C', false);
 1215              		.loc 1 488 5 view .LVU337
ARM GAS  D:\Temp\ccoXQ802.s 			page 34


 1216 00ba 2078     		ldrb	r0, [r4]
 1217 00bc 0A21     		movs	r1, #10
 1218 00be FFF7FEFF 		bl	__aeabi_uidivmod
 1219              	.LVL54:
 1220 00c2 3031     		adds	r1, r1, #48
 1221 00c4 0022     		movs	r2, #0
 1222 00c6 C9B2     		uxtb	r1, r1
 1223 00c8 0220     		movs	r0, #2
 1224 00ca FFF7FEFF 		bl	TM1637SetChar
 1225              	.LVL55:
 489:Src/main.c    ****   }
 1226              		.loc 1 489 5 view .LVU338
 1227 00ce 0022     		movs	r2, #0
 1228 00d0 4321     		movs	r1, #67
 1229 00d2 D5E7     		b	.L87
 1230              	.L89:
 1231              		.align	2
 1232              	.L88:
 1233 00d4 00000000 		.word	time
 1234 00d8 00000000 		.word	lastTime
 1235 00dc 00000000 		.word	currentMode
 1236 00e0 00000000 		.word	blinkControl
 1237 00e4 00000000 		.word	temperture
 1238              		.cfi_endproc
 1239              	.LFE46:
 1241              		.section	.text.refreshSettingsDisplay,"ax",%progbits
 1242              		.align	1
 1243              		.global	refreshSettingsDisplay
 1244              		.syntax unified
 1245              		.code	16
 1246              		.thumb_func
 1248              	refreshSettingsDisplay:
 1249              	.LFB47:
 495:Src/main.c    **** 
 496:Src/main.c    **** void refreshSettingsDisplay() {
 1250              		.loc 1 496 31 view -0
 1251              		.cfi_startproc
 1252              		@ args = 0, pretend = 0, frame = 8
 1253              		@ frame_needed = 0, uses_anonymous_args = 0
 497:Src/main.c    ****   char disp[5] = {0};
 1254              		.loc 1 497 3 view .LVU340
 1255              	.LVL56:
 498:Src/main.c    ****   if (currentMode == MODE_SET_HOUR) {
 1256              		.loc 1 498 3 view .LVU341
 496:Src/main.c    ****   char disp[5] = {0};
 1257              		.loc 1 496 31 is_stmt 0 view .LVU342
 1258 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 1259              	.LCFI9:
 1260              		.cfi_def_cfa_offset 32
 1261              		.cfi_offset 0, -32
 1262              		.cfi_offset 1, -28
 1263              		.cfi_offset 2, -24
 1264              		.cfi_offset 4, -20
 1265              		.cfi_offset 5, -16
 1266              		.cfi_offset 6, -12
 1267              		.cfi_offset 7, -8
 1268              		.cfi_offset 14, -4
ARM GAS  D:\Temp\ccoXQ802.s 			page 35


 1269              		.loc 1 498 19 view .LVU343
 1270 0002 A24B     		ldr	r3, .L141
 1271 0004 1878     		ldrb	r0, [r3]
 1272 0006 0338     		subs	r0, r0, #3
 1273 0008 0C28     		cmp	r0, #12
 1274 000a 00D9     		bls	.LCB1019
 1275 000c 17E1     		b	.L108	@long jump
 1276              	.LCB1019:
 1277 000e FFF7FEFF 		bl	__gnu_thumb1_case_uhi
 1278              	.L93:
 1279 0012 0D00     		.2byte	(.L105-.L93)/2
 1280 0014 2F00     		.2byte	(.L104-.L93)/2
 1281 0016 4700     		.2byte	(.L103-.L93)/2
 1282 0018 5400     		.2byte	(.L102-.L93)/2
 1283 001a 6B00     		.2byte	(.L101-.L93)/2
 1284 001c 9400     		.2byte	(.L100-.L93)/2
 1285 001e AA00     		.2byte	(.L99-.L93)/2
 1286 0020 BE00     		.2byte	(.L98-.L93)/2
 1287 0022 CC00     		.2byte	(.L97-.L93)/2
 1288 0024 D700     		.2byte	(.L96-.L93)/2
 1289 0026 E200     		.2byte	(.L95-.L93)/2
 1290 0028 EE00     		.2byte	(.L94-.L93)/2
 1291 002a 0201     		.2byte	(.L92-.L93)/2
 1292              		.p2align 1
 1293              	.L105:
 499:Src/main.c    ****     disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1294              		.loc 1 499 5 is_stmt 1 view .LVU344
 1295              		.loc 1 499 13 is_stmt 0 discriminator 2 view .LVU345
 1296 002c 2026     		movs	r6, #32
 1297              		.loc 1 499 28 view .LVU346
 1298 002e 984B     		ldr	r3, .L141+4
 500:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (lastTime.hours % 10 + '0');
 1299              		.loc 1 500 13 discriminator 2 view .LVU347
 1300 0030 3700     		movs	r7, r6
 499:Src/main.c    ****     disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1301              		.loc 1 499 13 view .LVU348
 1302 0032 1B78     		ldrb	r3, [r3]
 1303 0034 974C     		ldr	r4, .L141+8
 1304 0036 002B     		cmp	r3, #0
 1305 0038 0CD1     		bne	.L106
 499:Src/main.c    ****     disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1306              		.loc 1 499 45 discriminator 1 view .LVU349
 1307 003a E578     		ldrb	r5, [r4, #3]
 499:Src/main.c    ****     disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1308              		.loc 1 499 57 discriminator 1 view .LVU350
 1309 003c 0A21     		movs	r1, #10
 1310 003e 2800     		movs	r0, r5
 1311 0040 FFF7FEFF 		bl	__aeabi_uidiv
 1312              	.LVL57:
 499:Src/main.c    ****     disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1313              		.loc 1 499 13 discriminator 1 view .LVU351
 1314 0044 3030     		adds	r0, r0, #48
 1315              		.loc 1 500 57 discriminator 1 view .LVU352
 1316 0046 0A21     		movs	r1, #10
 499:Src/main.c    ****     disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1317              		.loc 1 499 13 discriminator 1 view .LVU353
 1318 0048 C6B2     		uxtb	r6, r0
ARM GAS  D:\Temp\ccoXQ802.s 			page 36


 1319              	.LVL58:
 1320              		.loc 1 500 5 is_stmt 1 view .LVU354
 1321              		.loc 1 500 57 is_stmt 0 discriminator 1 view .LVU355
 1322 004a 2800     		movs	r0, r5
 1323 004c FFF7FEFF 		bl	__aeabi_uidivmod
 1324              	.LVL59:
 1325              		.loc 1 500 13 discriminator 1 view .LVU356
 1326 0050 3031     		adds	r1, r1, #48
 1327 0052 CFB2     		uxtb	r7, r1
 1328              	.LVL60:
 1329              	.L106:
 501:Src/main.c    ****     disp[2] = lastTime.minutes / 10 + '0';
 1330              		.loc 1 501 5 is_stmt 1 view .LVU357
 1331              		.loc 1 501 23 is_stmt 0 view .LVU358
 1332 0054 6478     		ldrb	r4, [r4, #1]
 1333              	.LVL61:
 1334              	.L126:
 502:Src/main.c    ****     disp[3] = lastTime.minutes % 10 + '0';
 503:Src/main.c    ****   } else if (currentMode == MODE_SET_MINUTE) {
 504:Src/main.c    ****     disp[0] = lastTime.hours / 10 + '0';
 505:Src/main.c    ****     disp[1] = lastTime.hours % 10 + '0';
 506:Src/main.c    ****     disp[2] = blinkControl ? ' ' : lastTime.minutes / 10 + '0';
 507:Src/main.c    ****     disp[3] = blinkControl ? ' ' : lastTime.minutes % 10 + '0';
 508:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_ENABLE) {
 509:Src/main.c    ****     disp[0] = 'A';
 510:Src/main.c    ****     disp[1] = 'L';
 511:Src/main.c    ****     disp[2] = blinkControl ? ' ' : 'o';
 512:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 513:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 514:Src/main.c    ****     disp[0] = blinkControl ? ' ' : (alarmHour / 10 + '0');
 515:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 516:Src/main.c    ****     disp[2] = alarmMin / 10 + '0';
 517:Src/main.c    ****     disp[3] = alarmMin % 10 + '0';
 518:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_MINUTE) {
 519:Src/main.c    ****     disp[0] = alarmHour / 10 + '0';
 520:Src/main.c    ****     disp[1] = alarmHour % 10 + '0';
 521:Src/main.c    ****     disp[2] = blinkControl ? ' ' : alarmMin / 10 + '0';
 1335              		.loc 1 521 50 discriminator 1 view .LVU359
 1336 0056 0A21     		movs	r1, #10
 1337 0058 2000     		movs	r0, r4
 1338 005a FFF7FEFF 		bl	__aeabi_uidiv
 1339              	.LVL62:
 1340              		.loc 1 521 13 discriminator 1 view .LVU360
 1341 005e 3030     		adds	r0, r0, #48
 522:Src/main.c    ****     disp[3] = blinkControl ? ' ' : alarmMin % 10 + '0';
 1342              		.loc 1 522 50 discriminator 1 view .LVU361
 1343 0060 0A21     		movs	r1, #10
 521:Src/main.c    ****     disp[3] = blinkControl ? ' ' : alarmMin % 10 + '0';
 1344              		.loc 1 521 13 discriminator 1 view .LVU362
 1345 0062 C5B2     		uxtb	r5, r0
 1346              	.LVL63:
 1347              		.loc 1 522 5 is_stmt 1 view .LVU363
 1348              		.loc 1 522 50 is_stmt 0 discriminator 1 view .LVU364
 1349 0064 2000     		movs	r0, r4
 1350 0066 FFF7FEFF 		bl	__aeabi_uidivmod
 1351              	.LVL64:
 1352              		.loc 1 522 13 discriminator 1 view .LVU365
ARM GAS  D:\Temp\ccoXQ802.s 			page 37


 1353 006a 3031     		adds	r1, r1, #48
 1354 006c CCB2     		uxtb	r4, r1
 1355 006e 4FE0     		b	.L91
 1356              	.LVL65:
 1357              	.L104:
 504:Src/main.c    ****     disp[1] = lastTime.hours % 10 + '0';
 1358              		.loc 1 504 5 is_stmt 1 view .LVU366
 504:Src/main.c    ****     disp[1] = lastTime.hours % 10 + '0';
 1359              		.loc 1 504 23 is_stmt 0 view .LVU367
 1360 0070 884B     		ldr	r3, .L141+8
 504:Src/main.c    ****     disp[1] = lastTime.hours % 10 + '0';
 1361              		.loc 1 504 35 view .LVU368
 1362 0072 0A21     		movs	r1, #10
 504:Src/main.c    ****     disp[1] = lastTime.hours % 10 + '0';
 1363              		.loc 1 504 23 view .LVU369
 1364 0074 0193     		str	r3, [sp, #4]
 1365 0076 DC78     		ldrb	r4, [r3, #3]
 504:Src/main.c    ****     disp[1] = lastTime.hours % 10 + '0';
 1366              		.loc 1 504 35 view .LVU370
 1367 0078 2000     		movs	r0, r4
 1368 007a FFF7FEFF 		bl	__aeabi_uidiv
 1369              	.LVL66:
 1370 007e 3030     		adds	r0, r0, #48
 505:Src/main.c    ****     disp[2] = blinkControl ? ' ' : lastTime.minutes / 10 + '0';
 1371              		.loc 1 505 35 view .LVU371
 1372 0080 0A21     		movs	r1, #10
 504:Src/main.c    ****     disp[1] = lastTime.hours % 10 + '0';
 1373              		.loc 1 504 35 view .LVU372
 1374 0082 C6B2     		uxtb	r6, r0
 1375              	.LVL67:
 505:Src/main.c    ****     disp[2] = blinkControl ? ' ' : lastTime.minutes / 10 + '0';
 1376              		.loc 1 505 5 is_stmt 1 view .LVU373
 505:Src/main.c    ****     disp[2] = blinkControl ? ' ' : lastTime.minutes / 10 + '0';
 1377              		.loc 1 505 35 is_stmt 0 view .LVU374
 1378 0084 2000     		movs	r0, r4
 1379 0086 FFF7FEFF 		bl	__aeabi_uidivmod
 1380              	.LVL68:
 507:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_ENABLE) {
 1381              		.loc 1 507 13 discriminator 2 view .LVU375
 1382 008a 2024     		movs	r4, #32
 506:Src/main.c    ****     disp[3] = blinkControl ? ' ' : lastTime.minutes % 10 + '0';
 1383              		.loc 1 506 28 view .LVU376
 1384 008c 804B     		ldr	r3, .L141+4
 505:Src/main.c    ****     disp[2] = blinkControl ? ' ' : lastTime.minutes / 10 + '0';
 1385              		.loc 1 505 35 view .LVU377
 1386 008e 3031     		adds	r1, r1, #48
 506:Src/main.c    ****     disp[3] = blinkControl ? ' ' : lastTime.minutes % 10 + '0';
 1387              		.loc 1 506 13 view .LVU378
 1388 0090 1B78     		ldrb	r3, [r3]
 506:Src/main.c    ****     disp[3] = blinkControl ? ' ' : lastTime.minutes % 10 + '0';
 1389              		.loc 1 506 13 discriminator 4 view .LVU379
 1390 0092 2500     		movs	r5, r4
 505:Src/main.c    ****     disp[2] = blinkControl ? ' ' : lastTime.minutes / 10 + '0';
 1391              		.loc 1 505 35 view .LVU380
 1392 0094 CFB2     		uxtb	r7, r1
 1393              	.LVL69:
 506:Src/main.c    ****     disp[3] = blinkControl ? ' ' : lastTime.minutes % 10 + '0';
ARM GAS  D:\Temp\ccoXQ802.s 			page 38


 1394              		.loc 1 506 5 is_stmt 1 view .LVU381
 506:Src/main.c    ****     disp[3] = blinkControl ? ' ' : lastTime.minutes % 10 + '0';
 1395              		.loc 1 506 13 is_stmt 0 view .LVU382
 1396 0096 002B     		cmp	r3, #0
 1397 0098 3AD1     		bne	.L91
 506:Src/main.c    ****     disp[3] = blinkControl ? ' ' : lastTime.minutes % 10 + '0';
 1398              		.loc 1 506 44 discriminator 1 view .LVU383
 1399 009a 019B     		ldr	r3, [sp, #4]
 1400 009c 5C78     		ldrb	r4, [r3, #1]
 1401 009e DAE7     		b	.L126
 1402              	.LVL70:
 1403              	.L103:
 509:Src/main.c    ****     disp[1] = 'L';
 1404              		.loc 1 509 5 is_stmt 1 view .LVU384
 510:Src/main.c    ****     disp[2] = blinkControl ? ' ' : 'o';
 1405              		.loc 1 510 5 view .LVU385
 511:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1406              		.loc 1 511 5 view .LVU386
 511:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1407              		.loc 1 511 28 is_stmt 0 view .LVU387
 1408 00a0 7B4B     		ldr	r3, .L141+4
 511:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1409              		.loc 1 511 13 view .LVU388
 1410 00a2 1B78     		ldrb	r3, [r3]
 1411 00a4 002B     		cmp	r3, #0
 1412 00a6 00D0     		beq	.LCB1121
 1413 00a8 CEE0     		b	.L111	@long jump
 1414              	.LCB1121:
 1415              	.LVL71:
 512:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 1416              		.loc 1 512 5 is_stmt 1 view .LVU389
 512:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 1417              		.loc 1 512 51 is_stmt 0 discriminator 1 view .LVU390
 1418 00aa 7B4B     		ldr	r3, .L141+12
 512:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 1419              		.loc 1 512 13 discriminator 3 view .LVU391
 1420 00ac 6E24     		movs	r4, #110
 512:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 1421              		.loc 1 512 13 discriminator 1 view .LVU392
 1422 00ae 1B78     		ldrb	r3, [r3]
 1423 00b0 002B     		cmp	r3, #0
 1424 00b2 00D1     		bne	.L134
 512:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 1425              		.loc 1 512 13 discriminator 4 view .LVU393
 1426 00b4 4624     		movs	r4, #70
 1427              	.L134:
 511:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1428              		.loc 1 511 13 discriminator 4 view .LVU394
 1429 00b6 6F25     		movs	r5, #111
 1430 00b8 C8E0     		b	.L129
 1431              	.LVL72:
 1432              	.L102:
 514:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1433              		.loc 1 514 5 is_stmt 1 view .LVU395
 514:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1434              		.loc 1 514 13 is_stmt 0 discriminator 2 view .LVU396
 1435 00ba 2026     		movs	r6, #32
ARM GAS  D:\Temp\ccoXQ802.s 			page 39


 514:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1436              		.loc 1 514 28 view .LVU397
 1437 00bc 744B     		ldr	r3, .L141+4
 515:Src/main.c    ****     disp[2] = alarmMin / 10 + '0';
 1438              		.loc 1 515 13 discriminator 2 view .LVU398
 1439 00be 3700     		movs	r7, r6
 514:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1440              		.loc 1 514 13 view .LVU399
 1441 00c0 1B78     		ldrb	r3, [r3]
 1442 00c2 002B     		cmp	r3, #0
 1443 00c4 0DD1     		bne	.L128
 514:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1444              		.loc 1 514 52 discriminator 1 view .LVU400
 1445 00c6 754B     		ldr	r3, .L141+16
 1446 00c8 0A21     		movs	r1, #10
 1447 00ca 1C78     		ldrb	r4, [r3]
 1448 00cc 2000     		movs	r0, r4
 1449 00ce FFF7FEFF 		bl	__aeabi_uidiv
 1450              	.LVL73:
 514:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1451              		.loc 1 514 13 discriminator 1 view .LVU401
 1452 00d2 3030     		adds	r0, r0, #48
 515:Src/main.c    ****     disp[2] = alarmMin / 10 + '0';
 1453              		.loc 1 515 52 discriminator 1 view .LVU402
 1454 00d4 0A21     		movs	r1, #10
 514:Src/main.c    ****     disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1455              		.loc 1 514 13 discriminator 1 view .LVU403
 1456 00d6 C6B2     		uxtb	r6, r0
 1457              	.LVL74:
 515:Src/main.c    ****     disp[2] = alarmMin / 10 + '0';
 1458              		.loc 1 515 5 is_stmt 1 view .LVU404
 515:Src/main.c    ****     disp[2] = alarmMin / 10 + '0';
 1459              		.loc 1 515 52 is_stmt 0 discriminator 1 view .LVU405
 1460 00d8 2000     		movs	r0, r4
 1461 00da FFF7FEFF 		bl	__aeabi_uidivmod
 1462              	.LVL75:
 515:Src/main.c    ****     disp[2] = alarmMin / 10 + '0';
 1463              		.loc 1 515 13 discriminator 1 view .LVU406
 1464 00de 3031     		adds	r1, r1, #48
 1465 00e0 CFB2     		uxtb	r7, r1
 1466              	.LVL76:
 516:Src/main.c    ****     disp[3] = alarmMin % 10 + '0';
 1467              		.loc 1 516 5 is_stmt 1 view .LVU407
 1468              	.L128:
 521:Src/main.c    ****     disp[3] = blinkControl ? ' ' : alarmMin % 10 + '0';
 1469              		.loc 1 521 50 is_stmt 0 discriminator 1 view .LVU408
 1470 00e2 6F4B     		ldr	r3, .L141+20
 1471 00e4 1C78     		ldrb	r4, [r3]
 1472 00e6 B6E7     		b	.L126
 1473              	.LVL77:
 1474              	.L101:
 519:Src/main.c    ****     disp[1] = alarmHour % 10 + '0';
 1475              		.loc 1 519 5 is_stmt 1 view .LVU409
 519:Src/main.c    ****     disp[1] = alarmHour % 10 + '0';
 1476              		.loc 1 519 30 is_stmt 0 view .LVU410
 1477 00e8 6C4B     		ldr	r3, .L141+16
 1478 00ea 0A21     		movs	r1, #10
ARM GAS  D:\Temp\ccoXQ802.s 			page 40


 1479 00ec 1C78     		ldrb	r4, [r3]
 1480 00ee 2000     		movs	r0, r4
 1481 00f0 FFF7FEFF 		bl	__aeabi_uidiv
 1482              	.LVL78:
 1483 00f4 3030     		adds	r0, r0, #48
 520:Src/main.c    ****     disp[2] = blinkControl ? ' ' : alarmMin / 10 + '0';
 1484              		.loc 1 520 30 view .LVU411
 1485 00f6 0A21     		movs	r1, #10
 519:Src/main.c    ****     disp[1] = alarmHour % 10 + '0';
 1486              		.loc 1 519 30 view .LVU412
 1487 00f8 C6B2     		uxtb	r6, r0
 1488              	.LVL79:
 520:Src/main.c    ****     disp[2] = blinkControl ? ' ' : alarmMin / 10 + '0';
 1489              		.loc 1 520 5 is_stmt 1 view .LVU413
 520:Src/main.c    ****     disp[2] = blinkControl ? ' ' : alarmMin / 10 + '0';
 1490              		.loc 1 520 30 is_stmt 0 view .LVU414
 1491 00fa 2000     		movs	r0, r4
 1492 00fc FFF7FEFF 		bl	__aeabi_uidivmod
 1493              	.LVL80:
 1494              		.loc 1 522 13 discriminator 2 view .LVU415
 1495 0100 2024     		movs	r4, #32
 521:Src/main.c    ****     disp[3] = blinkControl ? ' ' : alarmMin % 10 + '0';
 1496              		.loc 1 521 28 view .LVU416
 1497 0102 634B     		ldr	r3, .L141+4
 520:Src/main.c    ****     disp[2] = blinkControl ? ' ' : alarmMin / 10 + '0';
 1498              		.loc 1 520 30 view .LVU417
 1499 0104 3031     		adds	r1, r1, #48
 521:Src/main.c    ****     disp[3] = blinkControl ? ' ' : alarmMin % 10 + '0';
 1500              		.loc 1 521 13 view .LVU418
 1501 0106 1B78     		ldrb	r3, [r3]
 521:Src/main.c    ****     disp[3] = blinkControl ? ' ' : alarmMin % 10 + '0';
 1502              		.loc 1 521 13 discriminator 4 view .LVU419
 1503 0108 2500     		movs	r5, r4
 520:Src/main.c    ****     disp[2] = blinkControl ? ' ' : alarmMin / 10 + '0';
 1504              		.loc 1 520 30 view .LVU420
 1505 010a CFB2     		uxtb	r7, r1
 1506              	.LVL81:
 521:Src/main.c    ****     disp[3] = blinkControl ? ' ' : alarmMin % 10 + '0';
 1507              		.loc 1 521 5 is_stmt 1 view .LVU421
 521:Src/main.c    ****     disp[3] = blinkControl ? ' ' : alarmMin % 10 + '0';
 1508              		.loc 1 521 13 is_stmt 0 view .LVU422
 1509 010c 002B     		cmp	r3, #0
 1510 010e E8D0     		beq	.L128
 1511              	.LVL82:
 1512              	.L91:
 523:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_SHOW) {
 524:Src/main.c    ****     disp[0] = 'T';
 525:Src/main.c    ****     disp[1] = 'S';
 526:Src/main.c    ****     disp[2] = blinkControl ? ' ' : tempertureShowTime / 10 + '0';
 527:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureShowTime % 10 + '0';
 528:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 529:Src/main.c    ****     disp[0] = 'T';
 530:Src/main.c    ****     disp[1] = 'H';
 531:Src/main.c    ****     disp[2] = blinkControl ? ' ' : tempertureHideTime / 10 + '0';
 532:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureHideTime % 10 + '0';
 533:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS) {
 534:Src/main.c    ****     disp[0] = 'b';
ARM GAS  D:\Temp\ccoXQ802.s 			page 41


 535:Src/main.c    ****     disp[1] = 'r';
 536:Src/main.c    ****     if (savedBrightness) {
 537:Src/main.c    ****       disp[2] = blinkControl ? ' ' : '0';
 538:Src/main.c    ****       disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 539:Src/main.c    ****     } else {
 540:Src/main.c    ****       disp[2] = 'A';
 541:Src/main.c    ****       disp[3] = 'U';
 542:Src/main.c    ****     }
 543:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_STRONG) {
 544:Src/main.c    ****     disp[0] = 'b';
 545:Src/main.c    ****     disp[1] = '1';
 546:Src/main.c    ****     disp[2] = blinkControl ? ' ' : '0';
 547:Src/main.c    ****     disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 548:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 549:Src/main.c    ****     disp[0] = 'b';
 550:Src/main.c    ****     disp[1] = '2';
 551:Src/main.c    ****     disp[2] = blinkControl ? ' ' : '0';
 552:Src/main.c    ****     disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 553:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 554:Src/main.c    ****     disp[0] = 'r';
 555:Src/main.c    ****     disp[1] = 'o';
 556:Src/main.c    ****     disp[2] = blinkControl ? ' ' : 'o';
 557:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 558:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 559:Src/main.c    ****     disp[0] = 'r';
 560:Src/main.c    ****     disp[1] = 'S';
 561:Src/main.c    ****     disp[2] = blinkControl ? ' ' : ringOnTimeStart / 10 + '0';
 562:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10 + '0';
 563:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 564:Src/main.c    ****     disp[0] = 'r';
 565:Src/main.c    ****     disp[1] = 'e';
 566:Src/main.c    ****     disp[2] = blinkControl ? ' ' : ringOnTimeStop / 10 + '0';
 567:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10 + '0';
 568:Src/main.c    ****   }
 569:Src/main.c    **** 
 570:Src/main.c    ****   TM1637SetChar(0, disp[0], false);
 1513              		.loc 1 570 3 is_stmt 1 view .LVU423
 571:Src/main.c    ****   TM1637SetChar(1, disp[1], true);
 572:Src/main.c    ****   TM1637SetChar(2, disp[2], false);
 573:Src/main.c    ****   TM1637SetChar(3, disp[3], false);
 574:Src/main.c    **** }
 1514              		.loc 1 574 1 is_stmt 0 view .LVU424
 1515              		@ sp needed
 570:Src/main.c    ****   TM1637SetChar(1, disp[1], true);
 1516              		.loc 1 570 3 view .LVU425
 1517 0110 0022     		movs	r2, #0
 1518 0112 3100     		movs	r1, r6
 1519 0114 1000     		movs	r0, r2
 1520 0116 FFF7FEFF 		bl	TM1637SetChar
 1521              	.LVL83:
 571:Src/main.c    ****   TM1637SetChar(1, disp[1], true);
 1522              		.loc 1 571 3 is_stmt 1 view .LVU426
 1523 011a 0122     		movs	r2, #1
 1524 011c 3900     		movs	r1, r7
 1525 011e 1000     		movs	r0, r2
 1526 0120 FFF7FEFF 		bl	TM1637SetChar
 1527              	.LVL84:
ARM GAS  D:\Temp\ccoXQ802.s 			page 42


 572:Src/main.c    ****   TM1637SetChar(3, disp[3], false);
 1528              		.loc 1 572 3 view .LVU427
 1529 0124 2900     		movs	r1, r5
 1530 0126 0022     		movs	r2, #0
 1531 0128 0220     		movs	r0, #2
 1532 012a FFF7FEFF 		bl	TM1637SetChar
 1533              	.LVL85:
 573:Src/main.c    **** }
 1534              		.loc 1 573 3 view .LVU428
 1535 012e 0022     		movs	r2, #0
 1536 0130 2100     		movs	r1, r4
 1537 0132 0320     		movs	r0, #3
 1538 0134 FFF7FEFF 		bl	TM1637SetChar
 1539              	.LVL86:
 1540              		.loc 1 574 1 is_stmt 0 view .LVU429
 1541 0138 F7BD     		pop	{r0, r1, r2, r4, r5, r6, r7, pc}
 1542              	.LVL87:
 1543              	.L100:
 524:Src/main.c    ****     disp[1] = 'S';
 1544              		.loc 1 524 5 is_stmt 1 view .LVU430
 525:Src/main.c    ****     disp[2] = blinkControl ? ' ' : tempertureShowTime / 10 + '0';
 1545              		.loc 1 525 5 view .LVU431
 526:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureShowTime % 10 + '0';
 1546              		.loc 1 526 5 view .LVU432
 526:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureShowTime % 10 + '0';
 1547              		.loc 1 526 28 is_stmt 0 view .LVU433
 1548 013a 554B     		ldr	r3, .L141+4
 526:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureShowTime % 10 + '0';
 1549              		.loc 1 526 13 view .LVU434
 1550 013c 1B78     		ldrb	r3, [r3]
 1551 013e 002B     		cmp	r3, #0
 1552 0140 00D0     		beq	.LCB1256
 1553 0142 86E0     		b	.L115	@long jump
 1554              	.LCB1256:
 526:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureShowTime % 10 + '0';
 1555              		.loc 1 526 60 discriminator 1 view .LVU435
 1556 0144 574B     		ldr	r3, .L141+24
 1557 0146 0A21     		movs	r1, #10
 1558 0148 1C78     		ldrb	r4, [r3]
 1559 014a 2000     		movs	r0, r4
 1560 014c FFF7FEFF 		bl	__aeabi_uidiv
 1561              	.LVL88:
 526:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureShowTime % 10 + '0';
 1562              		.loc 1 526 13 discriminator 1 view .LVU436
 1563 0150 3030     		adds	r0, r0, #48
 527:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 1564              		.loc 1 527 60 discriminator 1 view .LVU437
 1565 0152 0A21     		movs	r1, #10
 526:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureShowTime % 10 + '0';
 1566              		.loc 1 526 13 discriminator 1 view .LVU438
 1567 0154 C5B2     		uxtb	r5, r0
 1568              	.LVL89:
 527:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 1569              		.loc 1 527 5 is_stmt 1 view .LVU439
 527:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 1570              		.loc 1 527 60 is_stmt 0 discriminator 1 view .LVU440
 1571 0156 2000     		movs	r0, r4
ARM GAS  D:\Temp\ccoXQ802.s 			page 43


 1572 0158 FFF7FEFF 		bl	__aeabi_uidivmod
 1573              	.LVL90:
 527:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 1574              		.loc 1 527 13 discriminator 1 view .LVU441
 1575 015c 3031     		adds	r1, r1, #48
 1576 015e CCB2     		uxtb	r4, r1
 1577              	.LVL91:
 1578              	.L130:
 525:Src/main.c    ****     disp[2] = blinkControl ? ' ' : tempertureShowTime / 10 + '0';
 1579              		.loc 1 525 13 view .LVU442
 1580 0160 5327     		movs	r7, #83
 1581              	.LVL92:
 1582              	.L131:
 524:Src/main.c    ****     disp[1] = 'S';
 1583              		.loc 1 524 13 view .LVU443
 1584 0162 5426     		movs	r6, #84
 1585 0164 D4E7     		b	.L91
 1586              	.LVL93:
 1587              	.L99:
 529:Src/main.c    ****     disp[1] = 'H';
 1588              		.loc 1 529 5 is_stmt 1 view .LVU444
 530:Src/main.c    ****     disp[2] = blinkControl ? ' ' : tempertureHideTime / 10 + '0';
 1589              		.loc 1 530 5 view .LVU445
 531:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureHideTime % 10 + '0';
 1590              		.loc 1 531 5 view .LVU446
 531:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureHideTime % 10 + '0';
 1591              		.loc 1 531 28 is_stmt 0 view .LVU447
 1592 0166 4A4B     		ldr	r3, .L141+4
 531:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureHideTime % 10 + '0';
 1593              		.loc 1 531 13 view .LVU448
 1594 0168 1B78     		ldrb	r3, [r3]
 1595 016a 002B     		cmp	r3, #0
 1596 016c 74D1     		bne	.L116
 531:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureHideTime % 10 + '0';
 1597              		.loc 1 531 60 discriminator 1 view .LVU449
 1598 016e 4E4B     		ldr	r3, .L141+28
 1599 0170 0A21     		movs	r1, #10
 1600 0172 1C78     		ldrb	r4, [r3]
 1601 0174 2000     		movs	r0, r4
 1602 0176 FFF7FEFF 		bl	__aeabi_uidiv
 1603              	.LVL94:
 531:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureHideTime % 10 + '0';
 1604              		.loc 1 531 13 discriminator 1 view .LVU450
 1605 017a 3030     		adds	r0, r0, #48
 532:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS) {
 1606              		.loc 1 532 60 discriminator 1 view .LVU451
 1607 017c 0A21     		movs	r1, #10
 531:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureHideTime % 10 + '0';
 1608              		.loc 1 531 13 discriminator 1 view .LVU452
 1609 017e C5B2     		uxtb	r5, r0
 1610              	.LVL95:
 532:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS) {
 1611              		.loc 1 532 5 is_stmt 1 view .LVU453
 532:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS) {
 1612              		.loc 1 532 60 is_stmt 0 discriminator 1 view .LVU454
 1613 0180 2000     		movs	r0, r4
 1614 0182 FFF7FEFF 		bl	__aeabi_uidivmod
ARM GAS  D:\Temp\ccoXQ802.s 			page 44


 1615              	.LVL96:
 532:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS) {
 1616              		.loc 1 532 13 discriminator 1 view .LVU455
 1617 0186 3031     		adds	r1, r1, #48
 1618 0188 CCB2     		uxtb	r4, r1
 1619              	.LVL97:
 1620              	.L135:
 530:Src/main.c    ****     disp[2] = blinkControl ? ' ' : tempertureHideTime / 10 + '0';
 1621              		.loc 1 530 13 view .LVU456
 1622 018a 4827     		movs	r7, #72
 1623 018c E9E7     		b	.L131
 1624              	.LVL98:
 1625              	.L98:
 534:Src/main.c    ****     disp[1] = 'r';
 1626              		.loc 1 534 5 is_stmt 1 view .LVU457
 535:Src/main.c    ****     if (savedBrightness) {
 1627              		.loc 1 535 5 view .LVU458
 536:Src/main.c    ****       disp[2] = blinkControl ? ' ' : '0';
 1628              		.loc 1 536 5 view .LVU459
 536:Src/main.c    ****       disp[2] = blinkControl ? ' ' : '0';
 1629              		.loc 1 536 9 is_stmt 0 view .LVU460
 1630 018e 474B     		ldr	r3, .L141+32
 1631 0190 1C78     		ldrb	r4, [r3]
 536:Src/main.c    ****       disp[2] = blinkControl ? ' ' : '0';
 1632              		.loc 1 536 8 view .LVU461
 1633 0192 002C     		cmp	r4, #0
 1634 0194 63D0     		beq	.L117
 537:Src/main.c    ****       disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1635              		.loc 1 537 7 is_stmt 1 view .LVU462
 537:Src/main.c    ****       disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1636              		.loc 1 537 30 is_stmt 0 view .LVU463
 1637 0196 3E4B     		ldr	r3, .L141+4
 537:Src/main.c    ****       disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1638              		.loc 1 537 15 view .LVU464
 1639 0198 1B78     		ldrb	r3, [r3]
 1640 019a 002B     		cmp	r3, #0
 1641 019c 62D1     		bne	.L118
 1642              	.LVL99:
 538:Src/main.c    ****     } else {
 1643              		.loc 1 538 7 is_stmt 1 view .LVU465
 537:Src/main.c    ****       disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1644              		.loc 1 537 15 is_stmt 0 discriminator 4 view .LVU466
 1645 019e 3025     		movs	r5, #48
 538:Src/main.c    ****     } else {
 1646              		.loc 1 538 15 discriminator 1 view .LVU467
 1647 01a0 3034     		adds	r4, r4, #48
 1648 01a2 E4B2     		uxtb	r4, r4
 1649              	.LVL100:
 1650              	.L132:
 535:Src/main.c    ****     if (savedBrightness) {
 1651              		.loc 1 535 13 view .LVU468
 1652 01a4 7227     		movs	r7, #114
 1653              	.LVL101:
 1654              	.L133:
 534:Src/main.c    ****     disp[1] = 'r';
 1655              		.loc 1 534 13 view .LVU469
 1656 01a6 6226     		movs	r6, #98
ARM GAS  D:\Temp\ccoXQ802.s 			page 45


 1657 01a8 B2E7     		b	.L91
 1658              	.LVL102:
 1659              	.L97:
 544:Src/main.c    ****     disp[1] = '1';
 1660              		.loc 1 544 5 is_stmt 1 view .LVU470
 545:Src/main.c    ****     disp[2] = blinkControl ? ' ' : '0';
 1661              		.loc 1 545 5 view .LVU471
 546:Src/main.c    ****     disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1662              		.loc 1 546 5 view .LVU472
 546:Src/main.c    ****     disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1663              		.loc 1 546 28 is_stmt 0 view .LVU473
 1664 01aa 394B     		ldr	r3, .L141+4
 546:Src/main.c    ****     disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1665              		.loc 1 546 13 view .LVU474
 1666 01ac 1B78     		ldrb	r3, [r3]
 1667 01ae 002B     		cmp	r3, #0
 1668 01b0 5BD1     		bne	.L119
 1669              	.LVL103:
 547:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 1670              		.loc 1 547 5 is_stmt 1 view .LVU475
 546:Src/main.c    ****     disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1671              		.loc 1 546 13 is_stmt 0 discriminator 4 view .LVU476
 1672 01b2 3025     		movs	r5, #48
 547:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 1673              		.loc 1 547 53 discriminator 1 view .LVU477
 1674 01b4 3E4B     		ldr	r3, .L141+36
 547:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 1675              		.loc 1 547 13 discriminator 1 view .LVU478
 1676 01b6 1C78     		ldrb	r4, [r3]
 1677 01b8 3034     		adds	r4, r4, #48
 1678 01ba E4B2     		uxtb	r4, r4
 1679              	.LVL104:
 1680              	.L136:
 545:Src/main.c    ****     disp[2] = blinkControl ? ' ' : '0';
 1681              		.loc 1 545 13 view .LVU479
 1682 01bc 3127     		movs	r7, #49
 1683 01be F2E7     		b	.L133
 1684              	.LVL105:
 1685              	.L96:
 549:Src/main.c    ****     disp[1] = '2';
 1686              		.loc 1 549 5 is_stmt 1 view .LVU480
 550:Src/main.c    ****     disp[2] = blinkControl ? ' ' : '0';
 1687              		.loc 1 550 5 view .LVU481
 551:Src/main.c    ****     disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1688              		.loc 1 551 5 view .LVU482
 551:Src/main.c    ****     disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1689              		.loc 1 551 28 is_stmt 0 view .LVU483
 1690 01c0 334B     		ldr	r3, .L141+4
 551:Src/main.c    ****     disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1691              		.loc 1 551 13 view .LVU484
 1692 01c2 1B78     		ldrb	r3, [r3]
 1693 01c4 002B     		cmp	r3, #0
 1694 01c6 53D1     		bne	.L120
 1695              	.LVL106:
 552:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 1696              		.loc 1 552 5 is_stmt 1 view .LVU485
 551:Src/main.c    ****     disp[3] = blinkControl ? ' ' : weakBrightness + '0';
ARM GAS  D:\Temp\ccoXQ802.s 			page 46


 1697              		.loc 1 551 13 is_stmt 0 discriminator 4 view .LVU486
 1698 01c8 3025     		movs	r5, #48
 552:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 1699              		.loc 1 552 51 discriminator 1 view .LVU487
 1700 01ca 3A4B     		ldr	r3, .L141+40
 552:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 1701              		.loc 1 552 13 discriminator 1 view .LVU488
 1702 01cc 1C78     		ldrb	r4, [r3]
 1703 01ce 3034     		adds	r4, r4, #48
 1704 01d0 E4B2     		uxtb	r4, r4
 1705              	.LVL107:
 1706              	.L137:
 550:Src/main.c    ****     disp[2] = blinkControl ? ' ' : '0';
 1707              		.loc 1 550 13 view .LVU489
 1708 01d2 3227     		movs	r7, #50
 1709 01d4 E7E7     		b	.L133
 1710              	.LVL108:
 1711              	.L95:
 554:Src/main.c    ****     disp[1] = 'o';
 1712              		.loc 1 554 5 is_stmt 1 view .LVU490
 555:Src/main.c    ****     disp[2] = blinkControl ? ' ' : 'o';
 1713              		.loc 1 555 5 view .LVU491
 556:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1714              		.loc 1 556 5 view .LVU492
 556:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1715              		.loc 1 556 28 is_stmt 0 view .LVU493
 1716 01d6 2E4B     		ldr	r3, .L141+4
 556:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1717              		.loc 1 556 13 view .LVU494
 1718 01d8 1B78     		ldrb	r3, [r3]
 1719 01da 002B     		cmp	r3, #0
 1720 01dc 4BD1     		bne	.L121
 1721              	.LVL109:
 557:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 1722              		.loc 1 557 5 is_stmt 1 view .LVU495
 557:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 1723              		.loc 1 557 56 is_stmt 0 discriminator 1 view .LVU496
 1724 01de 364B     		ldr	r3, .L141+44
 557:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 1725              		.loc 1 557 13 discriminator 3 view .LVU497
 1726 01e0 6E24     		movs	r4, #110
 557:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 1727              		.loc 1 557 13 discriminator 1 view .LVU498
 1728 01e2 1B78     		ldrb	r3, [r3]
 1729 01e4 002B     		cmp	r3, #0
 1730 01e6 00D1     		bne	.L138
 557:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 1731              		.loc 1 557 13 discriminator 4 view .LVU499
 1732 01e8 4624     		movs	r4, #70
 1733              	.L138:
 556:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1734              		.loc 1 556 13 discriminator 4 view .LVU500
 1735 01ea 6F25     		movs	r5, #111
 1736 01ec 45E0     		b	.L139
 1737              	.LVL110:
 1738              	.L94:
 559:Src/main.c    ****     disp[1] = 'S';
ARM GAS  D:\Temp\ccoXQ802.s 			page 47


 1739              		.loc 1 559 5 is_stmt 1 view .LVU501
 560:Src/main.c    ****     disp[2] = blinkControl ? ' ' : ringOnTimeStart / 10 + '0';
 1740              		.loc 1 560 5 view .LVU502
 561:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10 + '0';
 1741              		.loc 1 561 5 view .LVU503
 561:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10 + '0';
 1742              		.loc 1 561 28 is_stmt 0 view .LVU504
 1743 01ee 284B     		ldr	r3, .L141+4
 561:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10 + '0';
 1744              		.loc 1 561 13 view .LVU505
 1745 01f0 1B78     		ldrb	r3, [r3]
 1746 01f2 002B     		cmp	r3, #0
 1747 01f4 44D1     		bne	.L123
 561:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10 + '0';
 1748              		.loc 1 561 57 discriminator 1 view .LVU506
 1749 01f6 314B     		ldr	r3, .L141+48
 1750 01f8 0A21     		movs	r1, #10
 1751 01fa 1C78     		ldrb	r4, [r3]
 1752 01fc 2000     		movs	r0, r4
 1753 01fe FFF7FEFF 		bl	__aeabi_uidiv
 1754              	.LVL111:
 561:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10 + '0';
 1755              		.loc 1 561 13 discriminator 1 view .LVU507
 1756 0202 3030     		adds	r0, r0, #48
 562:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 1757              		.loc 1 562 57 discriminator 1 view .LVU508
 1758 0204 0A21     		movs	r1, #10
 561:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10 + '0';
 1759              		.loc 1 561 13 discriminator 1 view .LVU509
 1760 0206 C5B2     		uxtb	r5, r0
 1761              	.LVL112:
 562:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 1762              		.loc 1 562 5 is_stmt 1 view .LVU510
 562:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 1763              		.loc 1 562 57 is_stmt 0 discriminator 1 view .LVU511
 1764 0208 2000     		movs	r0, r4
 1765 020a FFF7FEFF 		bl	__aeabi_uidivmod
 1766              	.LVL113:
 562:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 1767              		.loc 1 562 13 discriminator 1 view .LVU512
 1768 020e 3031     		adds	r1, r1, #48
 1769 0210 CCB2     		uxtb	r4, r1
 1770              	.LVL114:
 1771              	.L140:
 560:Src/main.c    ****     disp[2] = blinkControl ? ' ' : ringOnTimeStart / 10 + '0';
 1772              		.loc 1 560 13 view .LVU513
 1773 0212 5327     		movs	r7, #83
 1774 0214 32E0     		b	.L125
 1775              	.LVL115:
 1776              	.L92:
 564:Src/main.c    ****     disp[1] = 'e';
 1777              		.loc 1 564 5 is_stmt 1 view .LVU514
 565:Src/main.c    ****     disp[2] = blinkControl ? ' ' : ringOnTimeStop / 10 + '0';
 1778              		.loc 1 565 5 view .LVU515
 566:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10 + '0';
 1779              		.loc 1 566 5 view .LVU516
 566:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10 + '0';
ARM GAS  D:\Temp\ccoXQ802.s 			page 48


 1780              		.loc 1 566 28 is_stmt 0 view .LVU517
 1781 0216 1E4B     		ldr	r3, .L141+4
 566:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10 + '0';
 1782              		.loc 1 566 13 view .LVU518
 1783 0218 1B78     		ldrb	r3, [r3]
 1784 021a 002B     		cmp	r3, #0
 1785 021c 33D1     		bne	.L124
 566:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10 + '0';
 1786              		.loc 1 566 56 discriminator 1 view .LVU519
 1787 021e 284B     		ldr	r3, .L141+52
 1788 0220 0A21     		movs	r1, #10
 1789 0222 1C78     		ldrb	r4, [r3]
 1790 0224 2000     		movs	r0, r4
 1791 0226 FFF7FEFF 		bl	__aeabi_uidiv
 1792              	.LVL116:
 566:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10 + '0';
 1793              		.loc 1 566 13 discriminator 1 view .LVU520
 1794 022a 3030     		adds	r0, r0, #48
 567:Src/main.c    ****   }
 1795              		.loc 1 567 56 discriminator 1 view .LVU521
 1796 022c 0A21     		movs	r1, #10
 566:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10 + '0';
 1797              		.loc 1 566 13 discriminator 1 view .LVU522
 1798 022e C5B2     		uxtb	r5, r0
 1799              	.LVL117:
 567:Src/main.c    ****   }
 1800              		.loc 1 567 5 is_stmt 1 view .LVU523
 567:Src/main.c    ****   }
 1801              		.loc 1 567 56 is_stmt 0 discriminator 1 view .LVU524
 1802 0230 2000     		movs	r0, r4
 1803 0232 FFF7FEFF 		bl	__aeabi_uidivmod
 1804              	.LVL118:
 567:Src/main.c    ****   }
 1805              		.loc 1 567 13 discriminator 1 view .LVU525
 1806 0236 3031     		adds	r1, r1, #48
 1807 0238 CCB2     		uxtb	r4, r1
 1808              	.LVL119:
 1809              	.L127:
 565:Src/main.c    ****     disp[2] = blinkControl ? ' ' : ringOnTimeStop / 10 + '0';
 1810              		.loc 1 565 13 view .LVU526
 1811 023a 6527     		movs	r7, #101
 1812 023c 1EE0     		b	.L125
 1813              	.LVL120:
 1814              	.L108:
 498:Src/main.c    ****     disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1815              		.loc 1 498 19 view .LVU527
 1816 023e 0024     		movs	r4, #0
 1817 0240 2500     		movs	r5, r4
 1818 0242 2700     		movs	r7, r4
 1819 0244 2600     		movs	r6, r4
 1820 0246 63E7     		b	.L91
 1821              	.LVL121:
 1822              	.L111:
 512:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 1823              		.loc 1 512 13 discriminator 2 view .LVU528
 1824 0248 2024     		movs	r4, #32
 511:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
ARM GAS  D:\Temp\ccoXQ802.s 			page 49


 1825              		.loc 1 511 13 discriminator 4 view .LVU529
 1826 024a 2500     		movs	r5, r4
 1827              	.LVL122:
 1828              	.L129:
 510:Src/main.c    ****     disp[2] = blinkControl ? ' ' : 'o';
 1829              		.loc 1 510 13 view .LVU530
 1830 024c 4C27     		movs	r7, #76
 509:Src/main.c    ****     disp[1] = 'L';
 1831              		.loc 1 509 13 view .LVU531
 1832 024e 4126     		movs	r6, #65
 1833 0250 5EE7     		b	.L91
 1834              	.LVL123:
 1835              	.L115:
 527:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 1836              		.loc 1 527 13 discriminator 2 view .LVU532
 1837 0252 2024     		movs	r4, #32
 526:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureShowTime % 10 + '0';
 1838              		.loc 1 526 13 discriminator 4 view .LVU533
 1839 0254 2500     		movs	r5, r4
 1840 0256 83E7     		b	.L130
 1841              	.LVL124:
 1842              	.L116:
 532:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS) {
 1843              		.loc 1 532 13 discriminator 2 view .LVU534
 1844 0258 2024     		movs	r4, #32
 531:Src/main.c    ****     disp[3] = blinkControl ? ' ' : tempertureHideTime % 10 + '0';
 1845              		.loc 1 531 13 discriminator 4 view .LVU535
 1846 025a 2500     		movs	r5, r4
 1847 025c 95E7     		b	.L135
 1848              	.LVL125:
 1849              	.L117:
 541:Src/main.c    ****     }
 1850              		.loc 1 541 15 view .LVU536
 1851 025e 5524     		movs	r4, #85
 540:Src/main.c    ****       disp[3] = 'U';
 1852              		.loc 1 540 15 view .LVU537
 1853 0260 4125     		movs	r5, #65
 1854 0262 9FE7     		b	.L132
 1855              	.L118:
 538:Src/main.c    ****     } else {
 1856              		.loc 1 538 15 discriminator 2 view .LVU538
 1857 0264 2024     		movs	r4, #32
 537:Src/main.c    ****       disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1858              		.loc 1 537 15 discriminator 4 view .LVU539
 1859 0266 2500     		movs	r5, r4
 1860 0268 9CE7     		b	.L132
 1861              	.LVL126:
 1862              	.L119:
 547:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 1863              		.loc 1 547 13 discriminator 2 view .LVU540
 1864 026a 2024     		movs	r4, #32
 546:Src/main.c    ****     disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1865              		.loc 1 546 13 discriminator 4 view .LVU541
 1866 026c 2500     		movs	r5, r4
 1867 026e A5E7     		b	.L136
 1868              	.LVL127:
 1869              	.L120:
ARM GAS  D:\Temp\ccoXQ802.s 			page 50


 552:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 1870              		.loc 1 552 13 discriminator 2 view .LVU542
 1871 0270 2024     		movs	r4, #32
 551:Src/main.c    ****     disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1872              		.loc 1 551 13 discriminator 4 view .LVU543
 1873 0272 2500     		movs	r5, r4
 1874 0274 ADE7     		b	.L137
 1875              	.LVL128:
 1876              	.L121:
 557:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 1877              		.loc 1 557 13 discriminator 2 view .LVU544
 1878 0276 2024     		movs	r4, #32
 556:Src/main.c    ****     disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1879              		.loc 1 556 13 discriminator 4 view .LVU545
 1880 0278 2500     		movs	r5, r4
 1881              	.LVL129:
 1882              	.L139:
 555:Src/main.c    ****     disp[2] = blinkControl ? ' ' : 'o';
 1883              		.loc 1 555 13 view .LVU546
 1884 027a 6F27     		movs	r7, #111
 1885              	.LVL130:
 1886              	.L125:
 564:Src/main.c    ****     disp[1] = 'e';
 1887              		.loc 1 564 13 view .LVU547
 1888 027c 7226     		movs	r6, #114
 1889 027e 47E7     		b	.L91
 1890              	.LVL131:
 1891              	.L123:
 562:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 1892              		.loc 1 562 13 discriminator 2 view .LVU548
 1893 0280 2024     		movs	r4, #32
 561:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10 + '0';
 1894              		.loc 1 561 13 discriminator 4 view .LVU549
 1895 0282 2500     		movs	r5, r4
 1896 0284 C5E7     		b	.L140
 1897              	.LVL132:
 1898              	.L124:
 567:Src/main.c    ****   }
 1899              		.loc 1 567 13 discriminator 2 view .LVU550
 1900 0286 2024     		movs	r4, #32
 566:Src/main.c    ****     disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10 + '0';
 1901              		.loc 1 566 13 discriminator 4 view .LVU551
 1902 0288 2500     		movs	r5, r4
 1903 028a D6E7     		b	.L127
 1904              	.L142:
 1905              		.align	2
 1906              	.L141:
 1907 028c 00000000 		.word	currentMode
 1908 0290 00000000 		.word	blinkControl
 1909 0294 00000000 		.word	lastTime
 1910 0298 00000000 		.word	isAlarmEnabled
 1911 029c 00000000 		.word	alarmHour
 1912 02a0 00000000 		.word	alarmMin
 1913 02a4 00000000 		.word	tempertureShowTime
 1914 02a8 00000000 		.word	tempertureHideTime
 1915 02ac 00000000 		.word	savedBrightness
 1916 02b0 00000000 		.word	strongBrightness
ARM GAS  D:\Temp\ccoXQ802.s 			page 51


 1917 02b4 00000000 		.word	weakBrightness
 1918 02b8 00000000 		.word	isRingOnTimeEnabled
 1919 02bc 00000000 		.word	ringOnTimeStart
 1920 02c0 00000000 		.word	ringOnTimeStop
 1921              		.cfi_endproc
 1922              	.LFE47:
 1924              		.section	.text.modeKeyClicked,"ax",%progbits
 1925              		.align	1
 1926              		.global	modeKeyClicked
 1927              		.syntax unified
 1928              		.code	16
 1929              		.thumb_func
 1931              	modeKeyClicked:
 1932              	.LFB48:
 575:Src/main.c    **** 
 576:Src/main.c    **** void modeKeyClicked() {
 1933              		.loc 1 576 23 is_stmt 1 view -0
 1934              		.cfi_startproc
 1935              		@ args = 0, pretend = 0, frame = 0
 1936              		@ frame_needed = 0, uses_anonymous_args = 0
 577:Src/main.c    **** 
 578:Src/main.c    ****   if (isAlarming) {
 1937              		.loc 1 578 3 view .LVU553
 1938              		.loc 1 578 7 is_stmt 0 view .LVU554
 1939 0000 4C4B     		ldr	r3, .L174
 576:Src/main.c    **** 
 1940              		.loc 1 576 23 view .LVU555
 1941 0002 70B5     		push	{r4, r5, r6, lr}
 1942              	.LCFI10:
 1943              		.cfi_def_cfa_offset 16
 1944              		.cfi_offset 4, -16
 1945              		.cfi_offset 5, -12
 1946              		.cfi_offset 6, -8
 1947              		.cfi_offset 14, -4
 1948              		.loc 1 578 6 view .LVU556
 1949 0004 1B78     		ldrb	r3, [r3]
 1950 0006 002B     		cmp	r3, #0
 1951 0008 02D0     		beq	.L144
 579:Src/main.c    ****     alarmStop();
 1952              		.loc 1 579 5 is_stmt 1 view .LVU557
 1953 000a FFF7FEFF 		bl	alarmStop
 1954              	.LVL133:
 580:Src/main.c    ****     return;
 1955              		.loc 1 580 5 view .LVU558
 1956              	.L143:
 581:Src/main.c    ****   }
 582:Src/main.c    **** 
 583:Src/main.c    ****   if (currentMode == MODE_SHOW_TIME || currentMode == MODE_SHOW_TEMPERTURE) {
 584:Src/main.c    ****     currentMode = MODE_SET_HOUR;
 585:Src/main.c    ****     blinkControl = 0xFF;
 586:Src/main.c    ****     refreshSettingsDisplay();
 587:Src/main.c    ****     SetInterruptOuput(F_2_HZ);
 588:Src/main.c    ****   } else if (currentMode == MODE_SHOW_SECOND) {
 589:Src/main.c    ****     lastTime.seconds = 0;
 590:Src/main.c    ****     SetTime(&lastTime);
 591:Src/main.c    ****     refreshTimeDisplay();
 592:Src/main.c    ****   } else if (currentMode == MODE_SET_HOUR) {
ARM GAS  D:\Temp\ccoXQ802.s 			page 52


 593:Src/main.c    ****     currentMode = MODE_SET_MINUTE;
 594:Src/main.c    ****     blinkControl = 0xFF;
 595:Src/main.c    ****     refreshSettingsDisplay();
 596:Src/main.c    ****   } else if (currentMode == MODE_SET_MINUTE) {
 597:Src/main.c    ****     currentMode = MODE_SET_ALARM_ENABLE;
 598:Src/main.c    ****     blinkControl = 0x00;
 599:Src/main.c    ****     // 设置完成后，将时间写入 RTC
 600:Src/main.c    ****     TimeNow(&time);
 601:Src/main.c    ****     lastTime.seconds = time.seconds;
 602:Src/main.c    ****     SetTime(&lastTime);
 603:Src/main.c    ****     refreshSettingsDisplay();
 604:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_ENABLE) {
 605:Src/main.c    ****     currentMode = isAlarmEnabled ? MODE_SET_ALARM_HOUR : MODE_SET_TEMP_SHOW;
 606:Src/main.c    ****     blinkControl = 0xFF;
 607:Src/main.c    ****     refreshSettingsDisplay();
 608:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 609:Src/main.c    ****     currentMode = MODE_SET_ALARM_MINUTE;
 610:Src/main.c    ****     blinkControl = 0xFF;
 611:Src/main.c    ****     refreshSettingsDisplay();
 612:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_MINUTE) {
 613:Src/main.c    ****     currentMode = MODE_SET_TEMP_SHOW;
 614:Src/main.c    ****     blinkControl = 0x00;
 615:Src/main.c    ****     refreshSettingsDisplay();
 616:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_SHOW) {
 617:Src/main.c    ****     if (tempertureShowTime != 0) {
 618:Src/main.c    ****       currentMode = MODE_SET_TEMP_HIDE;
 619:Src/main.c    ****     } else {
 620:Src/main.c    ****       currentMode = MODE_SET_BRIGHTNESS;
 621:Src/main.c    ****     }
 622:Src/main.c    ****     blinkControl = 0x00;
 623:Src/main.c    ****     refreshSettingsDisplay();
 624:Src/main.c    **** 
 625:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 626:Src/main.c    ****     currentMode = MODE_SET_BRIGHTNESS;
 627:Src/main.c    ****     blinkControl = 0x00;
 628:Src/main.c    ****     refreshSettingsDisplay();
 629:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS) {
 630:Src/main.c    ****     if (savedBrightness == 0) {
 631:Src/main.c    ****       currentMode = MODE_SET_BRIGHTNESS_STRONG;
 632:Src/main.c    ****     } else {
 633:Src/main.c    ****       currentMode = MODE_SET_ROT_ENABLE;
 634:Src/main.c    ****     }
 635:Src/main.c    ****     blinkControl = 0x00;
 636:Src/main.c    ****     refreshSettingsDisplay();
 637:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_STRONG) {
 638:Src/main.c    ****     currentMode = MODE_SET_BRIGHTNESS_WEAK;
 639:Src/main.c    ****     blinkControl = 0x00;
 640:Src/main.c    ****     TM1637SetBrightness(weakBrightness);
 641:Src/main.c    ****     refreshSettingsDisplay();
 642:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 643:Src/main.c    ****     currentMode = MODE_SET_ROT_ENABLE;
 644:Src/main.c    ****     blinkControl = 0x00;
 645:Src/main.c    ****     TM1637SetBrightness(strongBrightness);
 646:Src/main.c    ****     isWeakBrightness = false;
 647:Src/main.c    ****     refreshSettingsDisplay();
 648:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 649:Src/main.c    ****     blinkControl = 0x00;
ARM GAS  D:\Temp\ccoXQ802.s 			page 53


 650:Src/main.c    ****     if (!isRingOnTimeEnabled) {
 651:Src/main.c    ****       currentMode = MODE_SHOW_TIME;
 652:Src/main.c    ****       // ����ʱ��
 653:Src/main.c    ****       TimeNow(&time);
 654:Src/main.c    ****       lastTime.seconds = time.seconds;
 655:Src/main.c    ****       SetTime(&lastTime);
 656:Src/main.c    ****       lastRingOnTimeHour = lastTime.hours;
 657:Src/main.c    **** 
 658:Src/main.c    ****       saveSettings();
 659:Src/main.c    **** 
 660:Src/main.c    ****       refreshTimeDisplay();
 661:Src/main.c    ****       EnableSencodInterruptOuput();
 662:Src/main.c    ****       lastDisplayChangeTime = HAL_GetTick();
 663:Src/main.c    ****     } else {
 664:Src/main.c    ****       currentMode = MODE_SET_ROT_START;
 665:Src/main.c    ****       refreshSettingsDisplay();
 666:Src/main.c    ****     }
 667:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 668:Src/main.c    ****     currentMode = MODE_SET_ROT_STOP;
 669:Src/main.c    ****     blinkControl = 0x00;
 670:Src/main.c    ****     refreshSettingsDisplay();
 671:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 672:Src/main.c    ****     currentMode = MODE_SHOW_TIME;
 673:Src/main.c    ****     // ����ʱ��
 674:Src/main.c    ****     TimeNow(&time);
 675:Src/main.c    ****     lastTime.seconds = time.seconds;
 676:Src/main.c    ****     SetTime(&lastTime);
 677:Src/main.c    ****     lastRingOnTimeHour = lastTime.hours;
 678:Src/main.c    ****     saveSettings();
 679:Src/main.c    ****     refreshTimeDisplay();
 680:Src/main.c    ****     EnableSencodInterruptOuput();
 681:Src/main.c    ****     lastDisplayChangeTime = HAL_GetTick();
 682:Src/main.c    ****   }
 683:Src/main.c    **** }
 1957              		.loc 1 683 1 is_stmt 0 view .LVU559
 1958              		@ sp needed
 1959 000e 70BD     		pop	{r4, r5, r6, pc}
 1960              	.L144:
 583:Src/main.c    ****     currentMode = MODE_SET_HOUR;
 1961              		.loc 1 583 3 is_stmt 1 view .LVU560
 583:Src/main.c    ****     currentMode = MODE_SET_HOUR;
 1962              		.loc 1 583 19 is_stmt 0 view .LVU561
 1963 0010 494B     		ldr	r3, .L174+4
 1964 0012 1878     		ldrb	r0, [r3]
 1965 0014 0F28     		cmp	r0, #15
 1966 0016 FAD8     		bhi	.L143
 1967 0018 FFF7FEFF 		bl	__gnu_thumb1_case_uqi
 1968              	.L147:
 1969 001c 08       		.byte	(.L160-.L147)/2
 1970 001d 13       		.byte	(.L161-.L147)/2
 1971 001e 08       		.byte	(.L160-.L147)/2
 1972 001f 1B       		.byte	(.L159-.L147)/2
 1973 0020 21       		.byte	(.L158-.L147)/2
 1974 0021 32       		.byte	(.L157-.L147)/2
 1975 0022 39       		.byte	(.L156-.L147)/2
 1976 0023 3B       		.byte	(.L155-.L147)/2
 1977 0024 40       		.byte	(.L154-.L147)/2
ARM GAS  D:\Temp\ccoXQ802.s 			page 54


 1978 0025 46       		.byte	(.L153-.L147)/2
 1979 0026 48       		.byte	(.L152-.L147)/2
 1980 0027 4F       		.byte	(.L151-.L147)/2
 1981 0028 59       		.byte	(.L150-.L147)/2
 1982 0029 65       		.byte	(.L149-.L147)/2
 1983 002a 87       		.byte	(.L148-.L147)/2
 1984 002b 89       		.byte	(.L146-.L147)/2
 1985              		.p2align 1
 1986              	.L160:
 584:Src/main.c    ****     blinkControl = 0xFF;
 1987              		.loc 1 584 5 is_stmt 1 view .LVU562
 584:Src/main.c    ****     blinkControl = 0xFF;
 1988              		.loc 1 584 17 is_stmt 0 view .LVU563
 1989 002c 0322     		movs	r2, #3
 1990 002e 1A70     		strb	r2, [r3]
 585:Src/main.c    ****     refreshSettingsDisplay();
 1991              		.loc 1 585 5 is_stmt 1 view .LVU564
 585:Src/main.c    ****     refreshSettingsDisplay();
 1992              		.loc 1 585 18 is_stmt 0 view .LVU565
 1993 0030 424B     		ldr	r3, .L174+8
 1994 0032 FC32     		adds	r2, r2, #252
 1995 0034 1A70     		strb	r2, [r3]
 586:Src/main.c    ****     SetInterruptOuput(F_2_HZ);
 1996              		.loc 1 586 5 is_stmt 1 view .LVU566
 1997 0036 FFF7FEFF 		bl	refreshSettingsDisplay
 1998              	.LVL134:
 587:Src/main.c    ****   } else if (currentMode == MODE_SHOW_SECOND) {
 1999              		.loc 1 587 5 view .LVU567
 2000 003a 0920     		movs	r0, #9
 2001 003c FFF7FEFF 		bl	SetInterruptOuput
 2002              	.LVL135:
 2003 0040 E5E7     		b	.L143
 2004              	.L161:
 589:Src/main.c    ****     SetTime(&lastTime);
 2005              		.loc 1 589 5 view .LVU568
 589:Src/main.c    ****     SetTime(&lastTime);
 2006              		.loc 1 589 22 is_stmt 0 view .LVU569
 2007 0042 0023     		movs	r3, #0
 2008 0044 3E48     		ldr	r0, .L174+12
 2009 0046 0370     		strb	r3, [r0]
 590:Src/main.c    ****     refreshTimeDisplay();
 2010              		.loc 1 590 5 is_stmt 1 view .LVU570
 2011 0048 FFF7FEFF 		bl	SetTime
 2012              	.LVL136:
 591:Src/main.c    ****   } else if (currentMode == MODE_SET_HOUR) {
 2013              		.loc 1 591 5 view .LVU571
 2014 004c FFF7FEFF 		bl	refreshTimeDisplay
 2015              	.LVL137:
 2016 0050 DDE7     		b	.L143
 2017              	.L159:
 593:Src/main.c    ****     blinkControl = 0xFF;
 2018              		.loc 1 593 5 view .LVU572
 593:Src/main.c    ****     blinkControl = 0xFF;
 2019              		.loc 1 593 17 is_stmt 0 view .LVU573
 2020 0052 0422     		movs	r2, #4
 2021              	.L162:
 605:Src/main.c    ****     blinkControl = 0xFF;
ARM GAS  D:\Temp\ccoXQ802.s 			page 55


 2022              		.loc 1 605 17 discriminator 4 view .LVU574
 2023 0054 1A70     		strb	r2, [r3]
 606:Src/main.c    ****     refreshSettingsDisplay();
 2024              		.loc 1 606 5 is_stmt 1 view .LVU575
 606:Src/main.c    ****     refreshSettingsDisplay();
 2025              		.loc 1 606 18 is_stmt 0 view .LVU576
 2026 0056 FF22     		movs	r2, #255
 2027 0058 384B     		ldr	r3, .L174+8
 2028              	.L170:
 669:Src/main.c    ****     refreshSettingsDisplay();
 2029              		.loc 1 669 18 view .LVU577
 2030 005a 1A70     		strb	r2, [r3]
 2031 005c 0DE0     		b	.L172
 2032              	.L158:
 597:Src/main.c    ****     blinkControl = 0x00;
 2033              		.loc 1 597 5 is_stmt 1 view .LVU578
 597:Src/main.c    ****     blinkControl = 0x00;
 2034              		.loc 1 597 17 is_stmt 0 view .LVU579
 2035 005e 0522     		movs	r2, #5
 2036 0060 1A70     		strb	r2, [r3]
 598:Src/main.c    ****     // 设置完成后，将时间写入 RTC
 2037              		.loc 1 598 5 is_stmt 1 view .LVU580
 598:Src/main.c    ****     // 设置完成后，将时间写入 RTC
 2038              		.loc 1 598 18 is_stmt 0 view .LVU581
 2039 0062 0022     		movs	r2, #0
 600:Src/main.c    ****     lastTime.seconds = time.seconds;
 2040              		.loc 1 600 5 view .LVU582
 2041 0064 374C     		ldr	r4, .L174+16
 598:Src/main.c    ****     // 设置完成后，将时间写入 RTC
 2042              		.loc 1 598 18 view .LVU583
 2043 0066 354B     		ldr	r3, .L174+8
 600:Src/main.c    ****     lastTime.seconds = time.seconds;
 2044              		.loc 1 600 5 view .LVU584
 2045 0068 2000     		movs	r0, r4
 598:Src/main.c    ****     // 设置完成后，将时间写入 RTC
 2046              		.loc 1 598 18 view .LVU585
 2047 006a 1A70     		strb	r2, [r3]
 600:Src/main.c    ****     lastTime.seconds = time.seconds;
 2048              		.loc 1 600 5 is_stmt 1 view .LVU586
 2049 006c FFF7FEFF 		bl	TimeNow
 2050              	.LVL138:
 601:Src/main.c    ****     SetTime(&lastTime);
 2051              		.loc 1 601 5 view .LVU587
 601:Src/main.c    ****     SetTime(&lastTime);
 2052              		.loc 1 601 22 is_stmt 0 view .LVU588
 2053 0070 3348     		ldr	r0, .L174+12
 2054 0072 2378     		ldrb	r3, [r4]
 2055 0074 0370     		strb	r3, [r0]
 602:Src/main.c    ****     refreshSettingsDisplay();
 2056              		.loc 1 602 5 is_stmt 1 view .LVU589
 2057 0076 FFF7FEFF 		bl	SetTime
 2058              	.LVL139:
 603:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_ENABLE) {
 2059              		.loc 1 603 5 view .LVU590
 2060              	.L172:
 670:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 2061              		.loc 1 670 5 view .LVU591
ARM GAS  D:\Temp\ccoXQ802.s 			page 56


 2062 007a FFF7FEFF 		bl	refreshSettingsDisplay
 2063              	.LVL140:
 2064 007e C6E7     		b	.L143
 2065              	.L157:
 605:Src/main.c    ****     blinkControl = 0xFF;
 2066              		.loc 1 605 5 view .LVU592
 605:Src/main.c    ****     blinkControl = 0xFF;
 2067              		.loc 1 605 34 is_stmt 0 view .LVU593
 2068 0080 314A     		ldr	r2, .L174+20
 605:Src/main.c    ****     blinkControl = 0xFF;
 2069              		.loc 1 605 56 view .LVU594
 2070 0082 1178     		ldrb	r1, [r2]
 605:Src/main.c    ****     blinkControl = 0xFF;
 2071              		.loc 1 605 56 discriminator 2 view .LVU595
 2072 0084 0822     		movs	r2, #8
 605:Src/main.c    ****     blinkControl = 0xFF;
 2073              		.loc 1 605 56 view .LVU596
 2074 0086 0029     		cmp	r1, #0
 2075 0088 E4D0     		beq	.L162
 605:Src/main.c    ****     blinkControl = 0xFF;
 2076              		.loc 1 605 56 discriminator 1 view .LVU597
 2077 008a 023A     		subs	r2, r2, #2
 2078 008c E2E7     		b	.L162
 2079              	.L156:
 609:Src/main.c    ****     blinkControl = 0xFF;
 2080              		.loc 1 609 5 is_stmt 1 view .LVU598
 609:Src/main.c    ****     blinkControl = 0xFF;
 2081              		.loc 1 609 17 is_stmt 0 view .LVU599
 2082 008e 0722     		movs	r2, #7
 2083 0090 E0E7     		b	.L162
 2084              	.L155:
 613:Src/main.c    ****     blinkControl = 0x00;
 2085              		.loc 1 613 5 is_stmt 1 view .LVU600
 613:Src/main.c    ****     blinkControl = 0x00;
 2086              		.loc 1 613 17 is_stmt 0 view .LVU601
 2087 0092 0822     		movs	r2, #8
 2088              	.L173:
 668:Src/main.c    ****     blinkControl = 0x00;
 2089              		.loc 1 668 17 view .LVU602
 2090 0094 1A70     		strb	r2, [r3]
 669:Src/main.c    ****     refreshSettingsDisplay();
 2091              		.loc 1 669 5 is_stmt 1 view .LVU603
 669:Src/main.c    ****     refreshSettingsDisplay();
 2092              		.loc 1 669 18 is_stmt 0 view .LVU604
 2093 0096 0022     		movs	r2, #0
 2094 0098 284B     		ldr	r3, .L174+8
 2095 009a DEE7     		b	.L170
 2096              	.L154:
 617:Src/main.c    ****       currentMode = MODE_SET_TEMP_HIDE;
 2097              		.loc 1 617 5 is_stmt 1 view .LVU605
 617:Src/main.c    ****       currentMode = MODE_SET_TEMP_HIDE;
 2098              		.loc 1 617 28 is_stmt 0 view .LVU606
 2099 009c 2B4A     		ldr	r2, .L174+24
 617:Src/main.c    ****       currentMode = MODE_SET_TEMP_HIDE;
 2100              		.loc 1 617 8 view .LVU607
 2101 009e 1278     		ldrb	r2, [r2]
 618:Src/main.c    ****     } else {
ARM GAS  D:\Temp\ccoXQ802.s 			page 57


 2102              		.loc 1 618 19 view .LVU608
 2103 00a0 5142     		rsbs	r1, r2, #0
 2104 00a2 4A41     		adcs	r2, r2, r1
 2105 00a4 0932     		adds	r2, r2, #9
 2106 00a6 F5E7     		b	.L173
 2107              	.L153:
 626:Src/main.c    ****     blinkControl = 0x00;
 2108              		.loc 1 626 5 is_stmt 1 view .LVU609
 626:Src/main.c    ****     blinkControl = 0x00;
 2109              		.loc 1 626 17 is_stmt 0 view .LVU610
 2110 00a8 0A22     		movs	r2, #10
 2111 00aa F3E7     		b	.L173
 2112              	.L152:
 630:Src/main.c    ****       currentMode = MODE_SET_BRIGHTNESS_STRONG;
 2113              		.loc 1 630 5 is_stmt 1 view .LVU611
 630:Src/main.c    ****       currentMode = MODE_SET_BRIGHTNESS_STRONG;
 2114              		.loc 1 630 25 is_stmt 0 view .LVU612
 2115 00ac 284A     		ldr	r2, .L174+28
 630:Src/main.c    ****       currentMode = MODE_SET_BRIGHTNESS_STRONG;
 2116              		.loc 1 630 8 view .LVU613
 2117 00ae 1178     		ldrb	r1, [r2]
 633:Src/main.c    ****     }
 2118              		.loc 1 633 19 view .LVU614
 2119 00b0 0D22     		movs	r2, #13
 630:Src/main.c    ****       currentMode = MODE_SET_BRIGHTNESS_STRONG;
 2120              		.loc 1 630 8 view .LVU615
 2121 00b2 0029     		cmp	r1, #0
 2122 00b4 EED1     		bne	.L173
 631:Src/main.c    ****     } else {
 2123              		.loc 1 631 19 view .LVU616
 2124 00b6 023A     		subs	r2, r2, #2
 2125 00b8 ECE7     		b	.L173
 2126              	.L151:
 638:Src/main.c    ****     blinkControl = 0x00;
 2127              		.loc 1 638 5 is_stmt 1 view .LVU617
 638:Src/main.c    ****     blinkControl = 0x00;
 2128              		.loc 1 638 17 is_stmt 0 view .LVU618
 2129 00ba 0C22     		movs	r2, #12
 2130 00bc 1A70     		strb	r2, [r3]
 639:Src/main.c    ****     TM1637SetBrightness(weakBrightness);
 2131              		.loc 1 639 5 is_stmt 1 view .LVU619
 639:Src/main.c    ****     TM1637SetBrightness(weakBrightness);
 2132              		.loc 1 639 18 is_stmt 0 view .LVU620
 2133 00be 0022     		movs	r2, #0
 2134 00c0 1E4B     		ldr	r3, .L174+8
 2135 00c2 1A70     		strb	r2, [r3]
 640:Src/main.c    ****     refreshSettingsDisplay();
 2136              		.loc 1 640 5 is_stmt 1 view .LVU621
 2137 00c4 234B     		ldr	r3, .L174+32
 2138 00c6 1878     		ldrb	r0, [r3]
 2139 00c8 FFF7FEFF 		bl	TM1637SetBrightness
 2140              	.LVL141:
 641:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 2141              		.loc 1 641 5 view .LVU622
 2142 00cc D5E7     		b	.L172
 2143              	.L150:
 643:Src/main.c    ****     blinkControl = 0x00;
ARM GAS  D:\Temp\ccoXQ802.s 			page 58


 2144              		.loc 1 643 5 view .LVU623
 643:Src/main.c    ****     blinkControl = 0x00;
 2145              		.loc 1 643 17 is_stmt 0 view .LVU624
 2146 00ce 0D22     		movs	r2, #13
 644:Src/main.c    ****     TM1637SetBrightness(strongBrightness);
 2147              		.loc 1 644 18 view .LVU625
 2148 00d0 0024     		movs	r4, #0
 643:Src/main.c    ****     blinkControl = 0x00;
 2149              		.loc 1 643 17 view .LVU626
 2150 00d2 1A70     		strb	r2, [r3]
 644:Src/main.c    ****     TM1637SetBrightness(strongBrightness);
 2151              		.loc 1 644 5 is_stmt 1 view .LVU627
 644:Src/main.c    ****     TM1637SetBrightness(strongBrightness);
 2152              		.loc 1 644 18 is_stmt 0 view .LVU628
 2153 00d4 194B     		ldr	r3, .L174+8
 2154 00d6 1C70     		strb	r4, [r3]
 645:Src/main.c    ****     isWeakBrightness = false;
 2155              		.loc 1 645 5 is_stmt 1 view .LVU629
 2156 00d8 1F4B     		ldr	r3, .L174+36
 2157 00da 1878     		ldrb	r0, [r3]
 2158 00dc FFF7FEFF 		bl	TM1637SetBrightness
 2159              	.LVL142:
 646:Src/main.c    ****     refreshSettingsDisplay();
 2160              		.loc 1 646 5 view .LVU630
 646:Src/main.c    ****     refreshSettingsDisplay();
 2161              		.loc 1 646 22 is_stmt 0 view .LVU631
 2162 00e0 1E4B     		ldr	r3, .L174+40
 2163 00e2 1C70     		strb	r4, [r3]
 647:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 2164              		.loc 1 647 5 is_stmt 1 view .LVU632
 2165 00e4 C9E7     		b	.L172
 2166              	.L149:
 649:Src/main.c    ****     if (!isRingOnTimeEnabled) {
 2167              		.loc 1 649 5 view .LVU633
 649:Src/main.c    ****     if (!isRingOnTimeEnabled) {
 2168              		.loc 1 649 18 is_stmt 0 view .LVU634
 2169 00e6 0021     		movs	r1, #0
 2170 00e8 144A     		ldr	r2, .L174+8
 2171 00ea 1170     		strb	r1, [r2]
 650:Src/main.c    ****       currentMode = MODE_SHOW_TIME;
 2172              		.loc 1 650 5 is_stmt 1 view .LVU635
 650:Src/main.c    ****       currentMode = MODE_SHOW_TIME;
 2173              		.loc 1 650 9 is_stmt 0 view .LVU636
 2174 00ec 1C4A     		ldr	r2, .L174+44
 650:Src/main.c    ****       currentMode = MODE_SHOW_TIME;
 2175              		.loc 1 650 8 view .LVU637
 2176 00ee 1278     		ldrb	r2, [r2]
 2177 00f0 8A42     		cmp	r2, r1
 2178 00f2 18D1     		bne	.L165
 2179              	.L171:
 674:Src/main.c    ****     lastTime.seconds = time.seconds;
 2180              		.loc 1 674 5 view .LVU638
 2181 00f4 134D     		ldr	r5, .L174+16
 672:Src/main.c    ****     // ����ʱ��
 2182              		.loc 1 672 17 view .LVU639
 2183 00f6 1A70     		strb	r2, [r3]
 674:Src/main.c    ****     lastTime.seconds = time.seconds;
ARM GAS  D:\Temp\ccoXQ802.s 			page 59


 2184              		.loc 1 674 5 is_stmt 1 view .LVU640
 2185 00f8 2800     		movs	r0, r5
 2186 00fa FFF7FEFF 		bl	TimeNow
 2187              	.LVL143:
 675:Src/main.c    ****     SetTime(&lastTime);
 2188              		.loc 1 675 5 view .LVU641
 675:Src/main.c    ****     SetTime(&lastTime);
 2189              		.loc 1 675 22 is_stmt 0 view .LVU642
 2190 00fe 104C     		ldr	r4, .L174+12
 2191 0100 2B78     		ldrb	r3, [r5]
 676:Src/main.c    ****     lastRingOnTimeHour = lastTime.hours;
 2192              		.loc 1 676 5 view .LVU643
 2193 0102 2000     		movs	r0, r4
 675:Src/main.c    ****     SetTime(&lastTime);
 2194              		.loc 1 675 22 view .LVU644
 2195 0104 2370     		strb	r3, [r4]
 676:Src/main.c    ****     lastRingOnTimeHour = lastTime.hours;
 2196              		.loc 1 676 5 is_stmt 1 view .LVU645
 2197 0106 FFF7FEFF 		bl	SetTime
 2198              	.LVL144:
 677:Src/main.c    ****     saveSettings();
 2199              		.loc 1 677 5 view .LVU646
 677:Src/main.c    ****     saveSettings();
 2200              		.loc 1 677 24 is_stmt 0 view .LVU647
 2201 010a 164B     		ldr	r3, .L174+48
 2202 010c E278     		ldrb	r2, [r4, #3]
 2203 010e 1A70     		strb	r2, [r3]
 678:Src/main.c    ****     refreshTimeDisplay();
 2204              		.loc 1 678 5 is_stmt 1 view .LVU648
 2205 0110 FFF7FEFF 		bl	saveSettings
 2206              	.LVL145:
 679:Src/main.c    ****     EnableSencodInterruptOuput();
 2207              		.loc 1 679 5 view .LVU649
 2208 0114 FFF7FEFF 		bl	refreshTimeDisplay
 2209              	.LVL146:
 680:Src/main.c    ****     lastDisplayChangeTime = HAL_GetTick();
 2210              		.loc 1 680 5 view .LVU650
 2211 0118 FFF7FEFF 		bl	EnableSencodInterruptOuput
 2212              	.LVL147:
 681:Src/main.c    ****   }
 2213              		.loc 1 681 5 view .LVU651
 681:Src/main.c    ****   }
 2214              		.loc 1 681 29 is_stmt 0 view .LVU652
 2215 011c FFF7FEFF 		bl	HAL_GetTick
 2216              	.LVL148:
 681:Src/main.c    ****   }
 2217              		.loc 1 681 27 discriminator 1 view .LVU653
 2218 0120 114B     		ldr	r3, .L174+52
 2219 0122 1860     		str	r0, [r3]
 2220 0124 73E7     		b	.L143
 2221              	.L165:
 664:Src/main.c    ****       refreshSettingsDisplay();
 2222              		.loc 1 664 7 is_stmt 1 view .LVU654
 664:Src/main.c    ****       refreshSettingsDisplay();
 2223              		.loc 1 664 19 is_stmt 0 view .LVU655
 2224 0126 0E22     		movs	r2, #14
 2225 0128 97E7     		b	.L170
ARM GAS  D:\Temp\ccoXQ802.s 			page 60


 2226              	.L148:
 668:Src/main.c    ****     blinkControl = 0x00;
 2227              		.loc 1 668 5 is_stmt 1 view .LVU656
 668:Src/main.c    ****     blinkControl = 0x00;
 2228              		.loc 1 668 17 is_stmt 0 view .LVU657
 2229 012a 0F22     		movs	r2, #15
 2230 012c B2E7     		b	.L173
 2231              	.L146:
 672:Src/main.c    ****     // ����ʱ��
 2232              		.loc 1 672 5 is_stmt 1 view .LVU658
 672:Src/main.c    ****     // ����ʱ��
 2233              		.loc 1 672 17 is_stmt 0 view .LVU659
 2234 012e 0022     		movs	r2, #0
 2235 0130 E0E7     		b	.L171
 2236              	.L175:
 2237 0132 C046     		.align	2
 2238              	.L174:
 2239 0134 00000000 		.word	isAlarming
 2240 0138 00000000 		.word	currentMode
 2241 013c 00000000 		.word	blinkControl
 2242 0140 00000000 		.word	lastTime
 2243 0144 00000000 		.word	time
 2244 0148 00000000 		.word	isAlarmEnabled
 2245 014c 00000000 		.word	tempertureShowTime
 2246 0150 00000000 		.word	savedBrightness
 2247 0154 00000000 		.word	weakBrightness
 2248 0158 00000000 		.word	strongBrightness
 2249 015c 00000000 		.word	isWeakBrightness
 2250 0160 00000000 		.word	isRingOnTimeEnabled
 2251 0164 00000000 		.word	lastRingOnTimeHour
 2252 0168 00000000 		.word	lastDisplayChangeTime
 2253              		.cfi_endproc
 2254              	.LFE48:
 2256              		.section	.text.modeKeyLongPressed,"ax",%progbits
 2257              		.align	1
 2258              		.global	modeKeyLongPressed
 2259              		.syntax unified
 2260              		.code	16
 2261              		.thumb_func
 2263              	modeKeyLongPressed:
 2264              	.LFB49:
 684:Src/main.c    **** 
 685:Src/main.c    **** void modeKeyLongPressed() {
 2265              		.loc 1 685 27 is_stmt 1 view -0
 2266              		.cfi_startproc
 2267              		@ args = 0, pretend = 0, frame = 0
 2268              		@ frame_needed = 0, uses_anonymous_args = 0
 686:Src/main.c    ****   if (isAlarming) {
 2269              		.loc 1 686 3 view .LVU661
 2270              		.loc 1 686 7 is_stmt 0 view .LVU662
 2271 0000 104B     		ldr	r3, .L180
 685:Src/main.c    ****   if (isAlarming) {
 2272              		.loc 1 685 27 view .LVU663
 2273 0002 70B5     		push	{r4, r5, r6, lr}
 2274              	.LCFI11:
 2275              		.cfi_def_cfa_offset 16
 2276              		.cfi_offset 4, -16
ARM GAS  D:\Temp\ccoXQ802.s 			page 61


 2277              		.cfi_offset 5, -12
 2278              		.cfi_offset 6, -8
 2279              		.cfi_offset 14, -4
 2280              		.loc 1 686 6 view .LVU664
 2281 0004 1B78     		ldrb	r3, [r3]
 2282 0006 002B     		cmp	r3, #0
 2283 0008 02D0     		beq	.L177
 687:Src/main.c    ****     alarmStop();
 2284              		.loc 1 687 5 is_stmt 1 view .LVU665
 2285 000a FFF7FEFF 		bl	alarmStop
 2286              	.LVL149:
 688:Src/main.c    ****     return;
 2287              		.loc 1 688 5 view .LVU666
 2288              	.L176:
 689:Src/main.c    ****   }
 690:Src/main.c    **** 
 691:Src/main.c    ****   if (currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
 692:Src/main.c    ****     // 如果修改了时间，需要保存到 RTC
 693:Src/main.c    ****     if (currentMode == MODE_SET_HOUR || currentMode == MODE_SET_MINUTE) {
 694:Src/main.c    ****       TimeNow(&time);
 695:Src/main.c    ****       lastTime.seconds = time.seconds;
 696:Src/main.c    ****       SetTime(&lastTime);
 697:Src/main.c    ****     }
 698:Src/main.c    ****     currentMode = MODE_SHOW_TIME;
 699:Src/main.c    ****     refreshTimeDisplay();
 700:Src/main.c    ****     lastDisplayChangeTime = HAL_GetTick();
 701:Src/main.c    ****   }
 702:Src/main.c    **** }
 2289              		.loc 1 702 1 is_stmt 0 view .LVU667
 2290              		@ sp needed
 2291 000e 70BD     		pop	{r4, r5, r6, pc}
 2292              	.L177:
 691:Src/main.c    ****     // 如果修改了时间，需要保存到 RTC
 2293              		.loc 1 691 3 is_stmt 1 view .LVU668
 691:Src/main.c    ****     // 如果修改了时间，需要保存到 RTC
 2294              		.loc 1 691 36 is_stmt 0 view .LVU669
 2295 0010 0D4C     		ldr	r4, .L180+4
 2296 0012 2378     		ldrb	r3, [r4]
 2297 0014 033B     		subs	r3, r3, #3
 2298 0016 DBB2     		uxtb	r3, r3
 691:Src/main.c    ****     // 如果修改了时间，需要保存到 RTC
 2299              		.loc 1 691 6 view .LVU670
 2300 0018 0C2B     		cmp	r3, #12
 2301 001a F8D8     		bhi	.L176
 693:Src/main.c    ****       TimeNow(&time);
 2302              		.loc 1 693 5 is_stmt 1 view .LVU671
 693:Src/main.c    ****       TimeNow(&time);
 2303              		.loc 1 693 8 is_stmt 0 view .LVU672
 2304 001c 012B     		cmp	r3, #1
 2305 001e 08D8     		bhi	.L179
 694:Src/main.c    ****       lastTime.seconds = time.seconds;
 2306              		.loc 1 694 7 is_stmt 1 view .LVU673
 2307 0020 0A4D     		ldr	r5, .L180+8
 2308 0022 2800     		movs	r0, r5
 2309 0024 FFF7FEFF 		bl	TimeNow
 2310              	.LVL150:
 695:Src/main.c    ****       SetTime(&lastTime);
ARM GAS  D:\Temp\ccoXQ802.s 			page 62


 2311              		.loc 1 695 7 view .LVU674
 695:Src/main.c    ****       SetTime(&lastTime);
 2312              		.loc 1 695 24 is_stmt 0 view .LVU675
 2313 0028 0948     		ldr	r0, .L180+12
 2314 002a 2B78     		ldrb	r3, [r5]
 2315 002c 0370     		strb	r3, [r0]
 696:Src/main.c    ****     }
 2316              		.loc 1 696 7 is_stmt 1 view .LVU676
 2317 002e FFF7FEFF 		bl	SetTime
 2318              	.LVL151:
 2319              	.L179:
 2320              	.LBB33:
 2321              	.LBI33:
 685:Src/main.c    ****   if (isAlarming) {
 2322              		.loc 1 685 6 view .LVU677
 2323              	.LBB34:
 698:Src/main.c    ****     refreshTimeDisplay();
 2324              		.loc 1 698 5 view .LVU678
 698:Src/main.c    ****     refreshTimeDisplay();
 2325              		.loc 1 698 17 is_stmt 0 view .LVU679
 2326 0032 0023     		movs	r3, #0
 2327 0034 2370     		strb	r3, [r4]
 699:Src/main.c    ****     lastDisplayChangeTime = HAL_GetTick();
 2328              		.loc 1 699 5 is_stmt 1 view .LVU680
 2329 0036 FFF7FEFF 		bl	refreshTimeDisplay
 2330              	.LVL152:
 700:Src/main.c    ****   }
 2331              		.loc 1 700 5 view .LVU681
 700:Src/main.c    ****   }
 2332              		.loc 1 700 29 is_stmt 0 view .LVU682
 2333 003a FFF7FEFF 		bl	HAL_GetTick
 2334              	.LVL153:
 700:Src/main.c    ****   }
 2335              		.loc 1 700 27 discriminator 1 view .LVU683
 2336 003e 054B     		ldr	r3, .L180+16
 2337 0040 1860     		str	r0, [r3]
 2338 0042 E4E7     		b	.L176
 2339              	.L181:
 2340              		.align	2
 2341              	.L180:
 2342 0044 00000000 		.word	isAlarming
 2343 0048 00000000 		.word	currentMode
 2344 004c 00000000 		.word	time
 2345 0050 00000000 		.word	lastTime
 2346 0054 00000000 		.word	lastDisplayChangeTime
 2347              	.LBE34:
 2348              	.LBE33:
 2349              		.cfi_endproc
 2350              	.LFE49:
 2352              		.section	.text.setKeyClicked,"ax",%progbits
 2353              		.align	1
 2354              		.global	setKeyClicked
 2355              		.syntax unified
 2356              		.code	16
 2357              		.thumb_func
 2359              	setKeyClicked:
 2360              	.LFB50:
ARM GAS  D:\Temp\ccoXQ802.s 			page 63


 703:Src/main.c    **** 
 704:Src/main.c    **** void setKeyClicked() {
 2361              		.loc 1 704 22 is_stmt 1 view -0
 2362              		.cfi_startproc
 2363              		@ args = 0, pretend = 0, frame = 0
 2364              		@ frame_needed = 0, uses_anonymous_args = 0
 705:Src/main.c    ****   if (isAlarming) {
 2365              		.loc 1 705 3 view .LVU685
 2366              		.loc 1 705 7 is_stmt 0 view .LVU686
 2367 0000 454B     		ldr	r3, .L226
 704:Src/main.c    ****   if (isAlarming) {
 2368              		.loc 1 704 22 view .LVU687
 2369 0002 10B5     		push	{r4, lr}
 2370              	.LCFI12:
 2371              		.cfi_def_cfa_offset 8
 2372              		.cfi_offset 4, -8
 2373              		.cfi_offset 14, -4
 2374              		.loc 1 705 6 view .LVU688
 2375 0004 1B78     		ldrb	r3, [r3]
 2376 0006 002B     		cmp	r3, #0
 2377 0008 02D0     		beq	.L183
 706:Src/main.c    ****     alarmStop();
 2378              		.loc 1 706 5 is_stmt 1 view .LVU689
 2379 000a FFF7FEFF 		bl	alarmStop
 2380              	.LVL154:
 707:Src/main.c    ****     return;
 2381              		.loc 1 707 5 view .LVU690
 2382              	.L182:
 708:Src/main.c    ****   }
 709:Src/main.c    **** 
 710:Src/main.c    ****   if (currentMode == MODE_SHOW_TIME || currentMode == MODE_SHOW_TEMPERTURE) {
 711:Src/main.c    ****     currentMode = MODE_SHOW_SECOND;
 712:Src/main.c    ****     refreshTimeDisplay();
 713:Src/main.c    ****   } else if (currentMode == MODE_SHOW_SECOND) {
 714:Src/main.c    ****     currentMode = MODE_SHOW_TIME;
 715:Src/main.c    ****     refreshTimeDisplay();
 716:Src/main.c    ****     lastDisplayChangeTime = HAL_GetTick();
 717:Src/main.c    ****   } else if (currentMode == MODE_SET_HOUR) {
 718:Src/main.c    ****     lastTime.hours++;
 719:Src/main.c    ****     if (lastTime.hours > 23) {
 720:Src/main.c    ****       lastTime.hours = 0;
 721:Src/main.c    ****     }
 722:Src/main.c    ****     blinkControl = 0;
 723:Src/main.c    ****     refreshSettingsDisplay();
 724:Src/main.c    ****   } else if (currentMode == MODE_SET_MINUTE) {
 725:Src/main.c    ****     lastTime.minutes++;
 726:Src/main.c    ****     if (lastTime.minutes > 59) {
 727:Src/main.c    ****       lastTime.minutes = 0;
 728:Src/main.c    ****     }
 729:Src/main.c    ****     blinkControl = 0;
 730:Src/main.c    ****     refreshSettingsDisplay();
 731:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_ENABLE) {
 732:Src/main.c    ****     isAlarmEnabled = isAlarmEnabled ? false : true;
 733:Src/main.c    ****     blinkControl = 0;
 734:Src/main.c    ****     refreshSettingsDisplay();
 735:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 736:Src/main.c    ****     alarmHour++;
ARM GAS  D:\Temp\ccoXQ802.s 			page 64


 737:Src/main.c    ****     if (alarmHour > 23) {
 738:Src/main.c    ****       alarmHour = 0;
 739:Src/main.c    ****     }
 740:Src/main.c    ****     blinkControl = 0;
 741:Src/main.c    ****     refreshSettingsDisplay();
 742:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_MINUTE) {
 743:Src/main.c    ****     alarmMin++;
 744:Src/main.c    ****     if (alarmMin > 59) {
 745:Src/main.c    ****       alarmMin = 0;
 746:Src/main.c    ****     }
 747:Src/main.c    ****     blinkControl = 0;
 748:Src/main.c    ****     refreshSettingsDisplay();
 749:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_SHOW) {
 750:Src/main.c    ****     tempertureShowTime++;
 751:Src/main.c    ****     if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 752:Src/main.c    ****       tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 753:Src/main.c    ****     }
 754:Src/main.c    ****     blinkControl = 0;
 755:Src/main.c    ****     refreshSettingsDisplay();
 756:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 757:Src/main.c    ****     tempertureHideTime++;
 758:Src/main.c    ****     if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 759:Src/main.c    ****       tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 760:Src/main.c    ****     }
 761:Src/main.c    ****     blinkControl = 0;
 762:Src/main.c    ****     refreshSettingsDisplay();
 763:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS) {
 764:Src/main.c    ****     savedBrightness++;
 765:Src/main.c    ****     if (savedBrightness > 8) {
 766:Src/main.c    ****       savedBrightness = 0;
 767:Src/main.c    ****     }
 768:Src/main.c    ****     TM1637SetBrightness(savedBrightness == 0 ? 1 : savedBrightness);
 769:Src/main.c    ****     blinkControl = 0;
 770:Src/main.c    ****     refreshSettingsDisplay();
 771:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_STRONG) {
 772:Src/main.c    ****     strongBrightness++;
 773:Src/main.c    ****     if (strongBrightness > 8) {
 774:Src/main.c    ****       strongBrightness = 1;
 775:Src/main.c    ****     }
 776:Src/main.c    ****     blinkControl = 0;
 777:Src/main.c    ****     TM1637SetBrightness(strongBrightness);
 778:Src/main.c    ****     refreshSettingsDisplay();
 779:Src/main.c    ****   } else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 780:Src/main.c    ****     weakBrightness++;
 781:Src/main.c    ****     if (weakBrightness > 8) {
 782:Src/main.c    ****       weakBrightness = 1;
 783:Src/main.c    ****     }
 784:Src/main.c    ****     blinkControl = 0;
 785:Src/main.c    ****     TM1637SetBrightness(weakBrightness);
 786:Src/main.c    ****     refreshSettingsDisplay();
 787:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 788:Src/main.c    ****     isRingOnTimeEnabled = isRingOnTimeEnabled ? false : true;
 789:Src/main.c    ****     blinkControl = 0;
 790:Src/main.c    ****     refreshSettingsDisplay();
 791:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 792:Src/main.c    ****     ringOnTimeStart++;
 793:Src/main.c    ****     if (ringOnTimeStart > 23) {
ARM GAS  D:\Temp\ccoXQ802.s 			page 65


 794:Src/main.c    ****       ringOnTimeStart = 0;
 795:Src/main.c    ****     }
 796:Src/main.c    ****     blinkControl = 0;
 797:Src/main.c    ****     refreshSettingsDisplay();
 798:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 799:Src/main.c    ****     ringOnTimeStop++;
 800:Src/main.c    ****     if (ringOnTimeStop > 23) {
 801:Src/main.c    ****       ringOnTimeStop = 0;
 802:Src/main.c    ****     }
 803:Src/main.c    ****     blinkControl = 0;
 804:Src/main.c    ****     refreshSettingsDisplay();
 805:Src/main.c    ****   }
 806:Src/main.c    **** }
 2383              		.loc 1 806 1 is_stmt 0 view .LVU691
 2384              		@ sp needed
 2385 000e 10BD     		pop	{r4, pc}
 2386              	.L183:
 710:Src/main.c    ****     currentMode = MODE_SHOW_SECOND;
 2387              		.loc 1 710 3 is_stmt 1 view .LVU692
 710:Src/main.c    ****     currentMode = MODE_SHOW_SECOND;
 2388              		.loc 1 710 19 is_stmt 0 view .LVU693
 2389 0010 424B     		ldr	r3, .L226+4
 2390 0012 1878     		ldrb	r0, [r3]
 2391 0014 0F28     		cmp	r0, #15
 2392 0016 FAD8     		bhi	.L182
 2393 0018 FFF7FEFF 		bl	__gnu_thumb1_case_uqi
 2394              	.L186:
 2395 001c 08       		.byte	(.L199-.L186)/2
 2396 001d 0D       		.byte	(.L200-.L186)/2
 2397 001e 08       		.byte	(.L199-.L186)/2
 2398 001f 16       		.byte	(.L198-.L186)/2
 2399 0020 22       		.byte	(.L197-.L186)/2
 2400 0021 2B       		.byte	(.L196-.L186)/2
 2401 0022 30       		.byte	(.L195-.L186)/2
 2402 0023 37       		.byte	(.L194-.L186)/2
 2403 0024 40       		.byte	(.L193-.L186)/2
 2404 0025 4C       		.byte	(.L192-.L186)/2
 2405 0026 55       		.byte	(.L191-.L186)/2
 2406 0027 65       		.byte	(.L190-.L186)/2
 2407 0028 75       		.byte	(.L189-.L186)/2
 2408 0029 77       		.byte	(.L188-.L186)/2
 2409 002a 79       		.byte	(.L187-.L186)/2
 2410 002b 7B       		.byte	(.L185-.L186)/2
 2411              		.p2align 1
 2412              	.L199:
 711:Src/main.c    ****     refreshTimeDisplay();
 2413              		.loc 1 711 5 is_stmt 1 view .LVU694
 711:Src/main.c    ****     refreshTimeDisplay();
 2414              		.loc 1 711 17 is_stmt 0 view .LVU695
 2415 002c 0122     		movs	r2, #1
 2416 002e 1A70     		strb	r2, [r3]
 712:Src/main.c    ****   } else if (currentMode == MODE_SHOW_SECOND) {
 2417              		.loc 1 712 5 is_stmt 1 view .LVU696
 2418 0030 FFF7FEFF 		bl	refreshTimeDisplay
 2419              	.LVL155:
 2420 0034 EBE7     		b	.L182
 2421              	.L200:
ARM GAS  D:\Temp\ccoXQ802.s 			page 66


 714:Src/main.c    ****     refreshTimeDisplay();
 2422              		.loc 1 714 5 view .LVU697
 714:Src/main.c    ****     refreshTimeDisplay();
 2423              		.loc 1 714 17 is_stmt 0 view .LVU698
 2424 0036 0022     		movs	r2, #0
 2425 0038 1A70     		strb	r2, [r3]
 715:Src/main.c    ****     lastDisplayChangeTime = HAL_GetTick();
 2426              		.loc 1 715 5 is_stmt 1 view .LVU699
 2427 003a FFF7FEFF 		bl	refreshTimeDisplay
 2428              	.LVL156:
 716:Src/main.c    ****   } else if (currentMode == MODE_SET_HOUR) {
 2429              		.loc 1 716 5 view .LVU700
 716:Src/main.c    ****   } else if (currentMode == MODE_SET_HOUR) {
 2430              		.loc 1 716 29 is_stmt 0 view .LVU701
 2431 003e FFF7FEFF 		bl	HAL_GetTick
 2432              	.LVL157:
 716:Src/main.c    ****   } else if (currentMode == MODE_SET_HOUR) {
 2433              		.loc 1 716 27 discriminator 1 view .LVU702
 2434 0042 374B     		ldr	r3, .L226+8
 2435 0044 1860     		str	r0, [r3]
 2436 0046 E2E7     		b	.L182
 2437              	.L198:
 718:Src/main.c    ****     if (lastTime.hours > 23) {
 2438              		.loc 1 718 5 is_stmt 1 view .LVU703
 718:Src/main.c    ****     if (lastTime.hours > 23) {
 2439              		.loc 1 718 13 is_stmt 0 view .LVU704
 2440 0048 364A     		ldr	r2, .L226+12
 718:Src/main.c    ****     if (lastTime.hours > 23) {
 2441              		.loc 1 718 19 view .LVU705
 2442 004a D378     		ldrb	r3, [r2, #3]
 2443 004c 0133     		adds	r3, r3, #1
 2444 004e DBB2     		uxtb	r3, r3
 719:Src/main.c    ****       lastTime.hours = 0;
 2445              		.loc 1 719 5 is_stmt 1 view .LVU706
 719:Src/main.c    ****       lastTime.hours = 0;
 2446              		.loc 1 719 8 is_stmt 0 view .LVU707
 2447 0050 172B     		cmp	r3, #23
 2448 0052 00D9     		bls	.L201
 720:Src/main.c    ****     }
 2449              		.loc 1 720 22 view .LVU708
 2450 0054 0023     		movs	r3, #0
 2451              	.L201:
 2452 0056 D370     		strb	r3, [r2, #3]
 722:Src/main.c    ****     refreshSettingsDisplay();
 2453              		.loc 1 722 5 is_stmt 1 view .LVU709
 2454              	.L218:
 789:Src/main.c    ****     refreshSettingsDisplay();
 2455              		.loc 1 789 5 view .LVU710
 789:Src/main.c    ****     refreshSettingsDisplay();
 2456              		.loc 1 789 18 is_stmt 0 view .LVU711
 2457 0058 0022     		movs	r2, #0
 2458 005a 334B     		ldr	r3, .L226+16
 2459 005c 1A70     		strb	r2, [r3]
 2460 005e 4FE0     		b	.L217
 2461              	.L197:
 725:Src/main.c    ****     if (lastTime.minutes > 59) {
 2462              		.loc 1 725 5 is_stmt 1 view .LVU712
ARM GAS  D:\Temp\ccoXQ802.s 			page 67


 725:Src/main.c    ****     if (lastTime.minutes > 59) {
 2463              		.loc 1 725 13 is_stmt 0 view .LVU713
 2464 0060 304A     		ldr	r2, .L226+12
 725:Src/main.c    ****     if (lastTime.minutes > 59) {
 2465              		.loc 1 725 21 view .LVU714
 2466 0062 5378     		ldrb	r3, [r2, #1]
 2467 0064 0133     		adds	r3, r3, #1
 2468 0066 DBB2     		uxtb	r3, r3
 726:Src/main.c    ****       lastTime.minutes = 0;
 2469              		.loc 1 726 5 is_stmt 1 view .LVU715
 726:Src/main.c    ****       lastTime.minutes = 0;
 2470              		.loc 1 726 8 is_stmt 0 view .LVU716
 2471 0068 3B2B     		cmp	r3, #59
 2472 006a 00D9     		bls	.L202
 727:Src/main.c    ****     }
 2473              		.loc 1 727 24 view .LVU717
 2474 006c 0023     		movs	r3, #0
 2475              	.L202:
 2476 006e 5370     		strb	r3, [r2, #1]
 729:Src/main.c    ****     refreshSettingsDisplay();
 2477              		.loc 1 729 5 is_stmt 1 view .LVU718
 2478 0070 F2E7     		b	.L218
 2479              	.L196:
 732:Src/main.c    ****     blinkControl = 0;
 2480              		.loc 1 732 5 view .LVU719
 732:Src/main.c    ****     blinkControl = 0;
 2481              		.loc 1 732 20 is_stmt 0 view .LVU720
 2482 0072 2E4A     		ldr	r2, .L226+20
 2483              	.L219:
 788:Src/main.c    ****     blinkControl = 0;
 2484              		.loc 1 788 55 view .LVU721
 2485 0074 0123     		movs	r3, #1
 2486 0076 1178     		ldrb	r1, [r2]
 2487 0078 4B40     		eors	r3, r1
 2488 007a 0DE0     		b	.L222
 2489              	.L195:
 736:Src/main.c    ****     if (alarmHour > 23) {
 2490              		.loc 1 736 5 is_stmt 1 view .LVU722
 736:Src/main.c    ****     if (alarmHour > 23) {
 2491              		.loc 1 736 14 is_stmt 0 view .LVU723
 2492 007c 2C4A     		ldr	r2, .L226+24
 2493              	.L220:
 792:Src/main.c    ****     if (ringOnTimeStart > 23) {
 2494              		.loc 1 792 20 view .LVU724
 2495 007e 1378     		ldrb	r3, [r2]
 2496 0080 0133     		adds	r3, r3, #1
 2497 0082 DBB2     		uxtb	r3, r3
 793:Src/main.c    ****       ringOnTimeStart = 0;
 2498              		.loc 1 793 5 is_stmt 1 view .LVU725
 793:Src/main.c    ****       ringOnTimeStart = 0;
 2499              		.loc 1 793 8 is_stmt 0 view .LVU726
 2500 0084 172B     		cmp	r3, #23
 2501 0086 06D8     		bhi	.L203
 2502 0088 06E0     		b	.L222
 2503              	.L194:
 743:Src/main.c    ****     if (alarmMin > 59) {
 2504              		.loc 1 743 5 is_stmt 1 view .LVU727
ARM GAS  D:\Temp\ccoXQ802.s 			page 68


 743:Src/main.c    ****     if (alarmMin > 59) {
 2505              		.loc 1 743 13 is_stmt 0 view .LVU728
 2506 008a 2A4A     		ldr	r2, .L226+28
 2507 008c 1378     		ldrb	r3, [r2]
 2508 008e 0133     		adds	r3, r3, #1
 2509 0090 DBB2     		uxtb	r3, r3
 744:Src/main.c    ****       alarmMin = 0;
 2510              		.loc 1 744 5 is_stmt 1 view .LVU729
 744:Src/main.c    ****       alarmMin = 0;
 2511              		.loc 1 744 8 is_stmt 0 view .LVU730
 2512 0092 3B2B     		cmp	r3, #59
 2513 0094 00D9     		bls	.L222
 2514              	.L203:
 738:Src/main.c    ****     }
 2515              		.loc 1 738 7 is_stmt 1 view .LVU731
 738:Src/main.c    ****     }
 2516              		.loc 1 738 17 is_stmt 0 view .LVU732
 2517 0096 0023     		movs	r3, #0
 2518              	.L222:
 788:Src/main.c    ****     blinkControl = 0;
 2519              		.loc 1 788 25 view .LVU733
 2520 0098 1370     		strb	r3, [r2]
 2521 009a DDE7     		b	.L218
 2522              	.L193:
 750:Src/main.c    ****     if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 2523              		.loc 1 750 5 is_stmt 1 view .LVU734
 750:Src/main.c    ****     if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 2524              		.loc 1 750 23 is_stmt 0 view .LVU735
 2525 009c 264A     		ldr	r2, .L226+32
 2526 009e 1378     		ldrb	r3, [r2]
 2527 00a0 0133     		adds	r3, r3, #1
 2528 00a2 DBB2     		uxtb	r3, r3
 2529 00a4 1370     		strb	r3, [r2]
 751:Src/main.c    ****       tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 2530              		.loc 1 751 5 is_stmt 1 view .LVU736
 751:Src/main.c    ****       tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 2531              		.loc 1 751 8 is_stmt 0 view .LVU737
 2532 00a6 0F2B     		cmp	r3, #15
 2533 00a8 D6D9     		bls	.L218
 752:Src/main.c    ****     }
 2534              		.loc 1 752 7 is_stmt 1 view .LVU738
 752:Src/main.c    ****     }
 2535              		.loc 1 752 56 is_stmt 0 view .LVU739
 2536 00aa 244B     		ldr	r3, .L226+36
 2537              	.L221:
 759:Src/main.c    ****     }
 2538              		.loc 1 759 56 view .LVU740
 2539 00ac 1B78     		ldrb	r3, [r3]
 2540 00ae 5942     		rsbs	r1, r3, #0
 2541 00b0 4B41     		adcs	r3, r3, r1
 2542 00b2 F1E7     		b	.L222
 2543              	.L192:
 757:Src/main.c    ****     if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 2544              		.loc 1 757 5 is_stmt 1 view .LVU741
 757:Src/main.c    ****     if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 2545              		.loc 1 757 23 is_stmt 0 view .LVU742
 2546 00b4 214A     		ldr	r2, .L226+36
ARM GAS  D:\Temp\ccoXQ802.s 			page 69


 2547 00b6 1378     		ldrb	r3, [r2]
 2548 00b8 0133     		adds	r3, r3, #1
 2549 00ba DBB2     		uxtb	r3, r3
 2550 00bc 1370     		strb	r3, [r2]
 758:Src/main.c    ****       tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 2551              		.loc 1 758 5 is_stmt 1 view .LVU743
 758:Src/main.c    ****       tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 2552              		.loc 1 758 8 is_stmt 0 view .LVU744
 2553 00be 1E2B     		cmp	r3, #30
 2554 00c0 CAD9     		bls	.L218
 759:Src/main.c    ****     }
 2555              		.loc 1 759 7 is_stmt 1 view .LVU745
 759:Src/main.c    ****     }
 2556              		.loc 1 759 56 is_stmt 0 view .LVU746
 2557 00c2 1D4B     		ldr	r3, .L226+32
 2558 00c4 F2E7     		b	.L221
 2559              	.L191:
 764:Src/main.c    ****     if (savedBrightness > 8) {
 2560              		.loc 1 764 5 is_stmt 1 view .LVU747
 764:Src/main.c    ****     if (savedBrightness > 8) {
 2561              		.loc 1 764 20 is_stmt 0 view .LVU748
 2562 00c6 1E4A     		ldr	r2, .L226+40
 2563 00c8 1378     		ldrb	r3, [r2]
 2564 00ca 0133     		adds	r3, r3, #1
 2565 00cc DBB2     		uxtb	r3, r3
 765:Src/main.c    ****       savedBrightness = 0;
 2566              		.loc 1 765 5 is_stmt 1 view .LVU749
 765:Src/main.c    ****       savedBrightness = 0;
 2567              		.loc 1 765 8 is_stmt 0 view .LVU750
 2568 00ce 082B     		cmp	r3, #8
 2569 00d0 00D9     		bls	.L207
 2570 00d2 0023     		movs	r3, #0
 2571              	.L207:
 764:Src/main.c    ****     if (savedBrightness > 8) {
 2572              		.loc 1 764 20 view .LVU751
 2573 00d4 1370     		strb	r3, [r2]
 768:Src/main.c    ****     blinkControl = 0;
 2574              		.loc 1 768 5 is_stmt 1 view .LVU752
 768:Src/main.c    ****     blinkControl = 0;
 2575              		.loc 1 768 5 is_stmt 0 discriminator 4 view .LVU753
 2576 00d6 181C     		adds	r0, r3, #0
 2577 00d8 002B     		cmp	r3, #0
 2578 00da 00D1     		bne	.L208
 2579 00dc 0120     		movs	r0, #1
 2580              	.L208:
 2581 00de C0B2     		uxtb	r0, r0
 2582 00e0 FFF7FEFF 		bl	TM1637SetBrightness
 2583              	.LVL158:
 769:Src/main.c    ****     refreshSettingsDisplay();
 2584              		.loc 1 769 5 is_stmt 1 view .LVU754
 2585 00e4 B8E7     		b	.L218
 2586              	.L190:
 772:Src/main.c    ****     if (strongBrightness > 8) {
 2587              		.loc 1 772 5 view .LVU755
 772:Src/main.c    ****     if (strongBrightness > 8) {
 2588              		.loc 1 772 21 is_stmt 0 view .LVU756
 2589 00e6 174B     		ldr	r3, .L226+44
ARM GAS  D:\Temp\ccoXQ802.s 			page 70


 2590              	.L225:
 780:Src/main.c    ****     if (weakBrightness > 8) {
 2591              		.loc 1 780 19 view .LVU757
 2592 00e8 1878     		ldrb	r0, [r3]
 2593 00ea 0130     		adds	r0, r0, #1
 2594 00ec C0B2     		uxtb	r0, r0
 781:Src/main.c    ****       weakBrightness = 1;
 2595              		.loc 1 781 5 is_stmt 1 view .LVU758
 781:Src/main.c    ****       weakBrightness = 1;
 2596              		.loc 1 781 8 is_stmt 0 view .LVU759
 2597 00ee 0828     		cmp	r0, #8
 2598 00f0 00D9     		bls	.L210
 2599 00f2 0120     		movs	r0, #1
 2600              	.L210:
 784:Src/main.c    ****     TM1637SetBrightness(weakBrightness);
 2601              		.loc 1 784 18 view .LVU760
 2602 00f4 0022     		movs	r2, #0
 780:Src/main.c    ****     if (weakBrightness > 8) {
 2603              		.loc 1 780 19 view .LVU761
 2604 00f6 1870     		strb	r0, [r3]
 784:Src/main.c    ****     TM1637SetBrightness(weakBrightness);
 2605              		.loc 1 784 5 is_stmt 1 view .LVU762
 784:Src/main.c    ****     TM1637SetBrightness(weakBrightness);
 2606              		.loc 1 784 18 is_stmt 0 view .LVU763
 2607 00f8 0B4B     		ldr	r3, .L226+16
 2608 00fa 1A70     		strb	r2, [r3]
 785:Src/main.c    ****     refreshSettingsDisplay();
 2609              		.loc 1 785 5 is_stmt 1 view .LVU764
 2610 00fc FFF7FEFF 		bl	TM1637SetBrightness
 2611              	.LVL159:
 786:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_ENABLE) {
 2612              		.loc 1 786 5 view .LVU765
 2613              	.L217:
 790:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 2614              		.loc 1 790 5 view .LVU766
 2615 0100 FFF7FEFF 		bl	refreshSettingsDisplay
 2616              	.LVL160:
 2617 0104 83E7     		b	.L182
 2618              	.L189:
 780:Src/main.c    ****     if (weakBrightness > 8) {
 2619              		.loc 1 780 5 view .LVU767
 780:Src/main.c    ****     if (weakBrightness > 8) {
 2620              		.loc 1 780 19 is_stmt 0 view .LVU768
 2621 0106 104B     		ldr	r3, .L226+48
 2622 0108 EEE7     		b	.L225
 2623              	.L188:
 788:Src/main.c    ****     blinkControl = 0;
 2624              		.loc 1 788 5 is_stmt 1 view .LVU769
 788:Src/main.c    ****     blinkControl = 0;
 2625              		.loc 1 788 25 is_stmt 0 view .LVU770
 2626 010a 104A     		ldr	r2, .L226+52
 2627 010c B2E7     		b	.L219
 2628              	.L187:
 792:Src/main.c    ****     if (ringOnTimeStart > 23) {
 2629              		.loc 1 792 5 is_stmt 1 view .LVU771
 792:Src/main.c    ****     if (ringOnTimeStart > 23) {
 2630              		.loc 1 792 20 is_stmt 0 view .LVU772
ARM GAS  D:\Temp\ccoXQ802.s 			page 71


 2631 010e 104A     		ldr	r2, .L226+56
 2632 0110 B5E7     		b	.L220
 2633              	.L185:
 799:Src/main.c    ****     if (ringOnTimeStop > 23) {
 2634              		.loc 1 799 5 is_stmt 1 view .LVU773
 799:Src/main.c    ****     if (ringOnTimeStop > 23) {
 2635              		.loc 1 799 19 is_stmt 0 view .LVU774
 2636 0112 104A     		ldr	r2, .L226+60
 2637 0114 B3E7     		b	.L220
 2638              	.L227:
 2639 0116 C046     		.align	2
 2640              	.L226:
 2641 0118 00000000 		.word	isAlarming
 2642 011c 00000000 		.word	currentMode
 2643 0120 00000000 		.word	lastDisplayChangeTime
 2644 0124 00000000 		.word	lastTime
 2645 0128 00000000 		.word	blinkControl
 2646 012c 00000000 		.word	isAlarmEnabled
 2647 0130 00000000 		.word	alarmHour
 2648 0134 00000000 		.word	alarmMin
 2649 0138 00000000 		.word	tempertureShowTime
 2650 013c 00000000 		.word	tempertureHideTime
 2651 0140 00000000 		.word	savedBrightness
 2652 0144 00000000 		.word	strongBrightness
 2653 0148 00000000 		.word	weakBrightness
 2654 014c 00000000 		.word	isRingOnTimeEnabled
 2655 0150 00000000 		.word	ringOnTimeStart
 2656 0154 00000000 		.word	ringOnTimeStop
 2657              		.cfi_endproc
 2658              	.LFE50:
 2660              		.section	.text.setKeyPresseRepeatReport,"ax",%progbits
 2661              		.align	1
 2662              		.global	setKeyPresseRepeatReport
 2663              		.syntax unified
 2664              		.code	16
 2665              		.thumb_func
 2667              	setKeyPresseRepeatReport:
 2668              	.LFB51:
 807:Src/main.c    **** 
 808:Src/main.c    **** void setKeyPresseRepeatReport() {
 2669              		.loc 1 808 33 is_stmt 1 view -0
 2670              		.cfi_startproc
 2671              		@ args = 0, pretend = 0, frame = 0
 2672              		@ frame_needed = 0, uses_anonymous_args = 0
 809:Src/main.c    ****   setKeyRepeatReported = true;
 2673              		.loc 1 809 3 view .LVU776
 2674              		.loc 1 809 24 is_stmt 0 view .LVU777
 2675 0000 0122     		movs	r2, #1
 808:Src/main.c    ****   setKeyRepeatReported = true;
 2676              		.loc 1 808 33 view .LVU778
 2677 0002 10B5     		push	{r4, lr}
 2678              	.LCFI13:
 2679              		.cfi_def_cfa_offset 8
 2680              		.cfi_offset 4, -8
 2681              		.cfi_offset 14, -4
 2682              		.loc 1 809 24 view .LVU779
 2683 0004 274B     		ldr	r3, .L250
ARM GAS  D:\Temp\ccoXQ802.s 			page 72


 2684 0006 1A70     		strb	r2, [r3]
 810:Src/main.c    **** 
 811:Src/main.c    ****   if (currentMode == MODE_SET_HOUR) {
 2685              		.loc 1 811 3 is_stmt 1 view .LVU780
 2686              		.loc 1 811 19 is_stmt 0 view .LVU781
 2687 0008 274B     		ldr	r3, .L250+4
 2688 000a 1878     		ldrb	r0, [r3]
 2689 000c 0338     		subs	r0, r0, #3
 2690 000e 0C28     		cmp	r0, #12
 2691 0010 15D8     		bhi	.L228
 2692 0012 FFF7FEFF 		bl	__gnu_thumb1_case_uqi
 2693              	.L231:
 2694 0016 07       		.byte	(.L238-.L231)/2
 2695 0017 15       		.byte	(.L237-.L231)/2
 2696 0018 14       		.byte	(.L228-.L231)/2
 2697 0019 1E       		.byte	(.L236-.L231)/2
 2698 001a 25       		.byte	(.L235-.L231)/2
 2699 001b 2E       		.byte	(.L234-.L231)/2
 2700 001c 3A       		.byte	(.L233-.L231)/2
 2701 001d 14       		.byte	(.L228-.L231)/2
 2702 001e 14       		.byte	(.L228-.L231)/2
 2703 001f 14       		.byte	(.L228-.L231)/2
 2704 0020 14       		.byte	(.L228-.L231)/2
 2705 0021 43       		.byte	(.L232-.L231)/2
 2706 0022 45       		.byte	(.L230-.L231)/2
 2707 0023 00       		.p2align 1
 2708              	.L238:
 812:Src/main.c    ****     lastTime.hours++;
 2709              		.loc 1 812 5 is_stmt 1 view .LVU782
 2710              		.loc 1 812 13 is_stmt 0 view .LVU783
 2711 0024 214A     		ldr	r2, .L250+8
 2712              		.loc 1 812 19 view .LVU784
 2713 0026 D378     		ldrb	r3, [r2, #3]
 2714 0028 0133     		adds	r3, r3, #1
 2715 002a DBB2     		uxtb	r3, r3
 813:Src/main.c    ****     if (lastTime.hours > 23) {
 2716              		.loc 1 813 5 is_stmt 1 view .LVU785
 2717              		.loc 1 813 8 is_stmt 0 view .LVU786
 2718 002c 172B     		cmp	r3, #23
 2719 002e 00D9     		bls	.L239
 814:Src/main.c    ****       lastTime.hours = 0;
 2720              		.loc 1 814 22 view .LVU787
 2721 0030 0023     		movs	r3, #0
 2722              	.L239:
 2723 0032 D370     		strb	r3, [r2, #3]
 815:Src/main.c    ****     }
 816:Src/main.c    ****     blinkControl = 0;
 2724              		.loc 1 816 5 is_stmt 1 view .LVU788
 2725              	.L242:
 817:Src/main.c    ****     refreshSettingsDisplay();
 818:Src/main.c    ****   } else if (currentMode == MODE_SET_MINUTE) {
 819:Src/main.c    ****     lastTime.minutes++;
 820:Src/main.c    ****     if (lastTime.minutes > 59) {
 821:Src/main.c    ****       lastTime.minutes = 0;
 822:Src/main.c    ****     }
 823:Src/main.c    ****     blinkControl = 0;
 824:Src/main.c    ****     refreshSettingsDisplay();
ARM GAS  D:\Temp\ccoXQ802.s 			page 73


 825:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_HOUR) {
 826:Src/main.c    ****     alarmHour++;
 827:Src/main.c    ****     if (alarmHour > 23) {
 828:Src/main.c    ****       alarmHour = 0;
 829:Src/main.c    ****     }
 830:Src/main.c    ****     blinkControl = 0;
 2726              		.loc 1 830 5 view .LVU789
 2727              		.loc 1 830 18 is_stmt 0 view .LVU790
 2728 0034 0022     		movs	r2, #0
 2729 0036 1E4B     		ldr	r3, .L250+12
 2730 0038 1A70     		strb	r2, [r3]
 831:Src/main.c    ****     refreshSettingsDisplay();
 2731              		.loc 1 831 5 is_stmt 1 view .LVU791
 2732 003a FFF7FEFF 		bl	refreshSettingsDisplay
 2733              	.LVL161:
 2734              	.L228:
 832:Src/main.c    ****   } else if (currentMode == MODE_SET_ALARM_MINUTE) {
 833:Src/main.c    ****     alarmMin++;
 834:Src/main.c    ****     if (alarmMin > 59) {
 835:Src/main.c    ****       alarmMin = 0;
 836:Src/main.c    ****     }
 837:Src/main.c    ****     blinkControl = 0;
 838:Src/main.c    ****     refreshSettingsDisplay();
 839:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_SHOW) {
 840:Src/main.c    ****     tempertureShowTime++;
 841:Src/main.c    ****     if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 842:Src/main.c    ****       tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 843:Src/main.c    ****     }
 844:Src/main.c    ****     blinkControl = 0;
 845:Src/main.c    ****     refreshSettingsDisplay();
 846:Src/main.c    ****   } else if (currentMode == MODE_SET_TEMP_HIDE) {
 847:Src/main.c    ****     tempertureHideTime++;
 848:Src/main.c    ****     if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 849:Src/main.c    ****       tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 850:Src/main.c    ****     }
 851:Src/main.c    ****     blinkControl = 0;
 852:Src/main.c    ****     refreshSettingsDisplay();
 853:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_START) {
 854:Src/main.c    ****     ringOnTimeStart++;
 855:Src/main.c    ****     if (ringOnTimeStart > 23) {
 856:Src/main.c    ****       ringOnTimeStart = 0;
 857:Src/main.c    ****     }
 858:Src/main.c    ****     blinkControl = 0;
 859:Src/main.c    ****     refreshSettingsDisplay();
 860:Src/main.c    ****   } else if (currentMode == MODE_SET_ROT_STOP) {
 861:Src/main.c    ****     ringOnTimeStop++;
 862:Src/main.c    ****     if (ringOnTimeStop > 23) {
 863:Src/main.c    ****       ringOnTimeStop = 0;
 864:Src/main.c    ****     }
 865:Src/main.c    ****     blinkControl = 0;
 866:Src/main.c    ****     refreshSettingsDisplay();
 867:Src/main.c    ****   }
 868:Src/main.c    **** }
 2735              		.loc 1 868 1 is_stmt 0 view .LVU792
 2736              		@ sp needed
 2737 003e 10BD     		pop	{r4, pc}
 2738              	.L237:
ARM GAS  D:\Temp\ccoXQ802.s 			page 74


 819:Src/main.c    ****     if (lastTime.minutes > 59) {
 2739              		.loc 1 819 5 is_stmt 1 view .LVU793
 819:Src/main.c    ****     if (lastTime.minutes > 59) {
 2740              		.loc 1 819 13 is_stmt 0 view .LVU794
 2741 0040 1A4A     		ldr	r2, .L250+8
 819:Src/main.c    ****     if (lastTime.minutes > 59) {
 2742              		.loc 1 819 21 view .LVU795
 2743 0042 5378     		ldrb	r3, [r2, #1]
 2744 0044 0133     		adds	r3, r3, #1
 2745 0046 DBB2     		uxtb	r3, r3
 820:Src/main.c    ****       lastTime.minutes = 0;
 2746              		.loc 1 820 5 is_stmt 1 view .LVU796
 820:Src/main.c    ****       lastTime.minutes = 0;
 2747              		.loc 1 820 8 is_stmt 0 view .LVU797
 2748 0048 3B2B     		cmp	r3, #59
 2749 004a 00D9     		bls	.L240
 821:Src/main.c    ****     }
 2750              		.loc 1 821 24 view .LVU798
 2751 004c 0023     		movs	r3, #0
 2752              	.L240:
 2753 004e 5370     		strb	r3, [r2, #1]
 823:Src/main.c    ****     refreshSettingsDisplay();
 2754              		.loc 1 823 5 is_stmt 1 view .LVU799
 2755 0050 F0E7     		b	.L242
 2756              	.L236:
 826:Src/main.c    ****     if (alarmHour > 23) {
 2757              		.loc 1 826 5 view .LVU800
 826:Src/main.c    ****     if (alarmHour > 23) {
 2758              		.loc 1 826 14 is_stmt 0 view .LVU801
 2759 0052 184A     		ldr	r2, .L250+16
 2760              	.L248:
 854:Src/main.c    ****     if (ringOnTimeStart > 23) {
 2761              		.loc 1 854 20 view .LVU802
 2762 0054 1378     		ldrb	r3, [r2]
 2763 0056 0133     		adds	r3, r3, #1
 2764 0058 DBB2     		uxtb	r3, r3
 855:Src/main.c    ****       ringOnTimeStart = 0;
 2765              		.loc 1 855 5 is_stmt 1 view .LVU803
 855:Src/main.c    ****       ringOnTimeStart = 0;
 2766              		.loc 1 855 8 is_stmt 0 view .LVU804
 2767 005a 172B     		cmp	r3, #23
 2768 005c 06D8     		bhi	.L241
 2769 005e 06E0     		b	.L247
 2770              	.L235:
 833:Src/main.c    ****     if (alarmMin > 59) {
 2771              		.loc 1 833 5 is_stmt 1 view .LVU805
 833:Src/main.c    ****     if (alarmMin > 59) {
 2772              		.loc 1 833 13 is_stmt 0 view .LVU806
 2773 0060 154A     		ldr	r2, .L250+20
 2774 0062 1378     		ldrb	r3, [r2]
 2775 0064 0133     		adds	r3, r3, #1
 2776 0066 DBB2     		uxtb	r3, r3
 834:Src/main.c    ****       alarmMin = 0;
 2777              		.loc 1 834 5 is_stmt 1 view .LVU807
 834:Src/main.c    ****       alarmMin = 0;
 2778              		.loc 1 834 8 is_stmt 0 view .LVU808
 2779 0068 3B2B     		cmp	r3, #59
ARM GAS  D:\Temp\ccoXQ802.s 			page 75


 2780 006a 00D9     		bls	.L247
 2781              	.L241:
 828:Src/main.c    ****     }
 2782              		.loc 1 828 7 is_stmt 1 view .LVU809
 828:Src/main.c    ****     }
 2783              		.loc 1 828 17 is_stmt 0 view .LVU810
 2784 006c 0023     		movs	r3, #0
 2785              	.L247:
 2786 006e 1370     		strb	r3, [r2]
 2787 0070 E0E7     		b	.L242
 2788              	.L234:
 840:Src/main.c    ****     if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 2789              		.loc 1 840 5 is_stmt 1 view .LVU811
 840:Src/main.c    ****     if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 2790              		.loc 1 840 23 is_stmt 0 view .LVU812
 2791 0072 124A     		ldr	r2, .L250+24
 2792 0074 1378     		ldrb	r3, [r2]
 2793 0076 0133     		adds	r3, r3, #1
 2794 0078 DBB2     		uxtb	r3, r3
 2795 007a 1370     		strb	r3, [r2]
 841:Src/main.c    ****       tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 2796              		.loc 1 841 5 is_stmt 1 view .LVU813
 841:Src/main.c    ****       tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 2797              		.loc 1 841 8 is_stmt 0 view .LVU814
 2798 007c 0F2B     		cmp	r3, #15
 2799 007e D9D9     		bls	.L242
 842:Src/main.c    ****     }
 2800              		.loc 1 842 7 is_stmt 1 view .LVU815
 842:Src/main.c    ****     }
 2801              		.loc 1 842 56 is_stmt 0 view .LVU816
 2802 0080 0F4B     		ldr	r3, .L250+28
 2803              	.L249:
 849:Src/main.c    ****     }
 2804              		.loc 1 849 56 view .LVU817
 2805 0082 1B78     		ldrb	r3, [r3]
 2806 0084 5942     		rsbs	r1, r3, #0
 2807 0086 4B41     		adcs	r3, r3, r1
 2808 0088 F1E7     		b	.L247
 2809              	.L233:
 847:Src/main.c    ****     if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 2810              		.loc 1 847 5 is_stmt 1 view .LVU818
 847:Src/main.c    ****     if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 2811              		.loc 1 847 23 is_stmt 0 view .LVU819
 2812 008a 0D4A     		ldr	r2, .L250+28
 2813 008c 1378     		ldrb	r3, [r2]
 2814 008e 0133     		adds	r3, r3, #1
 2815 0090 DBB2     		uxtb	r3, r3
 2816 0092 1370     		strb	r3, [r2]
 848:Src/main.c    ****       tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 2817              		.loc 1 848 5 is_stmt 1 view .LVU820
 848:Src/main.c    ****       tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 2818              		.loc 1 848 8 is_stmt 0 view .LVU821
 2819 0094 1E2B     		cmp	r3, #30
 2820 0096 CDD9     		bls	.L242
 849:Src/main.c    ****     }
 2821              		.loc 1 849 7 is_stmt 1 view .LVU822
 849:Src/main.c    ****     }
ARM GAS  D:\Temp\ccoXQ802.s 			page 76


 2822              		.loc 1 849 56 is_stmt 0 view .LVU823
 2823 0098 084B     		ldr	r3, .L250+24
 2824 009a F2E7     		b	.L249
 2825              	.L232:
 854:Src/main.c    ****     if (ringOnTimeStart > 23) {
 2826              		.loc 1 854 5 is_stmt 1 view .LVU824
 854:Src/main.c    ****     if (ringOnTimeStart > 23) {
 2827              		.loc 1 854 20 is_stmt 0 view .LVU825
 2828 009c 094A     		ldr	r2, .L250+32
 2829 009e D9E7     		b	.L248
 2830              	.L230:
 861:Src/main.c    ****     if (ringOnTimeStop > 23) {
 2831              		.loc 1 861 5 is_stmt 1 view .LVU826
 861:Src/main.c    ****     if (ringOnTimeStop > 23) {
 2832              		.loc 1 861 19 is_stmt 0 view .LVU827
 2833 00a0 094A     		ldr	r2, .L250+36
 2834 00a2 D7E7     		b	.L248
 2835              	.L251:
 2836              		.align	2
 2837              	.L250:
 2838 00a4 00000000 		.word	setKeyRepeatReported
 2839 00a8 00000000 		.word	currentMode
 2840 00ac 00000000 		.word	lastTime
 2841 00b0 00000000 		.word	blinkControl
 2842 00b4 00000000 		.word	alarmHour
 2843 00b8 00000000 		.word	alarmMin
 2844 00bc 00000000 		.word	tempertureShowTime
 2845 00c0 00000000 		.word	tempertureHideTime
 2846 00c4 00000000 		.word	ringOnTimeStart
 2847 00c8 00000000 		.word	ringOnTimeStop
 2848              		.cfi_endproc
 2849              	.LFE51:
 2851              		.section	.text.setKeyPressed,"ax",%progbits
 2852              		.align	1
 2853              		.global	setKeyPressed
 2854              		.syntax unified
 2855              		.code	16
 2856              		.thumb_func
 2858              	setKeyPressed:
 2859              	.LFB52:
 869:Src/main.c    **** 
 870:Src/main.c    **** void setKeyPressed() { lastSetKeyPressTime = HAL_GetTick(); }
 2860              		.loc 1 870 22 is_stmt 1 view -0
 2861              		.cfi_startproc
 2862              		@ args = 0, pretend = 0, frame = 0
 2863              		@ frame_needed = 0, uses_anonymous_args = 0
 2864              		.loc 1 870 24 view .LVU829
 2865              		.loc 1 870 22 is_stmt 0 view .LVU830
 2866 0000 10B5     		push	{r4, lr}
 2867              	.LCFI14:
 2868              		.cfi_def_cfa_offset 8
 2869              		.cfi_offset 4, -8
 2870              		.cfi_offset 14, -4
 2871              		.loc 1 870 46 view .LVU831
 2872 0002 FFF7FEFF 		bl	HAL_GetTick
 2873              	.LVL162:
 2874              		.loc 1 870 61 view .LVU832
ARM GAS  D:\Temp\ccoXQ802.s 			page 77


 2875              		@ sp needed
 2876              		.loc 1 870 44 discriminator 1 view .LVU833
 2877 0006 014B     		ldr	r3, .L253
 2878 0008 1860     		str	r0, [r3]
 2879              		.loc 1 870 61 view .LVU834
 2880 000a 10BD     		pop	{r4, pc}
 2881              	.L254:
 2882              		.align	2
 2883              	.L253:
 2884 000c 00000000 		.word	lastSetKeyPressTime
 2885              		.cfi_endproc
 2886              	.LFE52:
 2888              		.section	.text.setKeyReleased,"ax",%progbits
 2889              		.align	1
 2890              		.global	setKeyReleased
 2891              		.syntax unified
 2892              		.code	16
 2893              		.thumb_func
 2895              	setKeyReleased:
 2896              	.LFB53:
 871:Src/main.c    **** 
 872:Src/main.c    **** void setKeyReleased() {
 2897              		.loc 1 872 23 is_stmt 1 view -0
 2898              		.cfi_startproc
 2899              		@ args = 0, pretend = 0, frame = 0
 2900              		@ frame_needed = 0, uses_anonymous_args = 0
 873:Src/main.c    ****   uint32_t currentVal = HAL_GetTick();
 2901              		.loc 1 873 3 view .LVU836
 872:Src/main.c    ****   uint32_t currentVal = HAL_GetTick();
 2902              		.loc 1 872 23 is_stmt 0 view .LVU837
 2903 0000 10B5     		push	{r4, lr}
 2904              	.LCFI15:
 2905              		.cfi_def_cfa_offset 8
 2906              		.cfi_offset 4, -8
 2907              		.cfi_offset 14, -4
 2908              		.loc 1 873 25 view .LVU838
 2909 0002 FFF7FEFF 		bl	HAL_GetTick
 2910              	.LVL163:
 874:Src/main.c    ****   if (lastSetKeyPressTime > currentVal) {
 2911              		.loc 1 874 3 is_stmt 1 view .LVU839
 2912              		.loc 1 874 27 is_stmt 0 view .LVU840
 2913 0006 084B     		ldr	r3, .L262
 2914 0008 084C     		ldr	r4, .L262+4
 2915 000a 1B68     		ldr	r3, [r3]
 2916              		.loc 1 874 6 view .LVU841
 2917 000c 8342     		cmp	r3, r0
 2918 000e 04D9     		bls	.L256
 2919              	.LVL164:
 2920              	.L258:
 875:Src/main.c    ****     setKeyClicked();
 2921              		.loc 1 875 5 is_stmt 1 view .LVU842
 2922 0010 FFF7FEFF 		bl	setKeyClicked
 2923              	.LVL165:
 2924              	.L257:
 876:Src/main.c    ****   } else if (currentVal - lastSetKeyPressTime > KEY_CLICK_EFFECT_TIME &&
 877:Src/main.c    ****              !setKeyRepeatReported) {
 878:Src/main.c    ****     setKeyClicked();
ARM GAS  D:\Temp\ccoXQ802.s 			page 78


 879:Src/main.c    ****   }
 880:Src/main.c    ****   setKeyRepeatReported = false;
 2925              		.loc 1 880 3 view .LVU843
 881:Src/main.c    **** }
 2926              		.loc 1 881 1 is_stmt 0 view .LVU844
 2927              		@ sp needed
 880:Src/main.c    **** }
 2928              		.loc 1 880 24 view .LVU845
 2929 0014 0023     		movs	r3, #0
 2930 0016 2370     		strb	r3, [r4]
 2931              		.loc 1 881 1 view .LVU846
 2932 0018 10BD     		pop	{r4, pc}
 2933              	.LVL166:
 2934              	.L256:
 876:Src/main.c    ****   } else if (currentVal - lastSetKeyPressTime > KEY_CLICK_EFFECT_TIME &&
 2935              		.loc 1 876 10 is_stmt 1 view .LVU847
 876:Src/main.c    ****   } else if (currentVal - lastSetKeyPressTime > KEY_CLICK_EFFECT_TIME &&
 2936              		.loc 1 876 25 is_stmt 0 view .LVU848
 2937 001a C01A     		subs	r0, r0, r3
 2938              	.LVL167:
 876:Src/main.c    ****   } else if (currentVal - lastSetKeyPressTime > KEY_CLICK_EFFECT_TIME &&
 2939              		.loc 1 876 13 view .LVU849
 2940 001c 3228     		cmp	r0, #50
 2941 001e F9D9     		bls	.L257
 876:Src/main.c    ****   } else if (currentVal - lastSetKeyPressTime > KEY_CLICK_EFFECT_TIME &&
 2942              		.loc 1 876 71 discriminator 1 view .LVU850
 2943 0020 2378     		ldrb	r3, [r4]
 2944 0022 002B     		cmp	r3, #0
 2945 0024 F6D1     		bne	.L257
 2946 0026 F3E7     		b	.L258
 2947              	.L263:
 2948              		.align	2
 2949              	.L262:
 2950 0028 00000000 		.word	lastSetKeyPressTime
 2951 002c 00000000 		.word	setKeyRepeatReported
 2952              		.cfi_endproc
 2953              	.LFE53:
 2955              		.section	.text.modeKeyPressed,"ax",%progbits
 2956              		.align	1
 2957              		.global	modeKeyPressed
 2958              		.syntax unified
 2959              		.code	16
 2960              		.thumb_func
 2962              	modeKeyPressed:
 2963              	.LFB54:
 882:Src/main.c    **** 
 883:Src/main.c    **** void modeKeyPressed() { lastModeKeyPressTime = HAL_GetTick(); }
 2964              		.loc 1 883 23 is_stmt 1 view -0
 2965              		.cfi_startproc
 2966              		@ args = 0, pretend = 0, frame = 0
 2967              		@ frame_needed = 0, uses_anonymous_args = 0
 2968              		.loc 1 883 25 view .LVU852
 2969              		.loc 1 883 23 is_stmt 0 view .LVU853
 2970 0000 10B5     		push	{r4, lr}
 2971              	.LCFI16:
 2972              		.cfi_def_cfa_offset 8
 2973              		.cfi_offset 4, -8
ARM GAS  D:\Temp\ccoXQ802.s 			page 79


 2974              		.cfi_offset 14, -4
 2975              		.loc 1 883 48 view .LVU854
 2976 0002 FFF7FEFF 		bl	HAL_GetTick
 2977              	.LVL168:
 2978              		.loc 1 883 63 view .LVU855
 2979              		@ sp needed
 2980              		.loc 1 883 46 discriminator 1 view .LVU856
 2981 0006 014B     		ldr	r3, .L265
 2982 0008 1860     		str	r0, [r3]
 2983              		.loc 1 883 63 view .LVU857
 2984 000a 10BD     		pop	{r4, pc}
 2985              	.L266:
 2986              		.align	2
 2987              	.L265:
 2988 000c 00000000 		.word	lastModeKeyPressTime
 2989              		.cfi_endproc
 2990              	.LFE54:
 2992              		.section	.text.modeKeyReleased,"ax",%progbits
 2993              		.align	1
 2994              		.global	modeKeyReleased
 2995              		.syntax unified
 2996              		.code	16
 2997              		.thumb_func
 2999              	modeKeyReleased:
 3000              	.LFB55:
 884:Src/main.c    **** 
 885:Src/main.c    **** void modeKeyReleased() {
 3001              		.loc 1 885 24 is_stmt 1 view -0
 3002              		.cfi_startproc
 3003              		@ args = 0, pretend = 0, frame = 0
 3004              		@ frame_needed = 0, uses_anonymous_args = 0
 886:Src/main.c    ****   uint32_t currentVal = HAL_GetTick();
 3005              		.loc 1 886 3 view .LVU859
 885:Src/main.c    ****   uint32_t currentVal = HAL_GetTick();
 3006              		.loc 1 885 24 is_stmt 0 view .LVU860
 3007 0000 10B5     		push	{r4, lr}
 3008              	.LCFI17:
 3009              		.cfi_def_cfa_offset 8
 3010              		.cfi_offset 4, -8
 3011              		.cfi_offset 14, -4
 3012              		.loc 1 886 25 view .LVU861
 3013 0002 FFF7FEFF 		bl	HAL_GetTick
 3014              	.LVL169:
 887:Src/main.c    ****   if (lastModeKeyPressTime > currentVal) {
 3015              		.loc 1 887 3 is_stmt 1 view .LVU862
 3016              		.loc 1 887 28 is_stmt 0 view .LVU863
 3017 0006 094B     		ldr	r3, .L272
 3018 0008 1B68     		ldr	r3, [r3]
 3019              		.loc 1 887 6 view .LVU864
 3020 000a 8342     		cmp	r3, r0
 3021 000c 02D9     		bls	.L268
 3022              	.LVL170:
 3023              	.L271:
 888:Src/main.c    ****     modeKeyClicked();
 3024              		.loc 1 888 5 is_stmt 1 view .LVU865
 3025 000e FFF7FEFF 		bl	modeKeyClicked
 3026              	.LVL171:
ARM GAS  D:\Temp\ccoXQ802.s 			page 80


 3027              	.L267:
 889:Src/main.c    ****   } else if (currentVal - lastModeKeyPressTime > KEY_LONG_PRESS_EFFECT_TIME) {
 890:Src/main.c    ****     modeKeyLongPressed();
 891:Src/main.c    ****   } else if (currentVal - lastModeKeyPressTime > KEY_CLICK_EFFECT_TIME) {
 892:Src/main.c    ****     modeKeyClicked();
 893:Src/main.c    ****   }
 894:Src/main.c    **** }
 3028              		.loc 1 894 1 is_stmt 0 view .LVU866
 3029              		@ sp needed
 3030 0012 10BD     		pop	{r4, pc}
 3031              	.LVL172:
 3032              	.L268:
 889:Src/main.c    ****   } else if (currentVal - lastModeKeyPressTime > KEY_LONG_PRESS_EFFECT_TIME) {
 3033              		.loc 1 889 10 is_stmt 1 view .LVU867
 889:Src/main.c    ****   } else if (currentVal - lastModeKeyPressTime > KEY_LONG_PRESS_EFFECT_TIME) {
 3034              		.loc 1 889 25 is_stmt 0 view .LVU868
 3035 0014 C01A     		subs	r0, r0, r3
 3036              	.LVL173:
 889:Src/main.c    ****   } else if (currentVal - lastModeKeyPressTime > KEY_LONG_PRESS_EFFECT_TIME) {
 3037              		.loc 1 889 13 view .LVU869
 3038 0016 C823     		movs	r3, #200
 3039 0018 9B00     		lsls	r3, r3, #2
 3040 001a 9842     		cmp	r0, r3
 3041 001c 02D9     		bls	.L270
 890:Src/main.c    ****   } else if (currentVal - lastModeKeyPressTime > KEY_CLICK_EFFECT_TIME) {
 3042              		.loc 1 890 5 is_stmt 1 view .LVU870
 3043 001e FFF7FEFF 		bl	modeKeyLongPressed
 3044              	.LVL174:
 3045 0022 F6E7     		b	.L267
 3046              	.L270:
 891:Src/main.c    ****     modeKeyClicked();
 3047              		.loc 1 891 10 view .LVU871
 891:Src/main.c    ****     modeKeyClicked();
 3048              		.loc 1 891 13 is_stmt 0 view .LVU872
 3049 0024 3228     		cmp	r0, #50
 3050 0026 F4D9     		bls	.L267
 3051 0028 F1E7     		b	.L271
 3052              	.L273:
 3053 002a C046     		.align	2
 3054              	.L272:
 3055 002c 00000000 		.word	lastModeKeyPressTime
 3056              		.cfi_endproc
 3057              	.LFE55:
 3059              		.section	.text.SystemClock_Config,"ax",%progbits
 3060              		.align	1
 3061              		.global	SystemClock_Config
 3062              		.syntax unified
 3063              		.code	16
 3064              		.thumb_func
 3066              	SystemClock_Config:
 3067              	.LFB57:
 895:Src/main.c    **** /* USER CODE END 0 */
 896:Src/main.c    **** 
 897:Src/main.c    **** /**
 898:Src/main.c    ****  * @brief  The application entry point.
 899:Src/main.c    ****  * @retval int
 900:Src/main.c    ****  */
ARM GAS  D:\Temp\ccoXQ802.s 			page 81


 901:Src/main.c    **** int main(void) {
 902:Src/main.c    ****   /* USER CODE BEGIN 1 */
 903:Src/main.c    **** 
 904:Src/main.c    ****   /* USER CODE END 1 */
 905:Src/main.c    **** 
 906:Src/main.c    ****   /* MCU Configuration--------------------------------------------------------*/
 907:Src/main.c    **** 
 908:Src/main.c    ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick.
 909:Src/main.c    ****    */
 910:Src/main.c    ****   HAL_Init();
 911:Src/main.c    **** 
 912:Src/main.c    ****   /* USER CODE BEGIN Init */
 913:Src/main.c    **** 
 914:Src/main.c    ****   /* USER CODE END Init */
 915:Src/main.c    **** 
 916:Src/main.c    ****   /* Configure the system clock */
 917:Src/main.c    ****   SystemClock_Config();
 918:Src/main.c    **** 
 919:Src/main.c    ****   /* USER CODE BEGIN SysInit */
 920:Src/main.c    **** 
 921:Src/main.c    ****   /* USER CODE END SysInit */
 922:Src/main.c    **** 
 923:Src/main.c    ****   /* Initialize all configured peripherals */
 924:Src/main.c    ****   MX_GPIO_Init();
 925:Src/main.c    ****   MX_DMA_Init();
 926:Src/main.c    ****   MX_I2C1_Init();
 927:Src/main.c    ****   MX_ADC_Init();
 928:Src/main.c    ****   MX_TIM17_Init();
 929:Src/main.c    ****   MX_TIM3_Init();
 930:Src/main.c    ****   MX_TIM16_Init();
 931:Src/main.c    ****   /* USER CODE BEGIN 2 */
 932:Src/main.c    **** 
 933:Src/main.c    ****   // ����Ƿ���粢��ȡ���б��������?
 934:Src/main.c    ****   uint8_t backupData[BAK_DATA_SIZE];
 935:Src/main.c    ****   ReadBackData(BAK_POWER_DOWN_IND_INDEX, backupData, BAK_DATA_SIZE);
 936:Src/main.c    ****   if (backupData[0] != POWER_DOWN_IND_DATA &&
 937:Src/main.c    ****       backupData[1] != POWER_DOWN_IND_DATA) {
 938:Src/main.c    ****     // ����ʱ��
 939:Src/main.c    ****     time.year = YEAR_MIN_SET;
 940:Src/main.c    ****     time.month = 1;
 941:Src/main.c    ****     time.dayOfMonth = 1;
 942:Src/main.c    ****     time.dayOfWeek = 1;
 943:Src/main.c    ****     time.hours = 0;
 944:Src/main.c    ****     time.minutes = 0;
 945:Src/main.c    ****     time.ampm = HOUR24;
 946:Src/main.c    ****     time.seconds = 0;
 947:Src/main.c    ****     SetTime(&time);
 948:Src/main.c    **** 
 949:Src/main.c    ****     // ��������
 950:Src/main.c    ****     resetSettings();
 951:Src/main.c    ****     saveSettings();
 952:Src/main.c    ****   } else {
 953:Src/main.c    ****     isAlarmEnabled = backupData[BAK_ALARM_ENABLED_INDEX];
 954:Src/main.c    ****     alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 955:Src/main.c    ****     alarmMin = backupData[BAK_ALARM_MINUTE_INDEX];
 956:Src/main.c    ****     tempertureShowTime = backupData[BAK_TEMP_SHOW_TIME_INDEX];
 957:Src/main.c    ****     tempertureHideTime = backupData[BAK_TEMP_HIDE_TIME_INDEX];
ARM GAS  D:\Temp\ccoXQ802.s 			page 82


 958:Src/main.c    ****     isRingOnTimeEnabled = backupData[BAK_ROT_ENABLED_INDEX];
 959:Src/main.c    ****     ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 960:Src/main.c    ****     ringOnTimeStop = backupData[BAK_ROT_STOP_INDEX];
 961:Src/main.c    ****     savedBrightness = backupData[BAK_BRIGHTNESS_INDEX];
 962:Src/main.c    ****     strongBrightness = backupData[BAK_BRIGHTNESS_STRONG_INDEX];
 963:Src/main.c    ****     weakBrightness = backupData[BAK_BRIGHTNESS_WEAK_INDEX];
 964:Src/main.c    ****   }
 965:Src/main.c    **** 
 966:Src/main.c    ****   // ���ݼ��?
 967:Src/main.c    ****   bool hasError = false;
 968:Src/main.c    ****   if (alarmHour > (uint8_t)23 || alarmMin > (uint8_t)59) {
 969:Src/main.c    ****     hasError = true;
 970:Src/main.c    ****   }
 971:Src/main.c    ****   //  if(tempertureShowTime == 0 && tempertureHideTime == 0){
 972:Src/main.c    ****   //	  hasError = true;
 973:Src/main.c    ****   //  }
 974:Src/main.c    ****   if (ringOnTimeStart > 23 || ringOnTimeStop > 23) {
 975:Src/main.c    ****     hasError = true;
 976:Src/main.c    ****   }
 977:Src/main.c    ****   if (savedBrightness > 8 || strongBrightness > 8 || strongBrightness == 0 ||
 978:Src/main.c    ****       weakBrightness > 8 || weakBrightness == 0) {
 979:Src/main.c    ****     hasError = true;
 980:Src/main.c    ****   }
 981:Src/main.c    **** 
 982:Src/main.c    ****   // ��������ڴ������������
 983:Src/main.c    ****   if (hasError) {
 984:Src/main.c    ****     resetSettings();
 985:Src/main.c    ****     saveSettings();
 986:Src/main.c    ****   }
 987:Src/main.c    **** 
 988:Src/main.c    ****   TM1637Init();
 989:Src/main.c    ****   if (savedBrightness != 0) {
 990:Src/main.c    ****     TM1637SetBrightness(savedBrightness);
 991:Src/main.c    ****   } else {
 992:Src/main.c    ****     TM1637SetBrightness(STRONG_BRIGHTNESS_VALUE);
 993:Src/main.c    ****     isWeakBrightness = false;
 994:Src/main.c    ****   }
 995:Src/main.c    **** 
 996:Src/main.c    ****   HAL_ADCEx_Calibration_Start(&hadc);
 997:Src/main.c    ****   HAL_ADC_Start_DMA(&hadc, adcValue, 2);
 998:Src/main.c    ****   HAL_TIM_Base_Start(&htim3);
 999:Src/main.c    **** 
1000:Src/main.c    ****   HAL_TIM_Base_Start_IT(&LIGHT_CONTROL_TIMER_HANDLE);
1001:Src/main.c    **** 
1002:Src/main.c    ****   TimeNow(&time);
1003:Src/main.c    ****   lastRingOnTimeHour = time.hours;
1004:Src/main.c    **** 
1005:Src/main.c    ****   EnableSencodInterruptOuput();
1006:Src/main.c    **** 
1007:Src/main.c    ****   lastDisplayChangeTime = HAL_GetTick();
1008:Src/main.c    **** 
1009:Src/main.c    ****   isInitCompleted = true;
1010:Src/main.c    **** 
1011:Src/main.c    ****   /* USER CODE END 2 */
1012:Src/main.c    **** 
1013:Src/main.c    ****   /* Infinite loop */
1014:Src/main.c    ****   /* USER CODE BEGIN WHILE */
ARM GAS  D:\Temp\ccoXQ802.s 			page 83


1015:Src/main.c    ****   uint32_t now = 0, passedTime;
1016:Src/main.c    ****   while (1) {
1017:Src/main.c    ****     /* USER CODE END WHILE */
1018:Src/main.c    **** 
1019:Src/main.c    ****     /* USER CODE BEGIN 3 */
1020:Src/main.c    ****     // 蜂鸣器控制逻辑（整点报时和闹钟�?
1021:Src/main.c    ****     if (HAL_GPIO_ReadPin(BUZZER_GPIO_PORT, BUZZER_PIN) == GPIO_PIN_RESET) {
1022:Src/main.c    ****       now = HAL_GetTick();
1023:Src/main.c    **** 
1024:Src/main.c    ****       // 如果是闹钟响铃，由定时器中断控制，这里不处理
1025:Src/main.c    ****       if (isAlarming) {
1026:Src/main.c    ****         // 闹钟响铃由alarmTimerTick()控制
1027:Src/main.c    ****       }
1028:Src/main.c    ****       // 如果是整点报�?
1029:Src/main.c    ****       else if (isChiming) {
1030:Src/main.c    ****         uint32_t chimeDuration;
1031:Src/main.c    ****         // 判断是短音还是长�?
1032:Src/main.c    ****         if (time.minutes == 0 && time.seconds == 0) {
1033:Src/main.c    ****           // 整点长音�?1000ms
1034:Src/main.c    ****           chimeDuration = 1000;
1035:Src/main.c    ****         } else {
1036:Src/main.c    ****           // 倒计时短音：100ms
1037:Src/main.c    ****           chimeDuration = 100;
1038:Src/main.c    ****         }
1039:Src/main.c    **** 
1040:Src/main.c    ****         // 检查是否到达鸣叫时�?
1041:Src/main.c    ****         if (now < ringStartTime || (now - ringStartTime >= chimeDuration)) {
1042:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
1043:Src/main.c    ****           isChiming = false;
1044:Src/main.c    ****         }
1045:Src/main.c    ****       }
1046:Src/main.c    ****       // 其他情况（兼容旧代码�?
1047:Src/main.c    ****       else {
1048:Src/main.c    ****         if (now < ringStartTime || (now - ringStartTime >= RING_ON_TIME_LONG)) {
1049:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
1050:Src/main.c    ****         }
1051:Src/main.c    ****       }
1052:Src/main.c    ****     }
1053:Src/main.c    **** 
1054:Src/main.c    ****     // 温度显示自动切换逻辑
1055:Src/main.c    ****     if (tempertureShowTime > 0) {
1056:Src/main.c    ****       if (currentMode == MODE_SHOW_TIME) {
1057:Src/main.c    ****         now = HAL_GetTick();
1058:Src/main.c    ****         passedTime = now - lastDisplayChangeTime;
1059:Src/main.c    ****         if (now < lastDisplayChangeTime ||
1060:Src/main.c    ****             passedTime >= (tempertureHideTime * 1000)) {
1061:Src/main.c    ****           currentMode = MODE_SHOW_TEMPERTURE;
1062:Src/main.c    ****           lastDisplayChangeTime = now;
1063:Src/main.c    ****         }
1064:Src/main.c    **** 
1065:Src/main.c    ****       } else if (currentMode == MODE_SHOW_TEMPERTURE &&
1066:Src/main.c    ****                  tempertureHideTime > 0) {
1067:Src/main.c    ****         now = HAL_GetTick();
1068:Src/main.c    ****         passedTime = now - lastDisplayChangeTime;
1069:Src/main.c    ****         if (now < lastDisplayChangeTime ||
1070:Src/main.c    ****             passedTime >= (tempertureShowTime * 1000)) {
1071:Src/main.c    ****           currentMode = MODE_SHOW_TIME;
ARM GAS  D:\Temp\ccoXQ802.s 			page 84


1072:Src/main.c    ****           lastDisplayChangeTime = now;
1073:Src/main.c    ****         }
1074:Src/main.c    ****       }
1075:Src/main.c    ****     } else if (currentMode == MODE_SHOW_TEMPERTURE) {
1076:Src/main.c    ****       currentMode = MODE_SHOW_TIME;
1077:Src/main.c    ****       lastDisplayChangeTime = now;
1078:Src/main.c    ****     }
1079:Src/main.c    **** 
1080:Src/main.c    ****     // 设置键长按重复触发逻辑
1081:Src/main.c    ****     if (HAL_GPIO_ReadPin(SET_KEY_GPIO_PORT, SET_KEY_PIN) == GPIO_PIN_RESET &&
1082:Src/main.c    ****         currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
1083:Src/main.c    ****       uint32_t curVal = HAL_GetTick();
1084:Src/main.c    ****       uint32_t timePassed = curVal - lastSetKeyPressTime;
1085:Src/main.c    ****       if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
1086:Src/main.c    ****         if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
1087:Src/main.c    ****           setKeyPresseRepeatReport();
1088:Src/main.c    ****           lastSetKeyPressReportTime = curVal;
1089:Src/main.c    ****         }
1090:Src/main.c    ****       }
1091:Src/main.c    ****     }
1092:Src/main.c    ****   }
1093:Src/main.c    ****   /* USER CODE END 3 */
1094:Src/main.c    **** }
1095:Src/main.c    **** 
1096:Src/main.c    **** /**
1097:Src/main.c    ****  * @brief System Clock Configuration
1098:Src/main.c    ****  * @retval None
1099:Src/main.c    ****  */
1100:Src/main.c    **** void SystemClock_Config(void) {
 3068              		.loc 1 1100 31 is_stmt 1 view -0
 3069              		.cfi_startproc
 3070              		@ args = 0, pretend = 0, frame = 80
 3071              		@ frame_needed = 0, uses_anonymous_args = 0
1101:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 3072              		.loc 1 1101 3 view .LVU874
1100:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 3073              		.loc 1 1100 31 is_stmt 0 view .LVU875
 3074 0000 10B5     		push	{r4, lr}
 3075              	.LCFI18:
 3076              		.cfi_def_cfa_offset 8
 3077              		.cfi_offset 4, -8
 3078              		.cfi_offset 14, -4
1102:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 3079              		.loc 1 1102 22 view .LVU876
 3080 0002 1024     		movs	r4, #16
1100:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 3081              		.loc 1 1100 31 view .LVU877
 3082 0004 94B0     		sub	sp, sp, #80
 3083              	.LCFI19:
 3084              		.cfi_def_cfa_offset 88
1101:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 3085              		.loc 1 1101 22 view .LVU878
 3086 0006 2C22     		movs	r2, #44
 3087 0008 0021     		movs	r1, #0
 3088 000a 09A8     		add	r0, sp, #36
 3089 000c FFF7FEFF 		bl	memset
 3090              	.LVL175:
ARM GAS  D:\Temp\ccoXQ802.s 			page 85


 3091              		.loc 1 1102 3 is_stmt 1 view .LVU879
 3092              		.loc 1 1102 22 is_stmt 0 view .LVU880
 3093 0010 2200     		movs	r2, r4
 3094 0012 0021     		movs	r1, #0
 3095 0014 6846     		mov	r0, sp
 3096 0016 FFF7FEFF 		bl	memset
 3097              	.LVL176:
1103:Src/main.c    ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 3098              		.loc 1 1103 3 is_stmt 1 view .LVU881
 3099              		.loc 1 1103 28 is_stmt 0 view .LVU882
 3100 001a 2200     		movs	r2, r4
 3101 001c 0021     		movs	r1, #0
 3102 001e 04A8     		add	r0, sp, #16
 3103 0020 FFF7FEFF 		bl	memset
 3104              	.LVL177:
1104:Src/main.c    **** 
1105:Src/main.c    ****   /** Initializes the CPU, AHB and APB busses clocks
1106:Src/main.c    ****    */
1107:Src/main.c    ****   RCC_OscInitStruct.OscillatorType =
 3105              		.loc 1 1107 3 is_stmt 1 view .LVU883
 3106              		.loc 1 1107 36 is_stmt 0 view .LVU884
 3107 0024 1223     		movs	r3, #18
 3108 0026 0893     		str	r3, [sp, #32]
1108:Src/main.c    ****       RCC_OSCILLATORTYPE_HSI | RCC_OSCILLATORTYPE_HSI14;
1109:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 3109              		.loc 1 1109 3 is_stmt 1 view .LVU885
 3110              		.loc 1 1109 30 is_stmt 0 view .LVU886
 3111 0028 113B     		subs	r3, r3, #17
 3112 002a 0B93     		str	r3, [sp, #44]
1110:Src/main.c    ****   RCC_OscInitStruct.HSI14State = RCC_HSI14_ON;
 3113              		.loc 1 1110 3 is_stmt 1 view .LVU887
 3114              		.loc 1 1110 32 is_stmt 0 view .LVU888
 3115 002c 0D93     		str	r3, [sp, #52]
1111:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 3116              		.loc 1 1111 3 is_stmt 1 view .LVU889
1112:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
1113:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
1114:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
1115:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL4;
 3117              		.loc 1 1115 32 is_stmt 0 view .LVU890
 3118 002e 8023     		movs	r3, #128
1111:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 3119              		.loc 1 1111 41 view .LVU891
 3120 0030 0C94     		str	r4, [sp, #48]
1112:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
 3121              		.loc 1 1112 3 is_stmt 1 view .LVU892
1112:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
 3122              		.loc 1 1112 43 is_stmt 0 view .LVU893
 3123 0032 0E94     		str	r4, [sp, #56]
1113:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 3124              		.loc 1 1113 3 is_stmt 1 view .LVU894
 3125              		.loc 1 1115 32 is_stmt 0 view .LVU895
 3126 0034 1B03     		lsls	r3, r3, #12
1113:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 3127              		.loc 1 1113 34 view .LVU896
 3128 0036 0E3C     		subs	r4, r4, #14
1116:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
ARM GAS  D:\Temp\ccoXQ802.s 			page 86


1117:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK) {
 3129              		.loc 1 1117 7 view .LVU897
 3130 0038 08A8     		add	r0, sp, #32
1113:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 3131              		.loc 1 1113 34 view .LVU898
 3132 003a 1094     		str	r4, [sp, #64]
1114:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL4;
 3133              		.loc 1 1114 3 is_stmt 1 view .LVU899
1115:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 3134              		.loc 1 1115 3 view .LVU900
1115:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 3135              		.loc 1 1115 32 is_stmt 0 view .LVU901
 3136 003c 1293     		str	r3, [sp, #72]
1116:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 3137              		.loc 1 1116 3 is_stmt 1 view .LVU902
 3138              		.loc 1 1117 3 view .LVU903
 3139              		.loc 1 1117 7 is_stmt 0 view .LVU904
 3140 003e FFF7FEFF 		bl	HAL_RCC_OscConfig
 3141              	.LVL178:
1118:Src/main.c    ****     Error_Handler();
 3142              		.loc 1 1118 5 is_stmt 1 view .LVU905
1119:Src/main.c    ****   }
1120:Src/main.c    ****   /** Initializes the CPU, AHB and APB busses clocks
1121:Src/main.c    ****    */
1122:Src/main.c    ****   RCC_ClkInitStruct.ClockType =
 3143              		.loc 1 1122 3 view .LVU906
1123:Src/main.c    ****       RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK | RCC_CLOCKTYPE_PCLK1;
1124:Src/main.c    ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 3144              		.loc 1 1124 34 is_stmt 0 view .LVU907
 3145 0042 0194     		str	r4, [sp, #4]
1125:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 3146              		.loc 1 1125 35 view .LVU908
 3147 0044 0024     		movs	r4, #0
1122:Src/main.c    ****       RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK | RCC_CLOCKTYPE_PCLK1;
 3148              		.loc 1 1122 31 view .LVU909
 3149 0046 0723     		movs	r3, #7
1126:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
1127:Src/main.c    **** 
1128:Src/main.c    ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_0) != HAL_OK) {
 3150              		.loc 1 1128 7 view .LVU910
 3151 0048 2100     		movs	r1, r4
 3152 004a 6846     		mov	r0, sp
1122:Src/main.c    ****       RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK | RCC_CLOCKTYPE_PCLK1;
 3153              		.loc 1 1122 31 view .LVU911
 3154 004c 0093     		str	r3, [sp]
1124:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 3155              		.loc 1 1124 3 is_stmt 1 view .LVU912
1125:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 3156              		.loc 1 1125 3 view .LVU913
1125:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 3157              		.loc 1 1125 35 is_stmt 0 view .LVU914
 3158 004e 0294     		str	r4, [sp, #8]
1126:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 3159              		.loc 1 1126 3 is_stmt 1 view .LVU915
1126:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 3160              		.loc 1 1126 36 is_stmt 0 view .LVU916
 3161 0050 0394     		str	r4, [sp, #12]
ARM GAS  D:\Temp\ccoXQ802.s 			page 87


 3162              		.loc 1 1128 3 is_stmt 1 view .LVU917
 3163              		.loc 1 1128 7 is_stmt 0 view .LVU918
 3164 0052 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 3165              	.LVL179:
1129:Src/main.c    ****     Error_Handler();
 3166              		.loc 1 1129 5 is_stmt 1 view .LVU919
1130:Src/main.c    ****   }
1131:Src/main.c    ****   PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_I2C1;
 3167              		.loc 1 1131 3 view .LVU920
 3168              		.loc 1 1131 38 is_stmt 0 view .LVU921
 3169 0056 2023     		movs	r3, #32
1132:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_HSI;
1133:Src/main.c    ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK) {
 3170              		.loc 1 1133 7 view .LVU922
 3171 0058 04A8     		add	r0, sp, #16
1131:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_HSI;
 3172              		.loc 1 1131 38 view .LVU923
 3173 005a 0493     		str	r3, [sp, #16]
1132:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_HSI;
 3174              		.loc 1 1132 3 is_stmt 1 view .LVU924
1132:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_HSI;
 3175              		.loc 1 1132 36 is_stmt 0 view .LVU925
 3176 005c 0794     		str	r4, [sp, #28]
 3177              		.loc 1 1133 3 is_stmt 1 view .LVU926
 3178              		.loc 1 1133 7 is_stmt 0 view .LVU927
 3179 005e FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 3180              	.LVL180:
1134:Src/main.c    ****     Error_Handler();
 3181              		.loc 1 1134 5 is_stmt 1 view .LVU928
1135:Src/main.c    ****   }
1136:Src/main.c    **** }
 3182              		.loc 1 1136 1 is_stmt 0 view .LVU929
 3183 0062 14B0     		add	sp, sp, #80
 3184              		@ sp needed
 3185 0064 10BD     		pop	{r4, pc}
 3186              		.cfi_endproc
 3187              	.LFE57:
 3189              		.section	.text.startup.main,"ax",%progbits
 3190              		.align	1
 3191              		.global	main
 3192              		.syntax unified
 3193              		.code	16
 3194              		.thumb_func
 3196              	main:
 3197              	.LFB56:
 901:Src/main.c    ****   /* USER CODE BEGIN 1 */
 3198              		.loc 1 901 16 is_stmt 1 view -0
 3199              		.cfi_startproc
 3200              		@ args = 0, pretend = 0, frame = 24
 3201              		@ frame_needed = 0, uses_anonymous_args = 0
 910:Src/main.c    **** 
 3202              		.loc 1 910 3 view .LVU931
 901:Src/main.c    ****   /* USER CODE BEGIN 1 */
 3203              		.loc 1 901 16 is_stmt 0 view .LVU932
 3204 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3205              	.LCFI20:
 3206              		.cfi_def_cfa_offset 20
ARM GAS  D:\Temp\ccoXQ802.s 			page 88


 3207              		.cfi_offset 4, -20
 3208              		.cfi_offset 5, -16
 3209              		.cfi_offset 6, -12
 3210              		.cfi_offset 7, -8
 3211              		.cfi_offset 14, -4
 3212 0002 87B0     		sub	sp, sp, #28
 3213              	.LCFI21:
 3214              		.cfi_def_cfa_offset 48
 910:Src/main.c    **** 
 3215              		.loc 1 910 3 view .LVU933
 3216 0004 FFF7FEFF 		bl	HAL_Init
 3217              	.LVL181:
 917:Src/main.c    **** 
 3218              		.loc 1 917 3 is_stmt 1 view .LVU934
 3219 0008 FFF7FEFF 		bl	SystemClock_Config
 3220              	.LVL182:
 924:Src/main.c    ****   MX_DMA_Init();
 3221              		.loc 1 924 3 view .LVU935
 3222 000c FFF7FEFF 		bl	MX_GPIO_Init
 3223              	.LVL183:
 925:Src/main.c    ****   MX_I2C1_Init();
 3224              		.loc 1 925 3 view .LVU936
 3225 0010 FFF7FEFF 		bl	MX_DMA_Init
 3226              	.LVL184:
 926:Src/main.c    ****   MX_ADC_Init();
 3227              		.loc 1 926 3 view .LVU937
 3228 0014 FFF7FEFF 		bl	MX_I2C1_Init
 3229              	.LVL185:
 927:Src/main.c    ****   MX_TIM17_Init();
 3230              		.loc 1 927 3 view .LVU938
 3231 0018 FFF7FEFF 		bl	MX_ADC_Init
 3232              	.LVL186:
 928:Src/main.c    ****   MX_TIM3_Init();
 3233              		.loc 1 928 3 view .LVU939
 3234 001c FFF7FEFF 		bl	MX_TIM17_Init
 3235              	.LVL187:
 929:Src/main.c    ****   MX_TIM16_Init();
 3236              		.loc 1 929 3 view .LVU940
 3237 0020 FFF7FEFF 		bl	MX_TIM3_Init
 3238              	.LVL188:
 930:Src/main.c    ****   /* USER CODE BEGIN 2 */
 3239              		.loc 1 930 3 view .LVU941
 3240 0024 FFF7FEFF 		bl	MX_TIM16_Init
 3241              	.LVL189:
 934:Src/main.c    ****   ReadBackData(BAK_POWER_DOWN_IND_INDEX, backupData, BAK_DATA_SIZE);
 3242              		.loc 1 934 3 view .LVU942
 935:Src/main.c    ****   if (backupData[0] != POWER_DOWN_IND_DATA &&
 3243              		.loc 1 935 3 view .LVU943
 3244 0028 0D22     		movs	r2, #13
 3245 002a 0020     		movs	r0, #0
 3246 002c 02A9     		add	r1, sp, #8
 3247 002e FFF7FEFF 		bl	ReadBackData
 3248              	.LVL190:
 936:Src/main.c    ****       backupData[1] != POWER_DOWN_IND_DATA) {
 3249              		.loc 1 936 3 view .LVU944
 936:Src/main.c    ****       backupData[1] != POWER_DOWN_IND_DATA) {
 3250              		.loc 1 936 6 is_stmt 0 view .LVU945
ARM GAS  D:\Temp\ccoXQ802.s 			page 89


 3251 0032 02AB     		add	r3, sp, #8
 3252 0034 9A4A     		ldr	r2, .L320
 3253 0036 1B78     		ldrb	r3, [r3]
 3254 0038 9A4D     		ldr	r5, .L320+4
 3255 003a 9B4F     		ldr	r7, .L320+8
 3256 003c 9B4E     		ldr	r6, .L320+12
 3257 003e 9C4C     		ldr	r4, .L320+16
 3258 0040 0092     		str	r2, [sp]
 3259 0042 FA2B     		cmp	r3, #250
 3260 0044 00D1     		bne	.LCB2717
 3261 0046 CCE0     		b	.L276	@long jump
 3262              	.LCB2717:
 936:Src/main.c    ****       backupData[1] != POWER_DOWN_IND_DATA) {
 3263              		.loc 1 936 44 discriminator 1 view .LVU946
 3264 0048 02AB     		add	r3, sp, #8
 3265 004a 5B78     		ldrb	r3, [r3, #1]
 3266 004c FA2B     		cmp	r3, #250
 3267 004e 00D1     		bne	.LCB2721
 3268 0050 C7E0     		b	.L276	@long jump
 3269              	.LCB2721:
 939:Src/main.c    ****     time.month = 1;
 3270              		.loc 1 939 5 is_stmt 1 view .LVU947
 939:Src/main.c    ****     time.month = 1;
 3271              		.loc 1 939 15 is_stmt 0 view .LVU948
 3272 0052 0F23     		movs	r3, #15
 3273 0054 EB71     		strb	r3, [r5, #7]
 940:Src/main.c    ****     time.dayOfMonth = 1;
 3274              		.loc 1 940 5 is_stmt 1 view .LVU949
 940:Src/main.c    ****     time.dayOfMonth = 1;
 3275              		.loc 1 940 16 is_stmt 0 view .LVU950
 3276 0056 0E3B     		subs	r3, r3, #14
 945:Src/main.c    ****     time.seconds = 0;
 3277              		.loc 1 945 15 view .LVU951
 3278 0058 0222     		movs	r2, #2
 940:Src/main.c    ****     time.dayOfMonth = 1;
 3279              		.loc 1 940 16 view .LVU952
 3280 005a AB71     		strb	r3, [r5, #6]
 941:Src/main.c    ****     time.dayOfWeek = 1;
 3281              		.loc 1 941 5 is_stmt 1 view .LVU953
 941:Src/main.c    ****     time.dayOfWeek = 1;
 3282              		.loc 1 941 21 is_stmt 0 view .LVU954
 3283 005c 6B71     		strb	r3, [r5, #5]
 942:Src/main.c    ****     time.hours = 0;
 3284              		.loc 1 942 5 is_stmt 1 view .LVU955
 942:Src/main.c    ****     time.hours = 0;
 3285              		.loc 1 942 20 is_stmt 0 view .LVU956
 3286 005e 2B71     		strb	r3, [r5, #4]
 943:Src/main.c    ****     time.minutes = 0;
 3287              		.loc 1 943 5 is_stmt 1 view .LVU957
 943:Src/main.c    ****     time.minutes = 0;
 3288              		.loc 1 943 16 is_stmt 0 view .LVU958
 3289 0060 0023     		movs	r3, #0
 947:Src/main.c    **** 
 3290              		.loc 1 947 5 view .LVU959
 3291 0062 2800     		movs	r0, r5
 943:Src/main.c    ****     time.minutes = 0;
 3292              		.loc 1 943 16 view .LVU960
ARM GAS  D:\Temp\ccoXQ802.s 			page 90


 3293 0064 EB70     		strb	r3, [r5, #3]
 944:Src/main.c    ****     time.ampm = HOUR24;
 3294              		.loc 1 944 5 is_stmt 1 view .LVU961
 944:Src/main.c    ****     time.ampm = HOUR24;
 3295              		.loc 1 944 18 is_stmt 0 view .LVU962
 3296 0066 6B70     		strb	r3, [r5, #1]
 945:Src/main.c    ****     time.seconds = 0;
 3297              		.loc 1 945 5 is_stmt 1 view .LVU963
 945:Src/main.c    ****     time.seconds = 0;
 3298              		.loc 1 945 15 is_stmt 0 view .LVU964
 3299 0068 AA70     		strb	r2, [r5, #2]
 946:Src/main.c    ****     SetTime(&time);
 3300              		.loc 1 946 5 is_stmt 1 view .LVU965
 946:Src/main.c    ****     SetTime(&time);
 3301              		.loc 1 946 18 is_stmt 0 view .LVU966
 3302 006a 2B70     		strb	r3, [r5]
 947:Src/main.c    **** 
 3303              		.loc 1 947 5 is_stmt 1 view .LVU967
 3304 006c FFF7FEFF 		bl	SetTime
 3305              	.LVL191:
 950:Src/main.c    ****     saveSettings();
 3306              		.loc 1 950 5 view .LVU968
 3307 0070 FFF7FEFF 		bl	resetSettings
 3308              	.LVL192:
 951:Src/main.c    ****   } else {
 3309              		.loc 1 951 5 view .LVU969
 3310 0074 FFF7FEFF 		bl	saveSettings
 3311              	.LVL193:
 3312              	.L277:
 967:Src/main.c    ****   if (alarmHour > (uint8_t)23 || alarmMin > (uint8_t)59) {
 3313              		.loc 1 967 3 view .LVU970
 968:Src/main.c    ****     hasError = true;
 3314              		.loc 1 968 3 view .LVU971
 968:Src/main.c    ****     hasError = true;
 3315              		.loc 1 968 6 is_stmt 0 view .LVU972
 3316 0078 3A78     		ldrb	r2, [r7]
 969:Src/main.c    ****   }
 3317              		.loc 1 969 14 view .LVU973
 3318 007a 0123     		movs	r3, #1
 968:Src/main.c    ****     hasError = true;
 3319              		.loc 1 968 6 view .LVU974
 3320 007c 172A     		cmp	r2, #23
 3321 007e 05D8     		bhi	.L278
 968:Src/main.c    ****     hasError = true;
 3322              		.loc 1 968 43 discriminator 1 view .LVU975
 3323 0080 8C4B     		ldr	r3, .L320+20
 968:Src/main.c    ****     hasError = true;
 3324              		.loc 1 968 31 discriminator 1 view .LVU976
 3325 0082 1A78     		ldrb	r2, [r3]
 3326 0084 3B23     		movs	r3, #59
 3327 0086 9342     		cmp	r3, r2
 3328 0088 9B41     		sbcs	r3, r3, r3
 3329 008a 5B42     		rsbs	r3, r3, #0
 3330              	.L278:
 3331              	.LVL194:
 974:Src/main.c    ****     hasError = true;
 3332              		.loc 1 974 3 is_stmt 1 view .LVU977
ARM GAS  D:\Temp\ccoXQ802.s 			page 91


 974:Src/main.c    ****     hasError = true;
 3333              		.loc 1 974 6 is_stmt 0 view .LVU978
 3334 008c 3278     		ldrb	r2, [r6]
 3335 008e 172A     		cmp	r2, #23
 3336 0090 00D9     		bls	.LCB2770
 3337 0092 D4E0     		b	.L304	@long jump
 3338              	.LCB2770:
 974:Src/main.c    ****     hasError = true;
 3339              		.loc 1 974 46 discriminator 1 view .LVU979
 3340 0094 884A     		ldr	r2, .L320+24
 974:Src/main.c    ****     hasError = true;
 3341              		.loc 1 974 28 discriminator 1 view .LVU980
 3342 0096 1278     		ldrb	r2, [r2]
 3343 0098 172A     		cmp	r2, #23
 3344 009a 00D9     		bls	.LCB2774
 3345 009c CFE0     		b	.L304	@long jump
 3346              	.LCB2774:
 3347              	.LVL195:
 3348              	.L279:
 977:Src/main.c    ****       weakBrightness > 8 || weakBrightness == 0) {
 3349              		.loc 1 977 3 is_stmt 1 view .LVU981
 977:Src/main.c    ****       weakBrightness > 8 || weakBrightness == 0) {
 3350              		.loc 1 977 6 is_stmt 0 view .LVU982
 3351 009e 2278     		ldrb	r2, [r4]
 3352 00a0 082A     		cmp	r2, #8
 3353 00a2 0BD8     		bhi	.L280
 977:Src/main.c    ****       weakBrightness > 8 || weakBrightness == 0) {
 3354              		.loc 1 977 47 discriminator 1 view .LVU983
 3355 00a4 854A     		ldr	r2, .L320+28
 977:Src/main.c    ****       weakBrightness > 8 || weakBrightness == 0) {
 3356              		.loc 1 977 27 discriminator 1 view .LVU984
 3357 00a6 1278     		ldrb	r2, [r2]
 3358 00a8 013A     		subs	r2, r2, #1
 3359 00aa 072A     		cmp	r2, #7
 3360 00ac 06D8     		bhi	.L280
 978:Src/main.c    ****     hasError = true;
 3361              		.loc 1 978 22 view .LVU985
 3362 00ae 844A     		ldr	r2, .L320+32
 977:Src/main.c    ****       weakBrightness > 8 || weakBrightness == 0) {
 3363              		.loc 1 977 76 discriminator 3 view .LVU986
 3364 00b0 1278     		ldrb	r2, [r2]
 3365 00b2 013A     		subs	r2, r2, #1
 3366 00b4 072A     		cmp	r2, #7
 3367 00b6 01D8     		bhi	.L280
 983:Src/main.c    ****     resetSettings();
 3368              		.loc 1 983 3 is_stmt 1 view .LVU987
 983:Src/main.c    ****     resetSettings();
 3369              		.loc 1 983 6 is_stmt 0 view .LVU988
 3370 00b8 002B     		cmp	r3, #0
 3371 00ba 03D0     		beq	.L281
 3372              	.L280:
 3373              	.LVL196:
 984:Src/main.c    ****     saveSettings();
 3374              		.loc 1 984 5 is_stmt 1 view .LVU989
 3375 00bc FFF7FEFF 		bl	resetSettings
 3376              	.LVL197:
 985:Src/main.c    ****   }
ARM GAS  D:\Temp\ccoXQ802.s 			page 92


 3377              		.loc 1 985 5 view .LVU990
 3378 00c0 FFF7FEFF 		bl	saveSettings
 3379              	.LVL198:
 3380              	.L281:
 988:Src/main.c    ****   if (savedBrightness != 0) {
 3381              		.loc 1 988 3 view .LVU991
 3382 00c4 FFF7FEFF 		bl	TM1637Init
 3383              	.LVL199:
 989:Src/main.c    ****     TM1637SetBrightness(savedBrightness);
 3384              		.loc 1 989 3 view .LVU992
 989:Src/main.c    ****     TM1637SetBrightness(savedBrightness);
 3385              		.loc 1 989 23 is_stmt 0 view .LVU993
 3386 00c8 2478     		ldrb	r4, [r4]
 989:Src/main.c    ****     TM1637SetBrightness(savedBrightness);
 3387              		.loc 1 989 6 view .LVU994
 3388 00ca 002C     		cmp	r4, #0
 3389 00cc 00D1     		bne	.LCB2811
 3390 00ce B8E0     		b	.L282	@long jump
 3391              	.LCB2811:
 990:Src/main.c    ****   } else {
 3392              		.loc 1 990 5 is_stmt 1 view .LVU995
 3393 00d0 2000     		movs	r0, r4
 3394 00d2 FFF7FEFF 		bl	TM1637SetBrightness
 3395              	.LVL200:
 3396              	.L283:
 996:Src/main.c    ****   HAL_ADC_Start_DMA(&hadc, adcValue, 2);
 3397              		.loc 1 996 3 view .LVU996
 3398 00d6 7B4C     		ldr	r4, .L320+36
 3399 00d8 2000     		movs	r0, r4
 3400 00da FFF7FEFF 		bl	HAL_ADCEx_Calibration_Start
 3401              	.LVL201:
 997:Src/main.c    ****   HAL_TIM_Base_Start(&htim3);
 3402              		.loc 1 997 3 view .LVU997
 3403 00de 7A49     		ldr	r1, .L320+40
 3404 00e0 0222     		movs	r2, #2
 3405 00e2 2000     		movs	r0, r4
 3406 00e4 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3407              	.LVL202:
 998:Src/main.c    **** 
 3408              		.loc 1 998 3 view .LVU998
 3409 00e8 7848     		ldr	r0, .L320+44
 3410 00ea FFF7FEFF 		bl	HAL_TIM_Base_Start
 3411              	.LVL203:
1000:Src/main.c    **** 
 3412              		.loc 1 1000 3 view .LVU999
 3413 00ee 7848     		ldr	r0, .L320+48
 3414 00f0 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 3415              	.LVL204:
1002:Src/main.c    ****   lastRingOnTimeHour = time.hours;
 3416              		.loc 1 1002 3 view .LVU1000
 3417 00f4 2800     		movs	r0, r5
 3418 00f6 FFF7FEFF 		bl	TimeNow
 3419              	.LVL205:
1003:Src/main.c    **** 
 3420              		.loc 1 1003 3 view .LVU1001
1003:Src/main.c    **** 
 3421              		.loc 1 1003 22 is_stmt 0 view .LVU1002
ARM GAS  D:\Temp\ccoXQ802.s 			page 93


 3422 00fa 764B     		ldr	r3, .L320+52
 3423 00fc EA78     		ldrb	r2, [r5, #3]
1015:Src/main.c    ****   while (1) {
 3424              		.loc 1 1015 12 view .LVU1003
 3425 00fe 0024     		movs	r4, #0
1003:Src/main.c    **** 
 3426              		.loc 1 1003 22 view .LVU1004
 3427 0100 1A70     		strb	r2, [r3]
1005:Src/main.c    **** 
 3428              		.loc 1 1005 3 is_stmt 1 view .LVU1005
 3429 0102 FFF7FEFF 		bl	EnableSencodInterruptOuput
 3430              	.LVL206:
1007:Src/main.c    **** 
 3431              		.loc 1 1007 3 view .LVU1006
1007:Src/main.c    **** 
 3432              		.loc 1 1007 27 is_stmt 0 view .LVU1007
 3433 0106 FFF7FEFF 		bl	HAL_GetTick
 3434              	.LVL207:
1009:Src/main.c    **** 
 3435              		.loc 1 1009 19 view .LVU1008
 3436 010a 0122     		movs	r2, #1
1007:Src/main.c    **** 
 3437              		.loc 1 1007 25 discriminator 1 view .LVU1009
 3438 010c 724F     		ldr	r7, .L320+56
1009:Src/main.c    **** 
 3439              		.loc 1 1009 19 view .LVU1010
 3440 010e 734B     		ldr	r3, .L320+60
1007:Src/main.c    **** 
 3441              		.loc 1 1007 25 discriminator 1 view .LVU1011
 3442 0110 3860     		str	r0, [r7]
1009:Src/main.c    **** 
 3443              		.loc 1 1009 3 is_stmt 1 view .LVU1012
1009:Src/main.c    **** 
 3444              		.loc 1 1009 19 is_stmt 0 view .LVU1013
 3445 0112 1A70     		strb	r2, [r3]
1015:Src/main.c    ****   while (1) {
 3446              		.loc 1 1015 3 is_stmt 1 view .LVU1014
 3447              	.LVL208:
 3448              	.L284:
1016:Src/main.c    ****     /* USER CODE END WHILE */
 3449              		.loc 1 1016 3 view .LVU1015
1021:Src/main.c    ****       now = HAL_GetTick();
 3450              		.loc 1 1021 5 view .LVU1016
1021:Src/main.c    ****       now = HAL_GetTick();
 3451              		.loc 1 1021 9 is_stmt 0 view .LVU1017
 3452 0114 9020     		movs	r0, #144
 3453 0116 4021     		movs	r1, #64
 3454 0118 C005     		lsls	r0, r0, #23
 3455 011a FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3456              	.LVL209:
1021:Src/main.c    ****       now = HAL_GetTick();
 3457              		.loc 1 1021 8 discriminator 1 view .LVU1018
 3458 011e 0028     		cmp	r0, #0
 3459 0120 25D1     		bne	.L285
1022:Src/main.c    **** 
 3460              		.loc 1 1022 7 is_stmt 1 view .LVU1019
1022:Src/main.c    **** 
ARM GAS  D:\Temp\ccoXQ802.s 			page 94


 3461              		.loc 1 1022 13 is_stmt 0 view .LVU1020
 3462 0122 FFF7FEFF 		bl	HAL_GetTick
 3463              	.LVL210:
1025:Src/main.c    ****         // 闹钟响铃由alarmTimerTick()控制
 3464              		.loc 1 1025 11 view .LVU1021
 3465 0126 6E4B     		ldr	r3, .L320+64
1022:Src/main.c    **** 
 3466              		.loc 1 1022 13 view .LVU1022
 3467 0128 0400     		movs	r4, r0
 3468              	.LVL211:
1025:Src/main.c    ****         // 闹钟响铃由alarmTimerTick()控制
 3469              		.loc 1 1025 7 is_stmt 1 view .LVU1023
1025:Src/main.c    ****         // 闹钟响铃由alarmTimerTick()控制
 3470              		.loc 1 1025 10 is_stmt 0 view .LVU1024
 3471 012a 1B78     		ldrb	r3, [r3]
 3472 012c 002B     		cmp	r3, #0
 3473 012e 1ED1     		bne	.L285
1029:Src/main.c    ****         uint32_t chimeDuration;
 3474              		.loc 1 1029 12 is_stmt 1 view .LVU1025
 3475              	.LBB35:
1041:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3476              		.loc 1 1041 17 is_stmt 0 view .LVU1026
 3477 0130 6C4B     		ldr	r3, .L320+68
 3478              	.LBE35:
1029:Src/main.c    ****         uint32_t chimeDuration;
 3479              		.loc 1 1029 16 view .LVU1027
 3480 0132 6D4E     		ldr	r6, .L320+72
 3481              	.LBB36:
1041:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3482              		.loc 1 1041 17 view .LVU1028
 3483 0134 1A68     		ldr	r2, [r3]
 3484              	.LBE36:
1029:Src/main.c    ****         uint32_t chimeDuration;
 3485              		.loc 1 1029 15 view .LVU1029
 3486 0136 3378     		ldrb	r3, [r6]
 3487 0138 002B     		cmp	r3, #0
 3488 013a 00D1     		bne	.LCB2888
 3489 013c 87E0     		b	.L287	@long jump
 3490              	.LCB2888:
 3491              	.LBB37:
1030:Src/main.c    ****         // 判断是短音还是长�?
 3492              		.loc 1 1030 9 is_stmt 1 view .LVU1030
1032:Src/main.c    ****           // 整点长音�?1000ms
 3493              		.loc 1 1032 9 view .LVU1031
1032:Src/main.c    ****           // 整点长音�?1000ms
 3494              		.loc 1 1032 31 is_stmt 0 discriminator 1 view .LVU1032
 3495 013e 2978     		ldrb	r1, [r5]
 3496 0140 6B78     		ldrb	r3, [r5, #1]
 3497 0142 0B43     		orrs	r3, r1
1034:Src/main.c    ****         } else {
 3498              		.loc 1 1034 25 view .LVU1033
 3499 0144 591E     		subs	r1, r3, #1
 3500 0146 8B41     		sbcs	r3, r3, r1
 3501 0148 6849     		ldr	r1, .L320+76
 3502 014a 5B42     		rsbs	r3, r3, #0
 3503 014c 0B40     		ands	r3, r1
 3504 014e FA21     		movs	r1, #250
ARM GAS  D:\Temp\ccoXQ802.s 			page 95


 3505 0150 8900     		lsls	r1, r1, #2
 3506 0152 5B18     		adds	r3, r3, r1
 3507              	.LVL212:
1041:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3508              		.loc 1 1041 9 is_stmt 1 view .LVU1034
1041:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3509              		.loc 1 1041 12 is_stmt 0 view .LVU1035
 3510 0154 9042     		cmp	r0, r2
 3511 0156 02D3     		bcc	.L289
1041:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3512              		.loc 1 1041 41 discriminator 1 view .LVU1036
 3513 0158 821A     		subs	r2, r0, r2
1041:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3514              		.loc 1 1041 33 discriminator 1 view .LVU1037
 3515 015a 9A42     		cmp	r2, r3
 3516 015c 07D3     		bcc	.L285
 3517              	.L289:
1042:Src/main.c    ****           isChiming = false;
 3518              		.loc 1 1042 11 is_stmt 1 view .LVU1038
 3519 015e 9020     		movs	r0, #144
 3520              	.LVL213:
1042:Src/main.c    ****           isChiming = false;
 3521              		.loc 1 1042 11 is_stmt 0 view .LVU1039
 3522 0160 0122     		movs	r2, #1
 3523 0162 4021     		movs	r1, #64
 3524 0164 C005     		lsls	r0, r0, #23
 3525 0166 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3526              	.LVL214:
1043:Src/main.c    ****         }
 3527              		.loc 1 1043 11 is_stmt 1 view .LVU1040
1043:Src/main.c    ****         }
 3528              		.loc 1 1043 21 is_stmt 0 view .LVU1041
 3529 016a 0023     		movs	r3, #0
 3530 016c 3370     		strb	r3, [r6]
 3531              	.LVL215:
 3532              	.L285:
1043:Src/main.c    ****         }
 3533              		.loc 1 1043 21 view .LVU1042
 3534              	.LBE37:
1055:Src/main.c    ****       if (currentMode == MODE_SHOW_TIME) {
 3535              		.loc 1 1055 5 is_stmt 1 view .LVU1043
1055:Src/main.c    ****       if (currentMode == MODE_SHOW_TIME) {
 3536              		.loc 1 1055 8 is_stmt 0 view .LVU1044
 3537 016e 009A     		ldr	r2, [sp]
1056:Src/main.c    ****         now = HAL_GetTick();
 3538              		.loc 1 1056 23 view .LVU1045
 3539 0170 5F4E     		ldr	r6, .L320+80
1055:Src/main.c    ****       if (currentMode == MODE_SHOW_TIME) {
 3540              		.loc 1 1055 8 view .LVU1046
 3541 0172 1278     		ldrb	r2, [r2]
1056:Src/main.c    ****         now = HAL_GetTick();
 3542              		.loc 1 1056 23 view .LVU1047
 3543 0174 3378     		ldrb	r3, [r6]
1055:Src/main.c    ****       if (currentMode == MODE_SHOW_TIME) {
 3544              		.loc 1 1055 8 view .LVU1048
 3545 0176 002A     		cmp	r2, #0
 3546 0178 00D1     		bne	.LCB2934
ARM GAS  D:\Temp\ccoXQ802.s 			page 96


 3547 017a 8CE0     		b	.L291	@long jump
 3548              	.LCB2934:
1056:Src/main.c    ****         now = HAL_GetTick();
 3549              		.loc 1 1056 7 is_stmt 1 view .LVU1049
1056:Src/main.c    ****         now = HAL_GetTick();
 3550              		.loc 1 1056 10 is_stmt 0 view .LVU1050
 3551 017c 002B     		cmp	r3, #0
 3552 017e 74D1     		bne	.L292
1057:Src/main.c    ****         passedTime = now - lastDisplayChangeTime;
 3553              		.loc 1 1057 9 is_stmt 1 view .LVU1051
1057:Src/main.c    ****         passedTime = now - lastDisplayChangeTime;
 3554              		.loc 1 1057 15 is_stmt 0 view .LVU1052
 3555 0180 FFF7FEFF 		bl	HAL_GetTick
 3556              	.LVL216:
1058:Src/main.c    ****         if (now < lastDisplayChangeTime ||
 3557              		.loc 1 1058 26 view .LVU1053
 3558 0184 3B68     		ldr	r3, [r7]
1057:Src/main.c    ****         passedTime = now - lastDisplayChangeTime;
 3559              		.loc 1 1057 15 view .LVU1054
 3560 0186 0400     		movs	r4, r0
 3561              	.LVL217:
1058:Src/main.c    ****         if (now < lastDisplayChangeTime ||
 3562              		.loc 1 1058 9 is_stmt 1 view .LVU1055
1059:Src/main.c    ****             passedTime >= (tempertureHideTime * 1000)) {
 3563              		.loc 1 1059 9 view .LVU1056
1059:Src/main.c    ****             passedTime >= (tempertureHideTime * 1000)) {
 3564              		.loc 1 1059 12 is_stmt 0 view .LVU1057
 3565 0188 8342     		cmp	r3, r0
 3566 018a 07D8     		bhi	.L293
1060:Src/main.c    ****           currentMode = MODE_SHOW_TEMPERTURE;
 3567              		.loc 1 1060 47 view .LVU1058
 3568 018c FA21     		movs	r1, #250
 3569 018e 594A     		ldr	r2, .L320+84
 3570 0190 8900     		lsls	r1, r1, #2
 3571 0192 1278     		ldrb	r2, [r2]
1058:Src/main.c    ****         if (now < lastDisplayChangeTime ||
 3572              		.loc 1 1058 20 view .LVU1059
 3573 0194 C31A     		subs	r3, r0, r3
 3574              	.LVL218:
1060:Src/main.c    ****           currentMode = MODE_SHOW_TEMPERTURE;
 3575              		.loc 1 1060 47 view .LVU1060
 3576 0196 4A43     		muls	r2, r1
1059:Src/main.c    ****             passedTime >= (tempertureHideTime * 1000)) {
 3577              		.loc 1 1059 41 discriminator 1 view .LVU1061
 3578 0198 9A42     		cmp	r2, r3
 3579 019a 02D8     		bhi	.L294
 3580              	.LVL219:
 3581              	.L293:
1061:Src/main.c    ****           lastDisplayChangeTime = now;
 3582              		.loc 1 1061 11 is_stmt 1 view .LVU1062
1061:Src/main.c    ****           lastDisplayChangeTime = now;
 3583              		.loc 1 1061 23 is_stmt 0 view .LVU1063
 3584 019c 0223     		movs	r3, #2
 3585              	.LVL220:
 3586              	.L319:
1071:Src/main.c    ****           lastDisplayChangeTime = now;
 3587              		.loc 1 1071 23 view .LVU1064
ARM GAS  D:\Temp\ccoXQ802.s 			page 97


 3588 019e 3370     		strb	r3, [r6]
1072:Src/main.c    ****         }
 3589              		.loc 1 1072 11 is_stmt 1 view .LVU1065
 3590              	.LVL221:
 3591              	.L318:
1077:Src/main.c    ****     }
 3592              		.loc 1 1077 7 view .LVU1066
1077:Src/main.c    ****     }
 3593              		.loc 1 1077 29 is_stmt 0 view .LVU1067
 3594 01a0 3C60     		str	r4, [r7]
 3595              	.L294:
1081:Src/main.c    ****         currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
 3596              		.loc 1 1081 5 is_stmt 1 view .LVU1068
1081:Src/main.c    ****         currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
 3597              		.loc 1 1081 9 is_stmt 0 view .LVU1069
 3598 01a2 9020     		movs	r0, #144
 3599 01a4 0821     		movs	r1, #8
 3600 01a6 C005     		lsls	r0, r0, #23
 3601 01a8 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3602              	.LVL222:
1081:Src/main.c    ****         currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
 3603              		.loc 1 1081 8 discriminator 1 view .LVU1070
 3604 01ac 0028     		cmp	r0, #0
 3605 01ae B1D1     		bne	.L284
1081:Src/main.c    ****         currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
 3606              		.loc 1 1081 76 discriminator 1 view .LVU1071
 3607 01b0 3378     		ldrb	r3, [r6]
 3608 01b2 033B     		subs	r3, r3, #3
 3609 01b4 0C2B     		cmp	r3, #12
 3610 01b6 ADD8     		bhi	.L284
 3611              	.LBB38:
1083:Src/main.c    ****       uint32_t timePassed = curVal - lastSetKeyPressTime;
 3612              		.loc 1 1083 7 is_stmt 1 view .LVU1072
1083:Src/main.c    ****       uint32_t timePassed = curVal - lastSetKeyPressTime;
 3613              		.loc 1 1083 25 is_stmt 0 view .LVU1073
 3614 01b8 FFF7FEFF 		bl	HAL_GetTick
 3615              	.LVL223:
1085:Src/main.c    ****         if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
 3616              		.loc 1 1085 10 view .LVU1074
 3617 01bc C822     		movs	r2, #200
1084:Src/main.c    ****       if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
 3618              		.loc 1 1084 36 view .LVU1075
 3619 01be 4E4B     		ldr	r3, .L320+88
1083:Src/main.c    ****       uint32_t timePassed = curVal - lastSetKeyPressTime;
 3620              		.loc 1 1083 25 view .LVU1076
 3621 01c0 0600     		movs	r6, r0
 3622              	.LVL224:
1084:Src/main.c    ****       if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
 3623              		.loc 1 1084 7 is_stmt 1 view .LVU1077
1085:Src/main.c    ****         if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
 3624              		.loc 1 1085 7 view .LVU1078
1084:Src/main.c    ****       if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
 3625              		.loc 1 1084 16 is_stmt 0 view .LVU1079
 3626 01c2 1B68     		ldr	r3, [r3]
 3627              	.LVL225:
1085:Src/main.c    ****         if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
 3628              		.loc 1 1085 10 view .LVU1080
ARM GAS  D:\Temp\ccoXQ802.s 			page 98


 3629 01c4 9200     		lsls	r2, r2, #2
1084:Src/main.c    ****       if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
 3630              		.loc 1 1084 16 view .LVU1081
 3631 01c6 C31A     		subs	r3, r0, r3
 3632              	.LVL226:
1085:Src/main.c    ****         if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
 3633              		.loc 1 1085 10 view .LVU1082
 3634 01c8 9342     		cmp	r3, r2
 3635 01ca A3D9     		bls	.L284
1086:Src/main.c    ****           setKeyPresseRepeatReport();
 3636              		.loc 1 1086 9 is_stmt 1 view .LVU1083
1086:Src/main.c    ****           setKeyPresseRepeatReport();
 3637              		.loc 1 1086 20 is_stmt 0 view .LVU1084
 3638 01cc 4B4B     		ldr	r3, .L320+92
 3639              	.LVL227:
1086:Src/main.c    ****           setKeyPresseRepeatReport();
 3640              		.loc 1 1086 20 view .LVU1085
 3641 01ce 0193     		str	r3, [sp, #4]
 3642 01d0 1B68     		ldr	r3, [r3]
 3643 01d2 C31A     		subs	r3, r0, r3
1086:Src/main.c    ****           setKeyPresseRepeatReport();
 3644              		.loc 1 1086 12 view .LVU1086
 3645 01d4 FA2B     		cmp	r3, #250
 3646 01d6 9DD9     		bls	.L284
1087:Src/main.c    ****           lastSetKeyPressReportTime = curVal;
 3647              		.loc 1 1087 11 is_stmt 1 view .LVU1087
 3648 01d8 FFF7FEFF 		bl	setKeyPresseRepeatReport
 3649              	.LVL228:
1088:Src/main.c    ****         }
 3650              		.loc 1 1088 11 view .LVU1088
1088:Src/main.c    ****         }
 3651              		.loc 1 1088 37 is_stmt 0 view .LVU1089
 3652 01dc 019B     		ldr	r3, [sp, #4]
 3653 01de 1E60     		str	r6, [r3]
 3654 01e0 98E7     		b	.L284
 3655              	.LVL229:
 3656              	.L276:
1088:Src/main.c    ****         }
 3657              		.loc 1 1088 37 view .LVU1090
 3658              	.LBE38:
 953:Src/main.c    ****     alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 3659              		.loc 1 953 5 is_stmt 1 view .LVU1091
 953:Src/main.c    ****     alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 3660              		.loc 1 953 32 is_stmt 0 view .LVU1092
 3661 01e2 02AA     		add	r2, sp, #8
 3662 01e4 9278     		ldrb	r2, [r2, #2]
 953:Src/main.c    ****     alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 3663              		.loc 1 953 20 view .LVU1093
 3664 01e6 464B     		ldr	r3, .L320+96
 953:Src/main.c    ****     alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 3665              		.loc 1 953 32 view .LVU1094
 3666 01e8 511E     		subs	r1, r2, #1
 3667 01ea 8A41     		sbcs	r2, r2, r1
 3668 01ec 1A70     		strb	r2, [r3]
 954:Src/main.c    ****     alarmMin = backupData[BAK_ALARM_MINUTE_INDEX];
 3669              		.loc 1 954 5 is_stmt 1 view .LVU1095
 954:Src/main.c    ****     alarmMin = backupData[BAK_ALARM_MINUTE_INDEX];
ARM GAS  D:\Temp\ccoXQ802.s 			page 99


 3670              		.loc 1 954 15 is_stmt 0 view .LVU1096
 3671 01ee 02AB     		add	r3, sp, #8
 3672 01f0 DB78     		ldrb	r3, [r3, #3]
 955:Src/main.c    ****     tempertureShowTime = backupData[BAK_TEMP_SHOW_TIME_INDEX];
 3673              		.loc 1 955 14 view .LVU1097
 3674 01f2 02AA     		add	r2, sp, #8
 954:Src/main.c    ****     alarmMin = backupData[BAK_ALARM_MINUTE_INDEX];
 3675              		.loc 1 954 15 view .LVU1098
 3676 01f4 3B70     		strb	r3, [r7]
 955:Src/main.c    ****     tempertureShowTime = backupData[BAK_TEMP_SHOW_TIME_INDEX];
 3677              		.loc 1 955 5 is_stmt 1 view .LVU1099
 955:Src/main.c    ****     tempertureShowTime = backupData[BAK_TEMP_SHOW_TIME_INDEX];
 3678              		.loc 1 955 14 is_stmt 0 view .LVU1100
 3679 01f6 1279     		ldrb	r2, [r2, #4]
 3680 01f8 2E4B     		ldr	r3, .L320+20
 3681 01fa 1A70     		strb	r2, [r3]
 956:Src/main.c    ****     tempertureHideTime = backupData[BAK_TEMP_HIDE_TIME_INDEX];
 3682              		.loc 1 956 5 is_stmt 1 view .LVU1101
 956:Src/main.c    ****     tempertureHideTime = backupData[BAK_TEMP_HIDE_TIME_INDEX];
 3683              		.loc 1 956 24 is_stmt 0 view .LVU1102
 3684 01fc 02AB     		add	r3, sp, #8
 3685 01fe 5B79     		ldrb	r3, [r3, #5]
 3686 0200 009A     		ldr	r2, [sp]
 3687 0202 1370     		strb	r3, [r2]
 957:Src/main.c    ****     isRingOnTimeEnabled = backupData[BAK_ROT_ENABLED_INDEX];
 3688              		.loc 1 957 5 is_stmt 1 view .LVU1103
 957:Src/main.c    ****     isRingOnTimeEnabled = backupData[BAK_ROT_ENABLED_INDEX];
 3689              		.loc 1 957 24 is_stmt 0 view .LVU1104
 3690 0204 02AA     		add	r2, sp, #8
 3691 0206 9279     		ldrb	r2, [r2, #6]
 3692 0208 3A4B     		ldr	r3, .L320+84
 3693 020a 1A70     		strb	r2, [r3]
 958:Src/main.c    ****     ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 3694              		.loc 1 958 5 is_stmt 1 view .LVU1105
 958:Src/main.c    ****     ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 3695              		.loc 1 958 37 is_stmt 0 view .LVU1106
 3696 020c 02AA     		add	r2, sp, #8
 3697 020e D279     		ldrb	r2, [r2, #7]
 958:Src/main.c    ****     ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 3698              		.loc 1 958 25 view .LVU1107
 3699 0210 3C4B     		ldr	r3, .L320+100
 958:Src/main.c    ****     ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 3700              		.loc 1 958 37 view .LVU1108
 3701 0212 511E     		subs	r1, r2, #1
 3702 0214 8A41     		sbcs	r2, r2, r1
 3703 0216 1A70     		strb	r2, [r3]
 959:Src/main.c    ****     ringOnTimeStop = backupData[BAK_ROT_STOP_INDEX];
 3704              		.loc 1 959 5 is_stmt 1 view .LVU1109
 959:Src/main.c    ****     ringOnTimeStop = backupData[BAK_ROT_STOP_INDEX];
 3705              		.loc 1 959 21 is_stmt 0 view .LVU1110
 3706 0218 02AB     		add	r3, sp, #8
 3707 021a 1B7A     		ldrb	r3, [r3, #8]
 960:Src/main.c    ****     savedBrightness = backupData[BAK_BRIGHTNESS_INDEX];
 3708              		.loc 1 960 20 view .LVU1111
 3709 021c 02AA     		add	r2, sp, #8
 959:Src/main.c    ****     ringOnTimeStop = backupData[BAK_ROT_STOP_INDEX];
 3710              		.loc 1 959 21 view .LVU1112
ARM GAS  D:\Temp\ccoXQ802.s 			page 100


 3711 021e 3370     		strb	r3, [r6]
 960:Src/main.c    ****     savedBrightness = backupData[BAK_BRIGHTNESS_INDEX];
 3712              		.loc 1 960 5 is_stmt 1 view .LVU1113
 960:Src/main.c    ****     savedBrightness = backupData[BAK_BRIGHTNESS_INDEX];
 3713              		.loc 1 960 20 is_stmt 0 view .LVU1114
 3714 0220 527A     		ldrb	r2, [r2, #9]
 3715 0222 254B     		ldr	r3, .L320+24
 3716 0224 1A70     		strb	r2, [r3]
 961:Src/main.c    ****     strongBrightness = backupData[BAK_BRIGHTNESS_STRONG_INDEX];
 3717              		.loc 1 961 5 is_stmt 1 view .LVU1115
 961:Src/main.c    ****     strongBrightness = backupData[BAK_BRIGHTNESS_STRONG_INDEX];
 3718              		.loc 1 961 21 is_stmt 0 view .LVU1116
 3719 0226 02AB     		add	r3, sp, #8
 3720 0228 9B7A     		ldrb	r3, [r3, #10]
 962:Src/main.c    ****     weakBrightness = backupData[BAK_BRIGHTNESS_WEAK_INDEX];
 3721              		.loc 1 962 22 view .LVU1117
 3722 022a 02AA     		add	r2, sp, #8
 961:Src/main.c    ****     strongBrightness = backupData[BAK_BRIGHTNESS_STRONG_INDEX];
 3723              		.loc 1 961 21 view .LVU1118
 3724 022c 2370     		strb	r3, [r4]
 962:Src/main.c    ****     weakBrightness = backupData[BAK_BRIGHTNESS_WEAK_INDEX];
 3725              		.loc 1 962 5 is_stmt 1 view .LVU1119
 962:Src/main.c    ****     weakBrightness = backupData[BAK_BRIGHTNESS_WEAK_INDEX];
 3726              		.loc 1 962 22 is_stmt 0 view .LVU1120
 3727 022e D27A     		ldrb	r2, [r2, #11]
 3728 0230 224B     		ldr	r3, .L320+28
 3729 0232 1A70     		strb	r2, [r3]
 963:Src/main.c    ****   }
 3730              		.loc 1 963 5 is_stmt 1 view .LVU1121
 963:Src/main.c    ****   }
 3731              		.loc 1 963 20 is_stmt 0 view .LVU1122
 3732 0234 02AA     		add	r2, sp, #8
 3733 0236 224B     		ldr	r3, .L320+32
 3734 0238 127B     		ldrb	r2, [r2, #12]
 3735 023a 1A70     		strb	r2, [r3]
 3736 023c 1CE7     		b	.L277
 3737              	.LVL230:
 3738              	.L304:
 975:Src/main.c    ****   }
 3739              		.loc 1 975 14 view .LVU1123
 3740 023e 0123     		movs	r3, #1
 3741              	.LVL231:
 975:Src/main.c    ****   }
 3742              		.loc 1 975 14 view .LVU1124
 3743 0240 2DE7     		b	.L279
 3744              	.LVL232:
 3745              	.L282:
 992:Src/main.c    ****     isWeakBrightness = false;
 3746              		.loc 1 992 5 is_stmt 1 view .LVU1125
 3747 0242 0820     		movs	r0, #8
 3748 0244 FFF7FEFF 		bl	TM1637SetBrightness
 3749              	.LVL233:
 993:Src/main.c    ****   }
 3750              		.loc 1 993 5 view .LVU1126
 993:Src/main.c    ****   }
 3751              		.loc 1 993 22 is_stmt 0 view .LVU1127
 3752 0248 2F4B     		ldr	r3, .L320+104
ARM GAS  D:\Temp\ccoXQ802.s 			page 101


 3753 024a 1C70     		strb	r4, [r3]
 3754 024c 43E7     		b	.L283
 3755              	.LVL234:
 3756              	.L287:
1048:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3757              		.loc 1 1048 9 is_stmt 1 view .LVU1128
1048:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3758              		.loc 1 1048 12 is_stmt 0 view .LVU1129
 3759 024e 9042     		cmp	r0, r2
 3760 0250 04D3     		bcc	.L290
1048:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3761              		.loc 1 1048 33 discriminator 1 view .LVU1130
 3762 0252 FA23     		movs	r3, #250
1048:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3763              		.loc 1 1048 41 discriminator 1 view .LVU1131
 3764 0254 821A     		subs	r2, r0, r2
1048:Src/main.c    ****           HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3765              		.loc 1 1048 33 discriminator 1 view .LVU1132
 3766 0256 9B00     		lsls	r3, r3, #2
 3767 0258 9A42     		cmp	r2, r3
 3768 025a 88D3     		bcc	.L285
 3769              	.L290:
1049:Src/main.c    ****         }
 3770              		.loc 1 1049 11 is_stmt 1 view .LVU1133
 3771 025c 9020     		movs	r0, #144
 3772              	.LVL235:
1049:Src/main.c    ****         }
 3773              		.loc 1 1049 11 is_stmt 0 view .LVU1134
 3774 025e 0122     		movs	r2, #1
 3775 0260 4021     		movs	r1, #64
 3776 0262 C005     		lsls	r0, r0, #23
 3777 0264 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3778              	.LVL236:
 3779 0268 81E7     		b	.L285
 3780              	.L292:
1065:Src/main.c    ****                  tempertureHideTime > 0) {
 3781              		.loc 1 1065 14 is_stmt 1 view .LVU1135
1065:Src/main.c    ****                  tempertureHideTime > 0) {
 3782              		.loc 1 1065 17 is_stmt 0 view .LVU1136
 3783 026a 022B     		cmp	r3, #2
 3784 026c 99D1     		bne	.L294
1066:Src/main.c    ****         now = HAL_GetTick();
 3785              		.loc 1 1066 37 view .LVU1137
 3786 026e 214B     		ldr	r3, .L320+84
1065:Src/main.c    ****                  tempertureHideTime > 0) {
 3787              		.loc 1 1065 54 discriminator 1 view .LVU1138
 3788 0270 1B78     		ldrb	r3, [r3]
 3789 0272 002B     		cmp	r3, #0
 3790 0274 95D0     		beq	.L294
1067:Src/main.c    ****         passedTime = now - lastDisplayChangeTime;
 3791              		.loc 1 1067 9 is_stmt 1 view .LVU1139
1067:Src/main.c    ****         passedTime = now - lastDisplayChangeTime;
 3792              		.loc 1 1067 15 is_stmt 0 view .LVU1140
 3793 0276 FFF7FEFF 		bl	HAL_GetTick
 3794              	.LVL237:
1068:Src/main.c    ****         if (now < lastDisplayChangeTime ||
 3795              		.loc 1 1068 26 view .LVU1141
ARM GAS  D:\Temp\ccoXQ802.s 			page 102


 3796 027a 3B68     		ldr	r3, [r7]
1067:Src/main.c    ****         passedTime = now - lastDisplayChangeTime;
 3797              		.loc 1 1067 15 view .LVU1142
 3798 027c 0400     		movs	r4, r0
 3799              	.LVL238:
1068:Src/main.c    ****         if (now < lastDisplayChangeTime ||
 3800              		.loc 1 1068 9 is_stmt 1 view .LVU1143
1069:Src/main.c    ****             passedTime >= (tempertureShowTime * 1000)) {
 3801              		.loc 1 1069 9 view .LVU1144
1069:Src/main.c    ****             passedTime >= (tempertureShowTime * 1000)) {
 3802              		.loc 1 1069 12 is_stmt 0 view .LVU1145
 3803 027e 8342     		cmp	r3, r0
 3804 0280 07D8     		bhi	.L297
1070:Src/main.c    ****           currentMode = MODE_SHOW_TIME;
 3805              		.loc 1 1070 47 view .LVU1146
 3806 0282 FA21     		movs	r1, #250
 3807 0284 009A     		ldr	r2, [sp]
 3808 0286 8900     		lsls	r1, r1, #2
 3809 0288 1278     		ldrb	r2, [r2]
1068:Src/main.c    ****         if (now < lastDisplayChangeTime ||
 3810              		.loc 1 1068 20 view .LVU1147
 3811 028a C31A     		subs	r3, r0, r3
 3812              	.LVL239:
1070:Src/main.c    ****           currentMode = MODE_SHOW_TIME;
 3813              		.loc 1 1070 47 view .LVU1148
 3814 028c 4A43     		muls	r2, r1
1069:Src/main.c    ****             passedTime >= (tempertureShowTime * 1000)) {
 3815              		.loc 1 1069 41 discriminator 1 view .LVU1149
 3816 028e 9A42     		cmp	r2, r3
 3817 0290 87D8     		bhi	.L294
 3818              	.LVL240:
 3819              	.L297:
1071:Src/main.c    ****           lastDisplayChangeTime = now;
 3820              		.loc 1 1071 11 is_stmt 1 view .LVU1150
1071:Src/main.c    ****           lastDisplayChangeTime = now;
 3821              		.loc 1 1071 23 is_stmt 0 view .LVU1151
 3822 0292 0023     		movs	r3, #0
 3823 0294 83E7     		b	.L319
 3824              	.LVL241:
 3825              	.L291:
1075:Src/main.c    ****       currentMode = MODE_SHOW_TIME;
 3826              		.loc 1 1075 12 is_stmt 1 view .LVU1152
1075:Src/main.c    ****       currentMode = MODE_SHOW_TIME;
 3827              		.loc 1 1075 15 is_stmt 0 view .LVU1153
 3828 0296 022B     		cmp	r3, #2
 3829 0298 83D1     		bne	.L294
1076:Src/main.c    ****       lastDisplayChangeTime = now;
 3830              		.loc 1 1076 7 is_stmt 1 view .LVU1154
1076:Src/main.c    ****       lastDisplayChangeTime = now;
 3831              		.loc 1 1076 19 is_stmt 0 view .LVU1155
 3832 029a 3270     		strb	r2, [r6]
 3833 029c 80E7     		b	.L318
 3834              	.L321:
 3835 029e C046     		.align	2
 3836              	.L320:
 3837 02a0 00000000 		.word	tempertureShowTime
 3838 02a4 00000000 		.word	time
ARM GAS  D:\Temp\ccoXQ802.s 			page 103


 3839 02a8 00000000 		.word	alarmHour
 3840 02ac 00000000 		.word	ringOnTimeStart
 3841 02b0 00000000 		.word	savedBrightness
 3842 02b4 00000000 		.word	alarmMin
 3843 02b8 00000000 		.word	ringOnTimeStop
 3844 02bc 00000000 		.word	strongBrightness
 3845 02c0 00000000 		.word	weakBrightness
 3846 02c4 00000000 		.word	hadc
 3847 02c8 00000000 		.word	adcValue
 3848 02cc 00000000 		.word	htim3
 3849 02d0 00000000 		.word	htim16
 3850 02d4 00000000 		.word	lastRingOnTimeHour
 3851 02d8 00000000 		.word	lastDisplayChangeTime
 3852 02dc 00000000 		.word	isInitCompleted
 3853 02e0 00000000 		.word	isAlarming
 3854 02e4 00000000 		.word	ringStartTime
 3855 02e8 00000000 		.word	isChiming
 3856 02ec 7CFCFFFF 		.word	-900
 3857 02f0 00000000 		.word	currentMode
 3858 02f4 00000000 		.word	tempertureHideTime
 3859 02f8 00000000 		.word	lastSetKeyPressTime
 3860 02fc 00000000 		.word	lastSetKeyPressReportTime
 3861 0300 00000000 		.word	isAlarmEnabled
 3862 0304 00000000 		.word	isRingOnTimeEnabled
 3863 0308 00000000 		.word	isWeakBrightness
 3864              		.cfi_endproc
 3865              	.LFE56:
 3867              		.section	.text.HAL_GPIO_EXTI_Callback,"ax",%progbits
 3868              		.align	1
 3869              		.global	HAL_GPIO_EXTI_Callback
 3870              		.syntax unified
 3871              		.code	16
 3872              		.thumb_func
 3874              	HAL_GPIO_EXTI_Callback:
 3875              	.LVL242:
 3876              	.LFB58:
1137:Src/main.c    **** 
1138:Src/main.c    **** /* USER CODE BEGIN 4 */
1139:Src/main.c    **** void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin) {
 3877              		.loc 1 1139 48 is_stmt 1 view -0
 3878              		.cfi_startproc
 3879              		@ args = 0, pretend = 0, frame = 0
 3880              		@ frame_needed = 0, uses_anonymous_args = 0
1140:Src/main.c    **** 
1141:Src/main.c    ****   if (GPIO_Pin == SECOND_INT_PIN && isInitCompleted) {
 3881              		.loc 1 1141 3 view .LVU1157
1139:Src/main.c    **** 
 3882              		.loc 1 1139 48 is_stmt 0 view .LVU1158
 3883 0000 0100     		movs	r1, r0
 3884 0002 10B5     		push	{r4, lr}
 3885              	.LCFI22:
 3886              		.cfi_def_cfa_offset 8
 3887              		.cfi_offset 4, -8
 3888              		.cfi_offset 14, -4
 3889              		.loc 1 1141 6 view .LVU1159
 3890 0004 0228     		cmp	r0, #2
 3891 0006 14D1     		bne	.L323
ARM GAS  D:\Temp\ccoXQ802.s 			page 104


 3892              		.loc 1 1141 34 discriminator 1 view .LVU1160
 3893 0008 184B     		ldr	r3, .L333
 3894 000a 1B78     		ldrb	r3, [r3]
 3895 000c 002B     		cmp	r3, #0
 3896 000e 09D0     		beq	.L322
1142:Src/main.c    ****     if (currentMode == MODE_SHOW_TIME || currentMode == MODE_SHOW_SECOND ||
 3897              		.loc 1 1142 5 is_stmt 1 view .LVU1161
 3898              		.loc 1 1142 74 is_stmt 0 view .LVU1162
 3899 0010 174B     		ldr	r3, .L333+4
 3900 0012 1B78     		ldrb	r3, [r3]
 3901              		.loc 1 1142 8 view .LVU1163
 3902 0014 022B     		cmp	r3, #2
 3903 0016 06D8     		bhi	.L325
1143:Src/main.c    ****         currentMode == MODE_SHOW_TEMPERTURE) {
1144:Src/main.c    ****       refreshTimeDisplay();
 3904              		.loc 1 1144 7 is_stmt 1 view .LVU1164
 3905 0018 FFF7FEFF 		bl	refreshTimeDisplay
 3906              	.LVL243:
 3907              	.L326:
1145:Src/main.c    ****     } else if (currentMode >= MODE_SET_HOUR &&
1146:Src/main.c    ****                currentMode <= MODE_SET_ROT_STOP) {
1147:Src/main.c    ****       refreshSettingsDisplay();
1148:Src/main.c    ****     }
1149:Src/main.c    ****     blinkControl = ~blinkControl;
 3908              		.loc 1 1149 5 view .LVU1165
 3909              		.loc 1 1149 18 is_stmt 0 view .LVU1166
 3910 001c 154A     		ldr	r2, .L333+8
 3911 001e 1378     		ldrb	r3, [r2]
 3912 0020 DB43     		mvns	r3, r3
 3913 0022 1370     		strb	r3, [r2]
 3914              	.L322:
1150:Src/main.c    ****   } else if (GPIO_Pin == MODE_KEY_PIN) {
1151:Src/main.c    **** 
1152:Src/main.c    ****     if (HAL_GPIO_ReadPin(MODE_KEY_GPIO_PORT, MODE_KEY_PIN) == GPIO_PIN_RESET) {
1153:Src/main.c    ****       modeKeyPressed();
1154:Src/main.c    ****     } else {
1155:Src/main.c    ****       modeKeyReleased();
1156:Src/main.c    ****     }
1157:Src/main.c    ****   } else if (GPIO_Pin == SET_KEY_PIN) {
1158:Src/main.c    ****     if (HAL_GPIO_ReadPin(SET_KEY_GPIO_PORT, SET_KEY_PIN) == GPIO_PIN_RESET) {
1159:Src/main.c    ****       setKeyPressed();
1160:Src/main.c    ****     } else {
1161:Src/main.c    ****       setKeyReleased();
1162:Src/main.c    ****     }
1163:Src/main.c    ****   }
1164:Src/main.c    **** }
 3915              		.loc 1 1164 1 view .LVU1167
 3916              		@ sp needed
 3917 0024 10BD     		pop	{r4, pc}
 3918              	.LVL244:
 3919              	.L325:
1145:Src/main.c    ****     } else if (currentMode >= MODE_SET_HOUR &&
 3920              		.loc 1 1145 12 is_stmt 1 view .LVU1168
1145:Src/main.c    ****     } else if (currentMode >= MODE_SET_HOUR &&
 3921              		.loc 1 1145 15 is_stmt 0 view .LVU1169
 3922 0026 033B     		subs	r3, r3, #3
 3923 0028 0C2B     		cmp	r3, #12
ARM GAS  D:\Temp\ccoXQ802.s 			page 105


 3924 002a F7D8     		bhi	.L326
1147:Src/main.c    ****     }
 3925              		.loc 1 1147 7 is_stmt 1 view .LVU1170
 3926 002c FFF7FEFF 		bl	refreshSettingsDisplay
 3927              	.LVL245:
1147:Src/main.c    ****     }
 3928              		.loc 1 1147 7 is_stmt 0 view .LVU1171
 3929 0030 F4E7     		b	.L326
 3930              	.LVL246:
 3931              	.L323:
1150:Src/main.c    ****   } else if (GPIO_Pin == MODE_KEY_PIN) {
 3932              		.loc 1 1150 10 is_stmt 1 view .LVU1172
1150:Src/main.c    ****   } else if (GPIO_Pin == MODE_KEY_PIN) {
 3933              		.loc 1 1150 13 is_stmt 0 view .LVU1173
 3934 0032 0428     		cmp	r0, #4
 3935 0034 0BD1     		bne	.L327
1152:Src/main.c    ****       modeKeyPressed();
 3936              		.loc 1 1152 5 is_stmt 1 view .LVU1174
1152:Src/main.c    ****       modeKeyPressed();
 3937              		.loc 1 1152 9 is_stmt 0 view .LVU1175
 3938 0036 9020     		movs	r0, #144
 3939              	.LVL247:
1152:Src/main.c    ****       modeKeyPressed();
 3940              		.loc 1 1152 9 view .LVU1176
 3941 0038 C005     		lsls	r0, r0, #23
 3942 003a FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3943              	.LVL248:
1152:Src/main.c    ****       modeKeyPressed();
 3944              		.loc 1 1152 8 discriminator 1 view .LVU1177
 3945 003e 0028     		cmp	r0, #0
 3946 0040 02D1     		bne	.L328
1153:Src/main.c    ****     } else {
 3947              		.loc 1 1153 7 is_stmt 1 view .LVU1178
 3948 0042 FFF7FEFF 		bl	modeKeyPressed
 3949              	.LVL249:
 3950 0046 EDE7     		b	.L322
 3951              	.L328:
1155:Src/main.c    ****     }
 3952              		.loc 1 1155 7 view .LVU1179
 3953 0048 FFF7FEFF 		bl	modeKeyReleased
 3954              	.LVL250:
 3955 004c EAE7     		b	.L322
 3956              	.LVL251:
 3957              	.L327:
1157:Src/main.c    ****     if (HAL_GPIO_ReadPin(SET_KEY_GPIO_PORT, SET_KEY_PIN) == GPIO_PIN_RESET) {
 3958              		.loc 1 1157 10 view .LVU1180
1157:Src/main.c    ****     if (HAL_GPIO_ReadPin(SET_KEY_GPIO_PORT, SET_KEY_PIN) == GPIO_PIN_RESET) {
 3959              		.loc 1 1157 13 is_stmt 0 view .LVU1181
 3960 004e 0828     		cmp	r0, #8
 3961 0050 E8D1     		bne	.L322
1158:Src/main.c    ****       setKeyPressed();
 3962              		.loc 1 1158 5 is_stmt 1 view .LVU1182
1158:Src/main.c    ****       setKeyPressed();
 3963              		.loc 1 1158 9 is_stmt 0 view .LVU1183
 3964 0052 9020     		movs	r0, #144
 3965              	.LVL252:
1158:Src/main.c    ****       setKeyPressed();
ARM GAS  D:\Temp\ccoXQ802.s 			page 106


 3966              		.loc 1 1158 9 view .LVU1184
 3967 0054 C005     		lsls	r0, r0, #23
 3968 0056 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3969              	.LVL253:
1158:Src/main.c    ****       setKeyPressed();
 3970              		.loc 1 1158 8 discriminator 1 view .LVU1185
 3971 005a 0028     		cmp	r0, #0
 3972 005c 02D1     		bne	.L329
1159:Src/main.c    ****     } else {
 3973              		.loc 1 1159 7 is_stmt 1 view .LVU1186
 3974 005e FFF7FEFF 		bl	setKeyPressed
 3975              	.LVL254:
 3976 0062 DFE7     		b	.L322
 3977              	.L329:
1161:Src/main.c    ****     }
 3978              		.loc 1 1161 7 view .LVU1187
 3979 0064 FFF7FEFF 		bl	setKeyReleased
 3980              	.LVL255:
 3981              		.loc 1 1164 1 is_stmt 0 view .LVU1188
 3982 0068 DCE7     		b	.L322
 3983              	.L334:
 3984 006a C046     		.align	2
 3985              	.L333:
 3986 006c 00000000 		.word	isInitCompleted
 3987 0070 00000000 		.word	currentMode
 3988 0074 00000000 		.word	blinkControl
 3989              		.cfi_endproc
 3990              	.LFE58:
 3992              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 3993              		.align	1
 3994              		.global	HAL_TIM_PeriodElapsedCallback
 3995              		.syntax unified
 3996              		.code	16
 3997              		.thumb_func
 3999              	HAL_TIM_PeriodElapsedCallback:
 4000              	.LVL256:
 4001              	.LFB59:
1165:Src/main.c    **** 
1166:Src/main.c    **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim) {
 4002              		.loc 1 1166 61 is_stmt 1 view -0
 4003              		.cfi_startproc
 4004              		@ args = 0, pretend = 0, frame = 0
 4005              		@ frame_needed = 0, uses_anonymous_args = 0
1167:Src/main.c    ****   if (htim->Instance == ALARM_CONTROL_TIMER) {
 4006              		.loc 1 1167 3 view .LVU1190
 4007              		.loc 1 1167 11 is_stmt 0 view .LVU1191
 4008 0000 0368     		ldr	r3, [r0]
 4009              		.loc 1 1167 6 view .LVU1192
 4010 0002 134A     		ldr	r2, .L350
1166:Src/main.c    ****   if (htim->Instance == ALARM_CONTROL_TIMER) {
 4011              		.loc 1 1166 61 view .LVU1193
 4012 0004 10B5     		push	{r4, lr}
 4013              	.LCFI23:
 4014              		.cfi_def_cfa_offset 8
 4015              		.cfi_offset 4, -8
 4016              		.cfi_offset 14, -4
 4017              		.loc 1 1167 6 view .LVU1194
ARM GAS  D:\Temp\ccoXQ802.s 			page 107


 4018 0006 9342     		cmp	r3, r2
 4019 0008 02D1     		bne	.L336
1168:Src/main.c    ****     alarmTimerTick();
 4020              		.loc 1 1168 5 is_stmt 1 view .LVU1195
 4021 000a FFF7FEFF 		bl	alarmTimerTick
 4022              	.LVL257:
 4023              	.L335:
1169:Src/main.c    ****   } else if (htim->Instance == LIGHT_CONTROL_TIMER) {
1170:Src/main.c    ****     if (savedBrightness == 0) {
1171:Src/main.c    ****       if (isWeakBrightness && adcValue[0] > STRONG_BRIGHTNESS_ADC_VALUE) {
1172:Src/main.c    ****         isWeakBrightness = false;
1173:Src/main.c    ****         if (strongBrightness > 0) {
1174:Src/main.c    ****           TM1637SetBrightness(strongBrightness);
1175:Src/main.c    ****         }
1176:Src/main.c    ****       } else if (!isWeakBrightness && adcValue[0] < WEAK_BRIGHTNESS_ADC_VALUE) {
1177:Src/main.c    ****         isWeakBrightness = true;
1178:Src/main.c    ****         if (weakBrightness > 0) {
1179:Src/main.c    ****           TM1637SetBrightness(weakBrightness);
1180:Src/main.c    ****         }
1181:Src/main.c    ****       }
1182:Src/main.c    ****     }
1183:Src/main.c    ****   }
1184:Src/main.c    **** }
 4024              		.loc 1 1184 1 is_stmt 0 view .LVU1196
 4025              		@ sp needed
 4026 000e 10BD     		pop	{r4, pc}
 4027              	.LVL258:
 4028              	.L336:
1169:Src/main.c    ****   } else if (htim->Instance == LIGHT_CONTROL_TIMER) {
 4029              		.loc 1 1169 10 is_stmt 1 view .LVU1197
1169:Src/main.c    ****   } else if (htim->Instance == LIGHT_CONTROL_TIMER) {
 4030              		.loc 1 1169 13 is_stmt 0 view .LVU1198
 4031 0010 104A     		ldr	r2, .L350+4
 4032 0012 9342     		cmp	r3, r2
 4033 0014 FBD1     		bne	.L335
1170:Src/main.c    ****       if (isWeakBrightness && adcValue[0] > STRONG_BRIGHTNESS_ADC_VALUE) {
 4034              		.loc 1 1170 5 is_stmt 1 view .LVU1199
1170:Src/main.c    ****       if (isWeakBrightness && adcValue[0] > STRONG_BRIGHTNESS_ADC_VALUE) {
 4035              		.loc 1 1170 25 is_stmt 0 view .LVU1200
 4036 0016 104B     		ldr	r3, .L350+8
1170:Src/main.c    ****       if (isWeakBrightness && adcValue[0] > STRONG_BRIGHTNESS_ADC_VALUE) {
 4037              		.loc 1 1170 8 view .LVU1201
 4038 0018 1978     		ldrb	r1, [r3]
 4039 001a 0029     		cmp	r1, #0
 4040 001c F7D1     		bne	.L335
1171:Src/main.c    ****         isWeakBrightness = false;
 4041              		.loc 1 1171 7 is_stmt 1 view .LVU1202
1171:Src/main.c    ****         isWeakBrightness = false;
 4042              		.loc 1 1171 39 is_stmt 0 discriminator 1 view .LVU1203
 4043 001e 0F4B     		ldr	r3, .L350+12
 4044 0020 1A68     		ldr	r2, [r3]
1171:Src/main.c    ****         isWeakBrightness = false;
 4045              		.loc 1 1171 11 view .LVU1204
 4046 0022 0F4B     		ldr	r3, .L350+16
1171:Src/main.c    ****         isWeakBrightness = false;
 4047              		.loc 1 1171 10 view .LVU1205
 4048 0024 1878     		ldrb	r0, [r3]
ARM GAS  D:\Temp\ccoXQ802.s 			page 108


 4049              	.LVL259:
1171:Src/main.c    ****         isWeakBrightness = false;
 4050              		.loc 1 1171 10 view .LVU1206
 4051 0026 0028     		cmp	r0, #0
 4052 0028 0BD0     		beq	.L340
1171:Src/main.c    ****         isWeakBrightness = false;
 4053              		.loc 1 1171 28 discriminator 1 view .LVU1207
 4054 002a AF20     		movs	r0, #175
 4055 002c 0001     		lsls	r0, r0, #4
 4056 002e 8242     		cmp	r2, r0
 4057 0030 EDD9     		bls	.L335
1172:Src/main.c    ****         if (strongBrightness > 0) {
 4058              		.loc 1 1172 9 is_stmt 1 view .LVU1208
1172:Src/main.c    ****         if (strongBrightness > 0) {
 4059              		.loc 1 1172 26 is_stmt 0 view .LVU1209
 4060 0032 1970     		strb	r1, [r3]
1173:Src/main.c    ****           TM1637SetBrightness(strongBrightness);
 4061              		.loc 1 1173 9 is_stmt 1 view .LVU1210
1173:Src/main.c    ****           TM1637SetBrightness(strongBrightness);
 4062              		.loc 1 1173 30 is_stmt 0 view .LVU1211
 4063 0034 0B4B     		ldr	r3, .L350+20
 4064              	.L349:
1178:Src/main.c    ****           TM1637SetBrightness(weakBrightness);
 4065              		.loc 1 1178 28 view .LVU1212
 4066 0036 1878     		ldrb	r0, [r3]
1178:Src/main.c    ****           TM1637SetBrightness(weakBrightness);
 4067              		.loc 1 1178 12 view .LVU1213
 4068 0038 0028     		cmp	r0, #0
 4069 003a E8D0     		beq	.L335
1179:Src/main.c    ****         }
 4070              		.loc 1 1179 11 is_stmt 1 view .LVU1214
 4071 003c FFF7FEFF 		bl	TM1637SetBrightness
 4072              	.LVL260:
 4073              		.loc 1 1184 1 is_stmt 0 view .LVU1215
 4074 0040 E5E7     		b	.L335
 4075              	.L340:
1176:Src/main.c    ****         isWeakBrightness = true;
 4076              		.loc 1 1176 14 is_stmt 1 view .LVU1216
1176:Src/main.c    ****         isWeakBrightness = true;
 4077              		.loc 1 1176 36 is_stmt 0 discriminator 1 view .LVU1217
 4078 0042 0949     		ldr	r1, .L350+24
 4079 0044 8A42     		cmp	r2, r1
 4080 0046 E2D8     		bhi	.L335
1177:Src/main.c    ****         if (weakBrightness > 0) {
 4081              		.loc 1 1177 9 is_stmt 1 view .LVU1218
1177:Src/main.c    ****         if (weakBrightness > 0) {
 4082              		.loc 1 1177 26 is_stmt 0 view .LVU1219
 4083 0048 0122     		movs	r2, #1
 4084 004a 1A70     		strb	r2, [r3]
1178:Src/main.c    ****           TM1637SetBrightness(weakBrightness);
 4085              		.loc 1 1178 9 is_stmt 1 view .LVU1220
1178:Src/main.c    ****           TM1637SetBrightness(weakBrightness);
 4086              		.loc 1 1178 28 is_stmt 0 view .LVU1221
 4087 004c 074B     		ldr	r3, .L350+28
 4088 004e F2E7     		b	.L349
 4089              	.L351:
 4090              		.align	2
ARM GAS  D:\Temp\ccoXQ802.s 			page 109


 4091              	.L350:
 4092 0050 00480140 		.word	1073825792
 4093 0054 00440140 		.word	1073824768
 4094 0058 00000000 		.word	savedBrightness
 4095 005c 00000000 		.word	adcValue
 4096 0060 00000000 		.word	isWeakBrightness
 4097 0064 00000000 		.word	strongBrightness
 4098 0068 FB080000 		.word	2299
 4099 006c 00000000 		.word	weakBrightness
 4100              		.cfi_endproc
 4101              	.LFE59:
 4103              		.section	.text.Error_Handler,"ax",%progbits
 4104              		.align	1
 4105              		.global	Error_Handler
 4106              		.syntax unified
 4107              		.code	16
 4108              		.thumb_func
 4110              	Error_Handler:
 4111              	.LFB60:
1185:Src/main.c    **** /* USER CODE END 4 */
1186:Src/main.c    **** 
1187:Src/main.c    **** /**
1188:Src/main.c    ****  * @brief  This function is executed in case of error occurrence.
1189:Src/main.c    ****  * @retval None
1190:Src/main.c    ****  */
1191:Src/main.c    **** void Error_Handler(void) {
 4112              		.loc 1 1191 26 is_stmt 1 view -0
 4113              		.cfi_startproc
 4114              		@ args = 0, pretend = 0, frame = 0
 4115              		@ frame_needed = 0, uses_anonymous_args = 0
 4116              		@ link register save eliminated.
1192:Src/main.c    ****   /* USER CODE BEGIN Error_Handler_Debug */
1193:Src/main.c    ****   /* User can add his own implementation to report the HAL error return state */
1194:Src/main.c    **** 
1195:Src/main.c    ****   /* USER CODE END Error_Handler_Debug */
1196:Src/main.c    **** }
 4117              		.loc 1 1196 1 view .LVU1223
 4118              		@ sp needed
 4119 0000 7047     		bx	lr
 4120              		.cfi_endproc
 4121              	.LFE60:
 4123              		.global	tempBuffer
 4124              		.section	.bss.tempBuffer,"aw",%nobits
 4125              		.align	1
 4128              	tempBuffer:
 4129 0000 00000000 		.space	18
 4129      00000000 
 4129      00000000 
 4129      00000000 
 4129      0000
 4130              		.global	tempBuffered
 4131              		.section	.bss.tempBuffered,"aw",%nobits
 4134              	tempBuffered:
 4135 0000 00       		.space	1
 4136              		.global	tempertureHideTime
 4137              		.section	.bss.tempertureHideTime,"aw",%nobits
 4140              	tempertureHideTime:
ARM GAS  D:\Temp\ccoXQ802.s 			page 110


 4141 0000 00       		.space	1
 4142              		.global	tempertureShowTime
 4143              		.section	.bss.tempertureShowTime,"aw",%nobits
 4146              	tempertureShowTime:
 4147 0000 00       		.space	1
 4148              		.global	temperture
 4149              		.section	.data.temperture,"aw"
 4152              	temperture:
 4153 0000 19       		.byte	25
 4154              		.global	setKeyRepeatReported
 4155              		.section	.bss.setKeyRepeatReported,"aw",%nobits
 4158              	setKeyRepeatReported:
 4159 0000 00       		.space	1
 4160              		.global	alarmBeepCount
 4161              		.section	.bss.alarmBeepCount,"aw",%nobits
 4162              		.align	2
 4165              	alarmBeepCount:
 4166 0000 00000000 		.space	4
 4167              		.global	alarmTimestamp
 4168              		.section	.bss.alarmTimestamp,"aw",%nobits
 4169              		.align	2
 4172              	alarmTimestamp:
 4173 0000 00000000 		.space	4
 4174              		.global	lastSetKeyPressReportTime
 4175              		.section	.bss.lastSetKeyPressReportTime,"aw",%nobits
 4176              		.align	2
 4179              	lastSetKeyPressReportTime:
 4180 0000 00000000 		.space	4
 4181              		.global	lastSetKeyPressTime
 4182              		.section	.bss.lastSetKeyPressTime,"aw",%nobits
 4183              		.align	2
 4186              	lastSetKeyPressTime:
 4187 0000 00000000 		.space	4
 4188              		.global	lastModeKeyPressTime
 4189              		.section	.bss.lastModeKeyPressTime,"aw",%nobits
 4190              		.align	2
 4193              	lastModeKeyPressTime:
 4194 0000 00000000 		.space	4
 4195              		.global	isChiming
 4196              		.section	.bss.isChiming,"aw",%nobits
 4199              	isChiming:
 4200 0000 00       		.space	1
 4201              		.global	lastChimeSecond
 4202              		.section	.data.lastChimeSecond,"aw"
 4205              	lastChimeSecond:
 4206 0000 FF       		.byte	-1
 4207              		.global	ringStartTime
 4208              		.section	.bss.ringStartTime,"aw",%nobits
 4209              		.align	2
 4212              	ringStartTime:
 4213 0000 00000000 		.space	4
 4214              		.global	lastRingOnTimeHour
 4215              		.section	.bss.lastRingOnTimeHour,"aw",%nobits
 4218              	lastRingOnTimeHour:
 4219 0000 00       		.space	1
 4220              		.global	ringOnTimeStop
 4221              		.section	.bss.ringOnTimeStop,"aw",%nobits
ARM GAS  D:\Temp\ccoXQ802.s 			page 111


 4224              	ringOnTimeStop:
 4225 0000 00       		.space	1
 4226              		.global	ringOnTimeStart
 4227              		.section	.bss.ringOnTimeStart,"aw",%nobits
 4230              	ringOnTimeStart:
 4231 0000 00       		.space	1
 4232              		.global	isRingOnTimeEnabled
 4233              		.section	.bss.isRingOnTimeEnabled,"aw",%nobits
 4236              	isRingOnTimeEnabled:
 4237 0000 00       		.space	1
 4238              		.global	alarmMin
 4239              		.section	.bss.alarmMin,"aw",%nobits
 4242              	alarmMin:
 4243 0000 00       		.space	1
 4244              		.global	alarmHour
 4245              		.section	.bss.alarmHour,"aw",%nobits
 4248              	alarmHour:
 4249 0000 00       		.space	1
 4250              		.global	isAlarming
 4251              		.section	.bss.isAlarming,"aw",%nobits
 4254              	isAlarming:
 4255 0000 00       		.space	1
 4256              		.global	isAlarmed
 4257              		.section	.bss.isAlarmed,"aw",%nobits
 4260              	isAlarmed:
 4261 0000 00       		.space	1
 4262              		.global	isAlarmEnabled
 4263              		.section	.bss.isAlarmEnabled,"aw",%nobits
 4266              	isAlarmEnabled:
 4267 0000 00       		.space	1
 4268              		.global	blinkControl
 4269              		.section	.bss.blinkControl,"aw",%nobits
 4272              	blinkControl:
 4273 0000 00       		.space	1
 4274              		.global	lastTime
 4275              		.section	.bss.lastTime,"aw",%nobits
 4278              	lastTime:
 4279 0000 00000000 		.space	8
 4279      00000000 
 4280              		.global	time
 4281              		.section	.bss.time,"aw",%nobits
 4284              	time:
 4285 0000 00000000 		.space	8
 4285      00000000 
 4286              		.global	weakBrightness
 4287              		.section	.bss.weakBrightness,"aw",%nobits
 4290              	weakBrightness:
 4291 0000 00       		.space	1
 4292              		.global	strongBrightness
 4293              		.section	.bss.strongBrightness,"aw",%nobits
 4296              	strongBrightness:
 4297 0000 00       		.space	1
 4298              		.global	isWeakBrightness
 4299              		.section	.data.isWeakBrightness,"aw"
 4302              	isWeakBrightness:
 4303 0000 01       		.byte	1
 4304              		.global	savedBrightness
ARM GAS  D:\Temp\ccoXQ802.s 			page 112


 4305              		.section	.bss.savedBrightness,"aw",%nobits
 4308              	savedBrightness:
 4309 0000 00       		.space	1
 4310              		.global	adcValue
 4311              		.section	.bss.adcValue,"aw",%nobits
 4312              		.align	2
 4315              	adcValue:
 4316 0000 00000000 		.space	8
 4316      00000000 
 4317              		.global	lastDisplayChangeTime
 4318              		.section	.bss.lastDisplayChangeTime,"aw",%nobits
 4319              		.align	2
 4322              	lastDisplayChangeTime:
 4323 0000 00000000 		.space	4
 4324              		.global	isInitCompleted
 4325              		.section	.bss.isInitCompleted,"aw",%nobits
 4328              	isInitCompleted:
 4329 0000 00       		.space	1
 4330              		.global	currentMode
 4331              		.section	.bss.currentMode,"aw",%nobits
 4334              	currentMode:
 4335 0000 00       		.space	1
 4336              		.global	tempertureMap
 4337              		.section	.rodata.tempertureMap,"a"
 4338              		.align	1
 4341              	tempertureMap:
 4342 0000 1E04     		.short	1054
 4343 0002 4304     		.short	1091
 4344 0004 6804     		.short	1128
 4345 0006 8D04     		.short	1165
 4346 0008 B304     		.short	1203
 4347 000a DA04     		.short	1242
 4348 000c 0005     		.short	1280
 4349 000e 2805     		.short	1320
 4350 0010 4F05     		.short	1359
 4351 0012 7705     		.short	1399
 4352 0014 9F05     		.short	1439
 4353 0016 C705     		.short	1479
 4354 0018 F005     		.short	1520
 4355 001a 1806     		.short	1560
 4356 001c 4106     		.short	1601
 4357 001e 6A06     		.short	1642
 4358 0020 9306     		.short	1683
 4359 0022 BC06     		.short	1724
 4360 0024 E506     		.short	1765
 4361 0026 0D07     		.short	1805
 4362 0028 3607     		.short	1846
 4363 002a 5F07     		.short	1887
 4364 002c 8707     		.short	1927
 4365 002e B007     		.short	1968
 4366 0030 D807     		.short	2008
 4367 0032 0008     		.short	2048
 4368 0034 2708     		.short	2087
 4369 0036 4E08     		.short	2126
 4370 0038 7508     		.short	2165
 4371 003a 9C08     		.short	2204
 4372 003c C208     		.short	2242
ARM GAS  D:\Temp\ccoXQ802.s 			page 113


 4373 003e E808     		.short	2280
 4374 0040 0E09     		.short	2318
 4375 0042 3309     		.short	2355
 4376 0044 5709     		.short	2391
 4377 0046 7B09     		.short	2427
 4378 0048 9F09     		.short	2463
 4379 004a C209     		.short	2498
 4380 004c E509     		.short	2533
 4381 004e 070A     		.short	2567
 4382 0050 290A     		.short	2601
 4383 0052 4A0A     		.short	2634
 4384 0054 6B0A     		.short	2667
 4385 0056 8B0A     		.short	2699
 4386 0058 AA0A     		.short	2730
 4387 005a C90A     		.short	2761
 4388 005c E70A     		.short	2791
 4389 005e 050B     		.short	2821
 4390 0060 220B     		.short	2850
 4391 0062 3F0B     		.short	2879
 4392 0064 5B0B     		.short	2907
 4393 0066 770B     		.short	2935
 4394 0068 920B     		.short	2962
 4395 006a AC0B     		.short	2988
 4396 006c C60B     		.short	3014
 4397 006e E00B     		.short	3040
 4398 0070 F80B     		.short	3064
 4399 0072 110C     		.short	3089
 4400 0074 290C     		.short	3113
 4401 0076 400C     		.short	3136
 4402 0078 560C     		.short	3158
 4403 007a 6D0C     		.short	3181
 4404 007c 820C     		.short	3202
 4405 007e 980C     		.short	3224
 4406 0080 AC0C     		.short	3244
 4407 0082 C00C     		.short	3264
 4408 0084 D40C     		.short	3284
 4409 0086 E70C     		.short	3303
 4410 0088 FA0C     		.short	3322
 4411 008a 0D0D     		.short	3341
 4412 008c 1F0D     		.short	3359
 4413 008e 300D     		.short	3376
 4414 0090 410D     		.short	3393
 4415 0092 520D     		.short	3410
 4416 0094 620D     		.short	3426
 4417 0096 720D     		.short	3442
 4418 0098 810D     		.short	3457
 4419 009a 900D     		.short	3472
 4420 009c 9F0D     		.short	3487
 4421 009e AD0D     		.short	3501
 4422 00a0 BB0D     		.short	3515
 4423 00a2 C90D     		.short	3529
 4424 00a4 D60D     		.short	3542
 4425 00a6 E30D     		.short	3555
 4426 00a8 F00D     		.short	3568
 4427 00aa FC0D     		.short	3580
 4428 00ac 080E     		.short	3592
 4429 00ae 130E     		.short	3603
ARM GAS  D:\Temp\ccoXQ802.s 			page 114


 4430 00b0 1F0E     		.short	3615
 4431 00b2 2A0E     		.short	3626
 4432 00b4 350E     		.short	3637
 4433 00b6 3F0E     		.short	3647
 4434 00b8 490E     		.short	3657
 4435 00ba 530E     		.short	3667
 4436 00bc 5D0E     		.short	3677
 4437 00be 670E     		.short	3687
 4438 00c0 700E     		.short	3696
 4439 00c2 790E     		.short	3705
 4440 00c4 820E     		.short	3714
 4441 00c6 8A0E     		.short	3722
 4442 00c8 920E     		.short	3730
 4443 00ca 9B0E     		.short	3739
 4444 00cc A30E     		.short	3747
 4445 00ce AA0E     		.short	3754
 4446 00d0 B20E     		.short	3762
 4447 00d2 B90E     		.short	3769
 4448 00d4 C00E     		.short	3776
 4449 00d6 C70E     		.short	3783
 4450 00d8 CE0E     		.short	3790
 4451 00da D50E     		.short	3797
 4452 00dc DB0E     		.short	3803
 4453 00de E10E     		.short	3809
 4454 00e0 E70E     		.short	3815
 4455 00e2 ED0E     		.short	3821
 4456 00e4 F30E     		.short	3827
 4457 00e6 F90E     		.short	3833
 4458 00e8 FF0E     		.short	3839
 4459 00ea 040F     		.short	3844
 4460 00ec 090F     		.short	3849
 4461 00ee 0E0F     		.short	3854
 4462 00f0 130F     		.short	3859
 4463 00f2 180F     		.short	3864
 4464 00f4 1D0F     		.short	3869
 4465 00f6 220F     		.short	3874
 4466 00f8 260F     		.short	3878
 4467 00fa 2B0F     		.short	3883
 4468              		.text
 4469              	.Letext0:
 4470              		.file 2 "D:\\STM32CubeCLT\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/
 4471              		.file 3 "D:\\STM32CubeCLT\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/
 4472              		.file 4 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f030x6.h"
 4473              		.file 5 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f0xx.h"
 4474              		.file 6 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_def.h"
 4475              		.file 7 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_rcc.h"
 4476              		.file 8 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_rcc_ex.h"
 4477              		.file 9 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_gpio.h"
 4478              		.file 10 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_dma.h"
 4479              		.file 11 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_adc.h"
 4480              		.file 12 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_tim.h"
 4481              		.file 13 "Inc/adc.h"
 4482              		.file 14 "Inc/tim.h"
 4483              		.file 15 "Lib/SD3077.h"
 4484              		.file 16 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_adc_ex.h"
 4485              		.file 17 "Lib/TM1637.h"
 4486              		.file 18 "Inc/i2c.h"
ARM GAS  D:\Temp\ccoXQ802.s 			page 115


 4487              		.file 19 "Inc/dma.h"
 4488              		.file 20 "Inc/gpio.h"
 4489              		.file 21 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal.h"
 4490              		.file 22 "<built-in>"
ARM GAS  D:\Temp\ccoXQ802.s 			page 116


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
  D:\Temp\ccoXQ802.s:19     .text.readBackupSettings:00000000 $t
  D:\Temp\ccoXQ802.s:25     .text.readBackupSettings:00000000 readBackupSettings
  D:\Temp\ccoXQ802.s:96     .text.readBackupSettings:00000038 $d
  D:\Temp\ccoXQ802.s:4248   .bss.alarmHour:00000000 alarmHour
  D:\Temp\ccoXQ802.s:4242   .bss.alarmMin:00000000 alarmMin
  D:\Temp\ccoXQ802.s:4266   .bss.isAlarmEnabled:00000000 isAlarmEnabled
  D:\Temp\ccoXQ802.s:103    .text.saveSettings:00000000 $t
  D:\Temp\ccoXQ802.s:109    .text.saveSettings:00000000 saveSettings
  D:\Temp\ccoXQ802.s:180    .text.saveSettings:00000058 $d
  D:\Temp\ccoXQ802.s:4146   .bss.tempertureShowTime:00000000 tempertureShowTime
  D:\Temp\ccoXQ802.s:4140   .bss.tempertureHideTime:00000000 tempertureHideTime
  D:\Temp\ccoXQ802.s:4236   .bss.isRingOnTimeEnabled:00000000 isRingOnTimeEnabled
  D:\Temp\ccoXQ802.s:4230   .bss.ringOnTimeStart:00000000 ringOnTimeStart
  D:\Temp\ccoXQ802.s:4224   .bss.ringOnTimeStop:00000000 ringOnTimeStop
  D:\Temp\ccoXQ802.s:4308   .bss.savedBrightness:00000000 savedBrightness
  D:\Temp\ccoXQ802.s:4296   .bss.strongBrightness:00000000 strongBrightness
  D:\Temp\ccoXQ802.s:4290   .bss.weakBrightness:00000000 weakBrightness
  D:\Temp\ccoXQ802.s:196    .text.resetSettings:00000000 $t
  D:\Temp\ccoXQ802.s:202    .text.resetSettings:00000000 resetSettings
  D:\Temp\ccoXQ802.s:270    .text.resetSettings:0000003c $d
  D:\Temp\ccoXQ802.s:287    .text.checkRingOnTime:00000000 $t
  D:\Temp\ccoXQ802.s:293    .text.checkRingOnTime:00000000 checkRingOnTime
  D:\Temp\ccoXQ802.s:556    .text.checkRingOnTime:000000f4 $d
  D:\Temp\ccoXQ802.s:4284   .bss.time:00000000 time
  D:\Temp\ccoXQ802.s:4205   .data.lastChimeSecond:00000000 lastChimeSecond
  D:\Temp\ccoXQ802.s:4212   .bss.ringStartTime:00000000 ringStartTime
  D:\Temp\ccoXQ802.s:4199   .bss.isChiming:00000000 isChiming
  D:\Temp\ccoXQ802.s:4218   .bss.lastRingOnTimeHour:00000000 lastRingOnTimeHour
  D:\Temp\ccoXQ802.s:573    .text.alarmStart:00000000 $t
  D:\Temp\ccoXQ802.s:579    .text.alarmStart:00000000 alarmStart
  D:\Temp\ccoXQ802.s:615    .text.alarmStart:00000014 $d
  D:\Temp\ccoXQ802.s:4254   .bss.isAlarming:00000000 isAlarming
  D:\Temp\ccoXQ802.s:4260   .bss.isAlarmed:00000000 isAlarmed
  D:\Temp\ccoXQ802.s:622    .text.alarmTimerTick:00000000 $t
  D:\Temp\ccoXQ802.s:628    .text.alarmTimerTick:00000000 alarmTimerTick
  D:\Temp\ccoXQ802.s:750    .text.alarmTimerTick:00000070 $d
  D:\Temp\ccoXQ802.s:4172   .bss.alarmTimestamp:00000000 alarmTimestamp
  D:\Temp\ccoXQ802.s:4165   .bss.alarmBeepCount:00000000 alarmBeepCount
  D:\Temp\ccoXQ802.s:756    .text.alarmStop:00000000 $t
  D:\Temp\ccoXQ802.s:762    .text.alarmStop:00000000 alarmStop
  D:\Temp\ccoXQ802.s:800    .text.alarmStop:0000001c $d
  D:\Temp\ccoXQ802.s:806    .text.checkAlarm:00000000 $t
  D:\Temp\ccoXQ802.s:812    .text.checkAlarm:00000000 checkAlarm
  D:\Temp\ccoXQ802.s:895    .text.checkAlarm:00000050 $d
  D:\Temp\ccoXQ802.s:905    .text.refreshTemperture:00000000 $t
  D:\Temp\ccoXQ802.s:911    .text.refreshTemperture:00000000 refreshTemperture
  D:\Temp\ccoXQ802.s:1042   .text.refreshTemperture:00000050 $d
  D:\Temp\ccoXQ802.s:4315   .bss.adcValue:00000000 adcValue
  D:\Temp\ccoXQ802.s:4134   .bss.tempBuffered:00000000 tempBuffered
  D:\Temp\ccoXQ802.s:4128   .bss.tempBuffer:00000000 tempBuffer
  D:\Temp\ccoXQ802.s:4341   .rodata.tempertureMap:00000000 tempertureMap
  D:\Temp\ccoXQ802.s:4152   .data.temperture:00000000 temperture
  D:\Temp\ccoXQ802.s:1052   .text.refreshTimeDisplay:00000000 $t
  D:\Temp\ccoXQ802.s:1058   .text.refreshTimeDisplay:00000000 refreshTimeDisplay
  D:\Temp\ccoXQ802.s:1233   .text.refreshTimeDisplay:000000d4 $d
ARM GAS  D:\Temp\ccoXQ802.s 			page 117


  D:\Temp\ccoXQ802.s:4278   .bss.lastTime:00000000 lastTime
  D:\Temp\ccoXQ802.s:4334   .bss.currentMode:00000000 currentMode
  D:\Temp\ccoXQ802.s:4272   .bss.blinkControl:00000000 blinkControl
  D:\Temp\ccoXQ802.s:1242   .text.refreshSettingsDisplay:00000000 $t
  D:\Temp\ccoXQ802.s:1248   .text.refreshSettingsDisplay:00000000 refreshSettingsDisplay
  D:\Temp\ccoXQ802.s:1279   .text.refreshSettingsDisplay:00000012 $d
  D:\Temp\ccoXQ802.s:1292   .text.refreshSettingsDisplay:0000002c $t
  D:\Temp\ccoXQ802.s:1907   .text.refreshSettingsDisplay:0000028c $d
  D:\Temp\ccoXQ802.s:1925   .text.modeKeyClicked:00000000 $t
  D:\Temp\ccoXQ802.s:1931   .text.modeKeyClicked:00000000 modeKeyClicked
  D:\Temp\ccoXQ802.s:1969   .text.modeKeyClicked:0000001c $d
  D:\Temp\ccoXQ802.s:1985   .text.modeKeyClicked:0000002c $t
  D:\Temp\ccoXQ802.s:2239   .text.modeKeyClicked:00000134 $d
  D:\Temp\ccoXQ802.s:4302   .data.isWeakBrightness:00000000 isWeakBrightness
  D:\Temp\ccoXQ802.s:4322   .bss.lastDisplayChangeTime:00000000 lastDisplayChangeTime
  D:\Temp\ccoXQ802.s:2257   .text.modeKeyLongPressed:00000000 $t
  D:\Temp\ccoXQ802.s:2263   .text.modeKeyLongPressed:00000000 modeKeyLongPressed
  D:\Temp\ccoXQ802.s:2342   .text.modeKeyLongPressed:00000044 $d
  D:\Temp\ccoXQ802.s:2353   .text.setKeyClicked:00000000 $t
  D:\Temp\ccoXQ802.s:2359   .text.setKeyClicked:00000000 setKeyClicked
  D:\Temp\ccoXQ802.s:2395   .text.setKeyClicked:0000001c $d
  D:\Temp\ccoXQ802.s:2411   .text.setKeyClicked:0000002c $t
  D:\Temp\ccoXQ802.s:2641   .text.setKeyClicked:00000118 $d
  D:\Temp\ccoXQ802.s:2661   .text.setKeyPresseRepeatReport:00000000 $t
  D:\Temp\ccoXQ802.s:2667   .text.setKeyPresseRepeatReport:00000000 setKeyPresseRepeatReport
  D:\Temp\ccoXQ802.s:2694   .text.setKeyPresseRepeatReport:00000016 $d
  D:\Temp\ccoXQ802.s:2838   .text.setKeyPresseRepeatReport:000000a4 $d
  D:\Temp\ccoXQ802.s:4158   .bss.setKeyRepeatReported:00000000 setKeyRepeatReported
  D:\Temp\ccoXQ802.s:2852   .text.setKeyPressed:00000000 $t
  D:\Temp\ccoXQ802.s:2858   .text.setKeyPressed:00000000 setKeyPressed
  D:\Temp\ccoXQ802.s:2884   .text.setKeyPressed:0000000c $d
  D:\Temp\ccoXQ802.s:4186   .bss.lastSetKeyPressTime:00000000 lastSetKeyPressTime
  D:\Temp\ccoXQ802.s:2889   .text.setKeyReleased:00000000 $t
  D:\Temp\ccoXQ802.s:2895   .text.setKeyReleased:00000000 setKeyReleased
  D:\Temp\ccoXQ802.s:2950   .text.setKeyReleased:00000028 $d
  D:\Temp\ccoXQ802.s:2956   .text.modeKeyPressed:00000000 $t
  D:\Temp\ccoXQ802.s:2962   .text.modeKeyPressed:00000000 modeKeyPressed
  D:\Temp\ccoXQ802.s:2988   .text.modeKeyPressed:0000000c $d
  D:\Temp\ccoXQ802.s:4193   .bss.lastModeKeyPressTime:00000000 lastModeKeyPressTime
  D:\Temp\ccoXQ802.s:2993   .text.modeKeyReleased:00000000 $t
  D:\Temp\ccoXQ802.s:2999   .text.modeKeyReleased:00000000 modeKeyReleased
  D:\Temp\ccoXQ802.s:3055   .text.modeKeyReleased:0000002c $d
  D:\Temp\ccoXQ802.s:3060   .text.SystemClock_Config:00000000 $t
  D:\Temp\ccoXQ802.s:3066   .text.SystemClock_Config:00000000 SystemClock_Config
  D:\Temp\ccoXQ802.s:3190   .text.startup.main:00000000 $t
  D:\Temp\ccoXQ802.s:3196   .text.startup.main:00000000 main
  D:\Temp\ccoXQ802.s:3837   .text.startup.main:000002a0 $d
  D:\Temp\ccoXQ802.s:4328   .bss.isInitCompleted:00000000 isInitCompleted
  D:\Temp\ccoXQ802.s:4179   .bss.lastSetKeyPressReportTime:00000000 lastSetKeyPressReportTime
  D:\Temp\ccoXQ802.s:3868   .text.HAL_GPIO_EXTI_Callback:00000000 $t
  D:\Temp\ccoXQ802.s:3874   .text.HAL_GPIO_EXTI_Callback:00000000 HAL_GPIO_EXTI_Callback
  D:\Temp\ccoXQ802.s:3986   .text.HAL_GPIO_EXTI_Callback:0000006c $d
  D:\Temp\ccoXQ802.s:3993   .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
  D:\Temp\ccoXQ802.s:3999   .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
  D:\Temp\ccoXQ802.s:4092   .text.HAL_TIM_PeriodElapsedCallback:00000050 $d
  D:\Temp\ccoXQ802.s:4104   .text.Error_Handler:00000000 $t
  D:\Temp\ccoXQ802.s:4110   .text.Error_Handler:00000000 Error_Handler
ARM GAS  D:\Temp\ccoXQ802.s 			page 118


  D:\Temp\ccoXQ802.s:4125   .bss.tempBuffer:00000000 $d
  D:\Temp\ccoXQ802.s:4135   .bss.tempBuffered:00000000 $d
  D:\Temp\ccoXQ802.s:4141   .bss.tempertureHideTime:00000000 $d
  D:\Temp\ccoXQ802.s:4147   .bss.tempertureShowTime:00000000 $d
  D:\Temp\ccoXQ802.s:4159   .bss.setKeyRepeatReported:00000000 $d
  D:\Temp\ccoXQ802.s:4162   .bss.alarmBeepCount:00000000 $d
  D:\Temp\ccoXQ802.s:4169   .bss.alarmTimestamp:00000000 $d
  D:\Temp\ccoXQ802.s:4176   .bss.lastSetKeyPressReportTime:00000000 $d
  D:\Temp\ccoXQ802.s:4183   .bss.lastSetKeyPressTime:00000000 $d
  D:\Temp\ccoXQ802.s:4190   .bss.lastModeKeyPressTime:00000000 $d
  D:\Temp\ccoXQ802.s:4200   .bss.isChiming:00000000 $d
  D:\Temp\ccoXQ802.s:4209   .bss.ringStartTime:00000000 $d
  D:\Temp\ccoXQ802.s:4219   .bss.lastRingOnTimeHour:00000000 $d
  D:\Temp\ccoXQ802.s:4225   .bss.ringOnTimeStop:00000000 $d
  D:\Temp\ccoXQ802.s:4231   .bss.ringOnTimeStart:00000000 $d
  D:\Temp\ccoXQ802.s:4237   .bss.isRingOnTimeEnabled:00000000 $d
  D:\Temp\ccoXQ802.s:4243   .bss.alarmMin:00000000 $d
  D:\Temp\ccoXQ802.s:4249   .bss.alarmHour:00000000 $d
  D:\Temp\ccoXQ802.s:4255   .bss.isAlarming:00000000 $d
  D:\Temp\ccoXQ802.s:4261   .bss.isAlarmed:00000000 $d
  D:\Temp\ccoXQ802.s:4267   .bss.isAlarmEnabled:00000000 $d
  D:\Temp\ccoXQ802.s:4273   .bss.blinkControl:00000000 $d
  D:\Temp\ccoXQ802.s:4279   .bss.lastTime:00000000 $d
  D:\Temp\ccoXQ802.s:4285   .bss.time:00000000 $d
  D:\Temp\ccoXQ802.s:4291   .bss.weakBrightness:00000000 $d
  D:\Temp\ccoXQ802.s:4297   .bss.strongBrightness:00000000 $d
  D:\Temp\ccoXQ802.s:4309   .bss.savedBrightness:00000000 $d
  D:\Temp\ccoXQ802.s:4312   .bss.adcValue:00000000 $d
  D:\Temp\ccoXQ802.s:4319   .bss.lastDisplayChangeTime:00000000 $d
  D:\Temp\ccoXQ802.s:4329   .bss.isInitCompleted:00000000 $d
  D:\Temp\ccoXQ802.s:4335   .bss.currentMode:00000000 $d
  D:\Temp\ccoXQ802.s:4338   .rodata.tempertureMap:00000000 $d
  D:\Temp\ccoXQ802.s:2707   .text.setKeyPresseRepeatReport:00000023 $d
  D:\Temp\ccoXQ802.s:2707   .text.setKeyPresseRepeatReport:00000024 $t

UNDEFINED SYMBOLS
ReadBackData
WriteBackData
__aeabi_uidivmod
__aeabi_idivmod
HAL_GetTick
HAL_GPIO_WritePin
HAL_TIM_Base_Start_IT
htim17
HAL_GPIO_ReadPin
HAL_TIM_Base_Stop_IT
__aeabi_uidiv
TimeNow
memcpy
TM1637ShowNumberRight
TM1637SetChar
__gnu_thumb1_case_uhi
__gnu_thumb1_case_uqi
SetInterruptOuput
SetTime
TM1637SetBrightness
EnableSencodInterruptOuput
ARM GAS  D:\Temp\ccoXQ802.s 			page 119


memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_I2C1_Init
MX_ADC_Init
MX_TIM17_Init
MX_TIM3_Init
MX_TIM16_Init
TM1637Init
HAL_ADCEx_Calibration_Start
HAL_ADC_Start_DMA
HAL_TIM_Base_Start
hadc
htim3
htim16
