ARM GAS  D:\Temp\ccs3Iv9J.s 			page 1


   1              		.cpu cortex-m0
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Src/main.c"
  18              		.section	.text.readBackupSettings,"ax",%progbits
  19              		.align	1
  20              		.global	readBackupSettings
  21              		.syntax unified
  22              		.code	16
  23              		.thumb_func
  25              	readBackupSettings:
  26              	.LFB37:
   1:Src/main.c    **** /* USER CODE BEGIN Header */
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   * @attention
   8:Src/main.c    ****   *
   9:Src/main.c    ****   * <h2><center>&copy; Copyright (c) 2019 STMicroelectronics.
  10:Src/main.c    ****   * All rights reserved.</center></h2>
  11:Src/main.c    ****   *
  12:Src/main.c    ****   * This software component is licensed by ST under BSD 3-Clause license,
  13:Src/main.c    ****   * the "License"; You may not use this file except in compliance with the
  14:Src/main.c    ****   * License. You may obtain a copy of the License at:
  15:Src/main.c    ****   *                        opensource.org/licenses/BSD-3-Clause
  16:Src/main.c    ****   *
  17:Src/main.c    ****   ******************************************************************************
  18:Src/main.c    ****   */
  19:Src/main.c    **** /* USER CODE END Header */
  20:Src/main.c    **** 
  21:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  22:Src/main.c    **** #include "main.h"
  23:Src/main.c    **** #include "adc.h"
  24:Src/main.c    **** #include "dma.h"
  25:Src/main.c    **** #include "i2c.h"
  26:Src/main.c    **** #include "tim.h"
  27:Src/main.c    **** #include "gpio.h"
  28:Src/main.c    **** 
  29:Src/main.c    **** /* Private includes ----------------------------------------------------------*/
  30:Src/main.c    **** /* USER CODE BEGIN Includes */
  31:Src/main.c    **** #include "TM1637.h"
  32:Src/main.c    **** #include "SD3077.h"
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 2


  33:Src/main.c    **** #include "stdbool.h"
  34:Src/main.c    **** /* USER CODE END Includes */
  35:Src/main.c    **** 
  36:Src/main.c    **** /* Private typedef -----------------------------------------------------------*/
  37:Src/main.c    **** /* USER CODE BEGIN PTD */
  38:Src/main.c    **** // æ˜¾ç¤ºæ¨¡å¼æšä¸¾å®šä¹‰
  39:Src/main.c    **** typedef enum{
  40:Src/main.c    **** 	MODE_SHOW_TIME = 0,           // æ˜¾ç¤ºæ—¶é—´æ¨¡å¼ï¼ˆæ—¶:åˆ†ï¼‰
  41:Src/main.c    **** 	MODE_SHOW_SECOND,             // æ˜¾ç¤ºç§’æ•°æ¨¡å¼
  42:Src/main.c    **** 	MODE_SHOW_TEMPERTURE,         // æ˜¾ç¤ºæ¸©åº¦æ¨¡å¼
  43:Src/main.c    **** 	MODE_SET_HOUR,                // è®¾ç½®å°æ—¶æ¨¡å¼
  44:Src/main.c    **** 	MODE_SET_MINUTE,              // è®¾ç½®åˆ†é’Ÿæ¨¡å¼
  45:Src/main.c    **** 	MODE_SET_ALARM_ENABLE,        // è®¾ç½®é—¹é’Ÿå¼€å…³æ¨¡å¼
  46:Src/main.c    **** 	MODE_SET_ALARM_HOUR,          // è®¾ç½®é—¹é’Ÿå°æ—¶æ¨¡å¼
  47:Src/main.c    **** 	MODE_SET_ALARM_MINUTE,        // è®¾ç½®é—¹é’Ÿåˆ†é’Ÿæ¨¡å¼
  48:Src/main.c    **** 	MODE_SET_TEMP_SHOW,           // è®¾ç½®æ¸©åº¦æ˜¾ç¤ºæ—¶é•¿æ¨¡å¼
  49:Src/main.c    **** 	MODE_SET_TEMP_HIDE,           // è®¾ç½®æ¸©åº¦éšè—æ—¶é•¿æ¨¡å¼
  50:Src/main.c    **** 	MODE_SET_BRIGHTNESS,          // è®¾ç½®äº®åº¦æ¨¡å¼ï¼ˆæ‰‹åŠ¨/è‡ªåŠ¨ï¼‰
  51:Src/main.c    **** 	MODE_SET_BRIGHTNESS_STRONG,   // è®¾ç½®å¼ºå…‰äº®åº¦æ¨¡å¼
  52:Src/main.c    **** 	MODE_SET_BRIGHTNESS_WEAK,     // è®¾ç½®å¼±å…‰äº®åº¦æ¨¡å¼
  53:Src/main.c    **** 	MODE_SET_ROT_ENABLE,          // è®¾ç½®æ•´ç‚¹æŠ¥æ—¶å¼€å…³æ¨¡å¼
  54:Src/main.c    **** 	MODE_SET_ROT_START,           // è®¾ç½®æ•´ç‚¹æŠ¥æ—¶å¼€å§‹æ—¶é—´æ¨¡å¼
  55:Src/main.c    **** 	MODE_SET_ROT_STOP,            // è®¾ç½®æ•´ç‚¹æŠ¥æ—¶ç»“æŸæ—¶é—´æ¨¡å¼
  56:Src/main.c    **** }DisplayMode;
  57:Src/main.c    **** /* USER CODE END PTD */
  58:Src/main.c    **** 
  59:Src/main.c    **** /* Private define ------------------------------------------------------------*/
  60:Src/main.c    **** /* USER CODE BEGIN PD */
  61:Src/main.c    **** 
  62:Src/main.c    **** /* USER CODE END PD */
  63:Src/main.c    **** 
  64:Src/main.c    **** /* Private macro -------------------------------------------------------------*/
  65:Src/main.c    **** /* USER CODE BEGIN PM */
  66:Src/main.c    **** // GPIOå¼•è„šå®šä¹‰
  67:Src/main.c    **** #define SECOND_INT_PIN               SEC_INT_Pin             // ç§’ä¸­æ–­ç®¡è„šç¼–å·ï¼ˆRTCæ¯ç§’äº
  68:Src/main.c    **** #define SECOND_INT_EXTI_IRQN         SEC_INT_EXTI_IRQn       // ç§’ä¸­æ–­IRQN
  69:Src/main.c    **** #define KEY_EXTI_IRQN                MODE_KEY_EXTI_IRQn      // æŒ‰é”®ä¸­æ–­IRQN
  70:Src/main.c    **** 
  71:Src/main.c    **** #define MODE_KEY_GPIO_PORT           MODE_KEY_GPIO_Port      // æ¨¡å¼æŒ‰é’®GPIOç«¯å£
  72:Src/main.c    **** #define MODE_KEY_PIN                 MODE_KEY_Pin            // æ¨¡å¼æŒ‰é’®GPIOå¼•è„š
  73:Src/main.c    **** 
  74:Src/main.c    **** #define SET_KEY_GPIO_PORT            SET_KEY_GPIO_Port       // è®¾ç½®æŒ‰é’®GPIOç«¯å£
  75:Src/main.c    **** #define SET_KEY_PIN                  SET_KEY_Pin             // è®¾ç½®æŒ‰é’®GPIOå¼•è„š
  76:Src/main.c    **** 
  77:Src/main.c    **** #define BUZZER_GPIO_PORT             BUZZER_GPIO_Port        // èœ‚é¸£å™¨GPIOç«¯å£
  78:Src/main.c    **** #define BUZZER_PIN                   BUZZER_Pin              // èœ‚é¸£å™¨GPIOå¼•è„š
  79:Src/main.c    **** 
  80:Src/main.c    **** // æŒ‰é”®ç›¸å…³æ—¶é—´å‚æ•°ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰
  81:Src/main.c    **** #define KEY_LONG_PRESS_EFFECT_TIME   800       // æŒ‰é”®é•¿æŒ‰ç”Ÿæ•ˆæ—¶é—´ï¼ˆè¶…è¿‡æ­¤æ—¶é—´è§†ä¸ºé
  82:Src/main.c    **** #define KEY_REPEAT_TIME_INTERVAL     250       // æŒ‰é”®é•¿æŒ‰é‡å¤è§¦å‘é—´éš”
  83:Src/main.c    **** #define KEY_CLICK_EFFECT_TIME        50        // æŒ‰é”®å•å‡»ç”Ÿæ•ˆæ—¶é—´ï¼ˆæ¶ˆæŠ–æ—¶é—´ï¼‰
  84:Src/main.c    **** 
  85:Src/main.c    **** // æ—¶é—´è®¾ç½®èŒƒå›´
  86:Src/main.c    **** #define YEAR_MAX_SET                 38        // æœ€å¤§å¹´ä»½è®¾ç½®ï¼ˆ20xxå¹´ï¼‰
  87:Src/main.c    **** #define YEAR_MIN_SET                 15        // æœ€å°å¹´ä»½è®¾ç½®ï¼ˆ20xxå¹´ï¼‰
  88:Src/main.c    **** 
  89:Src/main.c    **** // æ¸©åº¦æ˜¾ç¤ºæ—¶é—´èŒƒå›´ï¼ˆå•ä½ï¼šç§’ï¼‰
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 3


  90:Src/main.c    **** #define TEMPERTURE_MAX_SHOW_TIME     15        // æ¸©åº¦æœ€å¤§æ˜¾ç¤ºæ—¶é•¿
  91:Src/main.c    **** #define TEMPERTURE_MAX_HIDE_TIME     30        // æ¸©åº¦æœ€å¤§éšè—æ—¶é•¿
  92:Src/main.c    **** 
  93:Src/main.c    **** // æ•´ç‚¹æŠ¥æ—¶å‚æ•°
  94:Src/main.c    **** #define RING_ON_TIME_LONG            1000      // æ•´ç‚¹æŠ¥æ—¶èœ‚é¸£å™¨é¸£å«æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰
  95:Src/main.c    **** 
  96:Src/main.c    **** // è‡ªåŠ¨äº®åº¦è°ƒèŠ‚ADCé˜ˆå€¼
  97:Src/main.c    **** #define STRONG_BRIGHTNESS_ADC_VALUE  2800      // å¼ºå…‰ADCé˜ˆå€¼ï¼ˆè¶…è¿‡æ­¤å€¼åˆ‡æ¢åˆ°å¼ºå…‰æ¨¡å
  98:Src/main.c    **** #define WEAK_BRIGHTNESS_ADC_VALUE    2300      // å¼±å…‰ADCé˜ˆå€¼ï¼ˆä½äºæ­¤å€¼åˆ‡æ¢åˆ°å¼±å…‰æ¨¡å
  99:Src/main.c    **** #define STRONG_BRIGHTNESS_VALUE      8         // å¼ºå…‰é»˜è®¤äº®åº¦å€¼ï¼ˆ1-8çº§ï¼‰
 100:Src/main.c    **** #define WEAK_BRIGHTNESS_VALUE        1         // å¼±å…‰é»˜è®¤äº®åº¦å€¼ï¼ˆ1-8çº§ï¼‰
 101:Src/main.c    **** 
 102:Src/main.c    **** // å®šæ—¶å™¨å¥æŸ„å®šä¹‰
 103:Src/main.c    **** #define ALARM_CONTROL_TIMER_HANDLE   htim17    // é—¹é’Ÿæ§åˆ¶å®šæ—¶å™¨å¥æŸ„
 104:Src/main.c    **** #define ALARM_CONTROL_TIMER          TIM17     // é—¹é’Ÿæ§åˆ¶å®šæ—¶å™¨
 105:Src/main.c    **** #define LIGHT_CONTROL_TIMER_HANDLE   htim16    // äº®åº¦æ§åˆ¶å®šæ—¶å™¨å¥æŸ„
 106:Src/main.c    **** #define LIGHT_CONTROL_TIMER          TIM16     // äº®åº¦æ§åˆ¶å®šæ—¶å™¨
 107:Src/main.c    **** #define TEMPERTURE_ADC_HANDLE        hadc      // æ¸©åº¦ADCå¥æŸ„
 108:Src/main.c    **** 
 109:Src/main.c    **** // å¤‡ä»½æ•°æ®å­˜å‚¨ç´¢å¼•ï¼ˆä¿å­˜åœ¨RTCå¤‡ä»½å¯„å­˜å™¨ä¸­ï¼‰
 110:Src/main.c    **** #define BAK_DATA_SIZE                13        // å¤‡ä»½æ•°æ®æ€»å¤§å°
 111:Src/main.c    **** #define BAK_POWER_DOWN_IND_INDEX     0x00      // æ‰ç”µæ ‡è¯†ç´¢å¼•ï¼ˆç”¨äºåˆ¤æ–­æ˜¯å¦é¦–æ¬¡ä¸Šç
 112:Src/main.c    **** #define BAK_ALARM_ENABLED_INDEX      0x02      // é—¹é’Ÿä½¿èƒ½æ ‡å¿—ç´¢å¼•
 113:Src/main.c    **** #define BAK_ALARM_HOUR_INDEX         0x03      // é—¹é’Ÿå°æ—¶ç´¢å¼•
 114:Src/main.c    **** #define BAK_ALARM_MINUTE_INDEX       0x04      // é—¹é’Ÿåˆ†é’Ÿç´¢å¼•
 115:Src/main.c    **** #define BAK_TEMP_SHOW_TIME_INDEX     0x05      // æ¸©åº¦æ˜¾ç¤ºæ—¶é•¿ç´¢å¼•
 116:Src/main.c    **** #define BAK_TEMP_HIDE_TIME_INDEX     0x06      // æ¸©åº¦éšè—æ—¶é•¿ç´¢å¼•
 117:Src/main.c    **** #define BAK_ROT_ENABLED_INDEX        0x07      // æ•´ç‚¹æŠ¥æ—¶ä½¿èƒ½æ ‡å¿—ç´¢å¼•
 118:Src/main.c    **** #define BAK_ROT_START_INDEX          0x08      // æ•´ç‚¹æŠ¥æ—¶å¼€å§‹æ—¶é—´ç´¢å¼•
 119:Src/main.c    **** #define BAK_ROT_STOP_INDEX           0x09      // æ•´ç‚¹æŠ¥æ—¶ç»“æŸæ—¶é—´ç´¢å¼•
 120:Src/main.c    **** #define BAK_BRIGHTNESS_INDEX         0x0A      // äº®åº¦è®¾ç½®ç´¢å¼•ï¼ˆ0ä¸ºè‡ªåŠ¨ï¼Œ1-8ä¸ºæ‰‹åŠ¨ï¼‰
 121:Src/main.c    **** #define BAK_BRIGHTNESS_STRONG_INDEX  0x0B      // å¼ºå…‰äº®åº¦ç´¢å¼•
 122:Src/main.c    **** #define BAK_BRIGHTNESS_WEAK_INDEX    0x0C      // å¼±å…‰äº®åº¦ç´¢å¼•
 123:Src/main.c    **** 
 124:Src/main.c    **** #define POWER_DOWN_IND_DATA          0xFA      // æ‰ç”µæ ‡è¯†æ•°æ®ï¼ˆç”¨äºåˆ¤æ–­æ˜¯å¦é¦–æ¬¡ä¸Šç
 125:Src/main.c    **** 
 126:Src/main.c    **** // NTCæ¸©åº¦ä¼ æ„Ÿå™¨ç›¸å…³
 127:Src/main.c    **** #define TEMP_BUFFER_SIZE   8     // æ¸©åº¦è¯»å–ç¼“å­˜é•¿åº¦ï¼ˆç”¨äºæ»¤æ³¢å¹³å‡ï¼‰
 128:Src/main.c    **** #define TEMP_MAP_SIZE      126   // æ¸©åº¦æ˜ å°„è¡¨é•¿åº¦ï¼ˆADCå€¼åˆ°æ¸©åº¦çš„æ˜ å°„ï¼‰
 129:Src/main.c    **** // æ¸©åº¦æ˜ å°„è¡¨ï¼šå°†ADCå€¼æ˜ å°„åˆ°æ¸©åº¦å€¼ï¼ˆ0-125â„ƒï¼‰
 130:Src/main.c    **** const uint16_t tempertureMap[] = {1054, 1091, 1128, 1165, 1203, 1242, 1280, 1320, 1359, 1399, 1439,
 131:Src/main.c    **** 
 132:Src/main.c    **** /* USER CODE END PM */
 133:Src/main.c    **** 
 134:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
 135:Src/main.c    **** 
 136:Src/main.c    **** /* USER CODE BEGIN PV */
 137:Src/main.c    **** // å½“å‰æ˜¾ç¤ºæ¨¡å¼
 138:Src/main.c    **** DisplayMode currentMode = MODE_SHOW_TIME;
 139:Src/main.c    **** bool isInitCompleted = false;           // åˆå§‹åŒ–å®Œæˆæ ‡å¿—
 140:Src/main.c    **** uint32_t lastDisplayChangeTime;         // ä¸Šæ¬¡æ˜¾ç¤ºåˆ‡æ¢æ—¶é—´ï¼ˆç”¨äºæ¸©åº¦/æ—¶é—´è‡ªåŠ¨åˆ‡æ
 141:Src/main.c    **** 
 142:Src/main.c    **** // ADCé‡‡æ ·å€¼ï¼ˆ0:å…‰æ•ç”µé˜»ï¼Œ1:æ¸©åº¦ä¼ æ„Ÿå™¨ï¼‰
 143:Src/main.c    **** uint32_t adcValue[2];
 144:Src/main.c    **** 
 145:Src/main.c    **** // äº®åº¦æ§åˆ¶ç›¸å…³
 146:Src/main.c    **** uint8_t savedBrightness = 0;            // ä¿å­˜çš„äº®åº¦å€¼ï¼ˆ0=è‡ªåŠ¨ï¼Œ1-8=æ‰‹åŠ¨ï¼‰
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 4


 147:Src/main.c    **** bool isWeakBrightness = true;           // å½“å‰æ˜¯å¦ä¸ºå¼±å…‰æ¨¡å¼
 148:Src/main.c    **** uint8_t strongBrightness, weakBrightness; // å¼ºå…‰/å¼±å…‰äº®åº¦å€¼
 149:Src/main.c    **** 
 150:Src/main.c    **** // æ—¶é—´ç›¸å…³
 151:Src/main.c    **** DateTime time, lastTime;                // å½“å‰æ—¶é—´å’Œä¸Šæ¬¡è®¾ç½®çš„æ—¶é—´
 152:Src/main.c    **** uint8_t blinkControl;                   // é—ªçƒæ§åˆ¶æ ‡å¿—ï¼ˆç”¨äºè®¾ç½®æ¨¡å¼ä¸‹çš„é—ªçƒæ˜¾ç¤
 153:Src/main.c    **** 
 154:Src/main.c    **** // é—¹é’Ÿç›¸å…³
 155:Src/main.c    **** bool isAlarmEnabled = false;            // é—¹é’Ÿä½¿èƒ½æ ‡å¿—
 156:Src/main.c    **** bool isAlarmed = false, isAlarming = false; // å·²è§¦å‘æ ‡å¿—å’Œæ­£åœ¨å“é“ƒæ ‡å¿—
 157:Src/main.c    **** uint8_t alarmHour = 0, alarmMin = 0;    // é—¹é’Ÿæ—¶é—´
 158:Src/main.c    **** 
 159:Src/main.c    **** // æ•´ç‚¹æŠ¥æ—¶ç›¸å…³
 160:Src/main.c    **** bool isRingOnTimeEnabled ;              // æ•´ç‚¹æŠ¥æ—¶ä½¿èƒ½æ ‡å¿—
 161:Src/main.c    **** uint8_t ringOnTimeStart, ringOnTimeStop; // æ•´ç‚¹æŠ¥æ—¶èµ·æ­¢æ—¶é—´
 162:Src/main.c    **** uint8_t lastRingOnTimeHour;             // ä¸Šæ¬¡æ•´ç‚¹æŠ¥æ—¶çš„å°æ—¶ï¼ˆé˜²æ­¢é‡å¤è§¦å‘ï¼‰
 163:Src/main.c    **** uint32_t ringStartTime;                 // æ•´ç‚¹æŠ¥æ—¶å¼€å§‹æ—¶é—´æˆ³
 164:Src/main.c    **** uint8_t lastChimeSecond = 0xFF;         // ä¸Šæ¬¡æ•´ç‚¹æŠ¥æ—¶çš„ç§’æ•°ï¼ˆé˜²æ­¢åŒä¸€ç§’é‡å¤è§¦å
 165:Src/main.c    **** bool isChiming = false;                 // æ­£åœ¨æ•´ç‚¹æŠ¥æ—¶æ ‡å¿—
 166:Src/main.c    **** 
 167:Src/main.c    **** // æŒ‰é”®ç›¸å…³
 168:Src/main.c    **** uint32_t lastModeKeyPressTime, lastSetKeyPressTime, lastSetKeyPressReportTime; // æŒ‰é”®æŒ‰ä¸‹æ—¶é—
 169:Src/main.c    **** uint32_t alarmTimestamp, alarmBeepCount; // é—¹é’Ÿå®šæ—¶å™¨è®¡æ•°
 170:Src/main.c    **** bool setKeyRepeatReported = false;      // è®¾ç½®é”®é‡å¤è§¦å‘æ ‡å¿—
 171:Src/main.c    **** 
 172:Src/main.c    **** // æ¸©åº¦ç›¸å…³
 173:Src/main.c    **** uint8_t temperture = 25;                // å½“å‰æ¸©åº¦å€¼
 174:Src/main.c    **** uint8_t tempertureShowTime, tempertureHideTime; // æ¸©åº¦æ˜¾ç¤º/éšè—æ—¶é•¿ï¼ˆç§’ï¼‰
 175:Src/main.c    **** uint8_t tempBuffered = 0;               // æ¸©åº¦ç¼“å­˜è®¡æ•°
 176:Src/main.c    **** uint16_t tempBuffer[TEMP_BUFFER_SIZE + 1]; // æ¸©åº¦é‡‡æ ·ç¼“å­˜ï¼ˆç”¨äºæ»¤æ³¢ï¼‰
 177:Src/main.c    **** /* USER CODE END PV */
 178:Src/main.c    **** 
 179:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
 180:Src/main.c    **** void SystemClock_Config(void);
 181:Src/main.c    **** /* USER CODE BEGIN PFP */
 182:Src/main.c    **** 
 183:Src/main.c    **** /* USER CODE END PFP */
 184:Src/main.c    **** 
 185:Src/main.c    **** /* Private user code ---------------------------------------------------------*/
 186:Src/main.c    **** /* USER CODE BEGIN 0 */
 187:Src/main.c    **** /**
 188:Src/main.c    ****  * @brief  ä»RTCå¤‡ä»½å¯„å­˜å™¨è¯»å–é—¹é’Ÿè®¾ç½®
 189:Src/main.c    ****  * @note   è¯»å–é—¹é’Ÿæ—¶é—´å’Œä½¿èƒ½çŠ¶æ€ï¼Œå¹¶è¿›è¡Œåˆæ³•æ€§æ£€æŸ¥
 190:Src/main.c    ****  * @param  None
 191:Src/main.c    ****  * @retval None
 192:Src/main.c    ****  */
 193:Src/main.c    **** void readBackupSettings() {
  27              		.loc 1 193 27 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
 194:Src/main.c    **** 	uint8_t data[3];
  31              		.loc 1 194 2 view .LVU1
 195:Src/main.c    **** 	ReadBackData(0, data, 3);  // ä»å¤‡ä»½å¯„å­˜å™¨è¯»å–3å­—èŠ‚æ•°æ®
  32              		.loc 1 195 2 view .LVU2
 193:Src/main.c    **** 	uint8_t data[3];
  33              		.loc 1 193 27 is_stmt 0 view .LVU3
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 5


  34 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 24
  37              		.cfi_offset 0, -24
  38              		.cfi_offset 1, -20
  39              		.cfi_offset 4, -16
  40              		.cfi_offset 5, -12
  41              		.cfi_offset 6, -8
  42              		.cfi_offset 14, -4
  43              		.loc 1 195 2 view .LVU4
  44 0002 01AC     		add	r4, sp, #4
  45 0004 2100     		movs	r1, r4
  46 0006 0322     		movs	r2, #3
  47 0008 0020     		movs	r0, #0
  48 000a FFF7FEFF 		bl	ReadBackData
  49              	.LVL0:
 196:Src/main.c    **** 
 197:Src/main.c    **** 	alarmHour = data[0];       // é—¹é’Ÿå°æ—¶
  50              		.loc 1 197 2 is_stmt 1 view .LVU5
  51              		.loc 1 197 18 is_stmt 0 view .LVU6
  52 000e 2678     		ldrb	r6, [r4]
  53              		.loc 1 197 12 view .LVU7
  54 0010 094D     		ldr	r5, .L4
 198:Src/main.c    **** 	alarmMin = data[1];        // é—¹é’Ÿåˆ†é’Ÿ
  55              		.loc 1 198 11 view .LVU8
  56 0012 0A49     		ldr	r1, .L4+4
 197:Src/main.c    **** 	alarmMin = data[1];        // é—¹é’Ÿåˆ†é’Ÿ
  57              		.loc 1 197 12 view .LVU9
  58 0014 2E70     		strb	r6, [r5]
  59              		.loc 1 198 2 is_stmt 1 view .LVU10
  60              		.loc 1 198 17 is_stmt 0 view .LVU11
  61 0016 6078     		ldrb	r0, [r4, #1]
 199:Src/main.c    **** 	isAlarmEnabled = data[2];  // é—¹é’Ÿä½¿èƒ½æ ‡å¿—
  62              		.loc 1 199 17 view .LVU12
  63 0018 094B     		ldr	r3, .L4+8
 198:Src/main.c    **** 	alarmMin = data[1];        // é—¹é’Ÿåˆ†é’Ÿ
  64              		.loc 1 198 11 view .LVU13
  65 001a 0870     		strb	r0, [r1]
  66              		.loc 1 199 2 is_stmt 1 view .LVU14
  67              		.loc 1 199 23 is_stmt 0 view .LVU15
  68 001c A278     		ldrb	r2, [r4, #2]
  69 001e 541E     		subs	r4, r2, #1
  70 0020 A241     		sbcs	r2, r2, r4
  71 0022 1A70     		strb	r2, [r3]
 200:Src/main.c    **** 
 201:Src/main.c    **** 	// æ£€æŸ¥è¯»å–çš„æ•°æ®æ˜¯å¦åˆæ³•ï¼Œä¸åˆæ³•åˆ™é‡ç½®ä¸º0
 202:Src/main.c    **** 	if(alarmHour > 23) alarmHour = 0;
  72              		.loc 1 202 2 is_stmt 1 view .LVU16
  73              		.loc 1 202 4 is_stmt 0 view .LVU17
  74 0024 172E     		cmp	r6, #23
  75 0026 01D9     		bls	.L2
  76              		.loc 1 202 21 is_stmt 1 discriminator 1 view .LVU18
  77              		.loc 1 202 31 is_stmt 0 discriminator 1 view .LVU19
  78 0028 0023     		movs	r3, #0
  79 002a 2B70     		strb	r3, [r5]
  80              	.L2:
 203:Src/main.c    **** 	if(alarmMin > 59) alarmMin = 0;
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 6


  81              		.loc 1 203 2 is_stmt 1 view .LVU20
  82              		.loc 1 203 4 is_stmt 0 view .LVU21
  83 002c 3B28     		cmp	r0, #59
  84 002e 01D9     		bls	.L1
  85              		.loc 1 203 20 is_stmt 1 discriminator 1 view .LVU22
  86              		.loc 1 203 29 is_stmt 0 discriminator 1 view .LVU23
  87 0030 0023     		movs	r3, #0
  88 0032 0B70     		strb	r3, [r1]
  89              	.L1:
 204:Src/main.c    **** }
  90              		.loc 1 204 1 view .LVU24
  91              		@ sp needed
  92 0034 73BD     		pop	{r0, r1, r4, r5, r6, pc}
  93              	.L5:
  94 0036 C046     		.align	2
  95              	.L4:
  96 0038 00000000 		.word	alarmHour
  97 003c 00000000 		.word	alarmMin
  98 0040 00000000 		.word	isAlarmEnabled
  99              		.cfi_endproc
 100              	.LFE37:
 102              		.section	.text.saveSettings,"ax",%progbits
 103              		.align	1
 104              		.global	saveSettings
 105              		.syntax unified
 106              		.code	16
 107              		.thumb_func
 109              	saveSettings:
 110              	.LFB38:
 205:Src/main.c    **** 
 206:Src/main.c    **** /**
 207:Src/main.c    ****  * @brief  ä¿å­˜æ‰€æœ‰è®¾ç½®åˆ°RTCå¤‡ä»½å¯„å­˜å™¨
 208:Src/main.c    ****  * @note   å°†é—¹é’Ÿã€æ¸©åº¦æ˜¾ç¤ºã€æ•´ç‚¹æŠ¥æ—¶ã€äº®åº¦ç­‰è®¾ç½®ä¿å­˜åˆ°å¤‡ä»½å¯„å­˜å™¨
 209:Src/main.c    ****  *         æ‰ç”µåæ•°æ®ä¸ä¼šä¸¢å¤±
 210:Src/main.c    ****  * @param  None
 211:Src/main.c    ****  * @retval None
 212:Src/main.c    ****  */
 213:Src/main.c    **** void saveSettings(){
 111              		.loc 1 213 20 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 16
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 214:Src/main.c    **** 	uint8_t data[BAK_DATA_SIZE] = {
 115              		.loc 1 214 2 view .LVU26
 213:Src/main.c    **** 	uint8_t data[BAK_DATA_SIZE] = {
 116              		.loc 1 213 20 is_stmt 0 view .LVU27
 117 0000 1FB5     		push	{r0, r1, r2, r3, r4, lr}
 118              	.LCFI1:
 119              		.cfi_def_cfa_offset 24
 120              		.cfi_offset 0, -24
 121              		.cfi_offset 1, -20
 122              		.cfi_offset 2, -16
 123              		.cfi_offset 3, -12
 124              		.cfi_offset 4, -8
 125              		.cfi_offset 14, -4
 126              		.loc 1 214 10 view .LVU28
 127 0002 6A46     		mov	r2, sp
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 7


 128 0004 144B     		ldr	r3, .L7
 215:Src/main.c    **** 			POWER_DOWN_IND_DATA,        // [0] æ‰ç”µæ ‡è¯†ï¼ˆç”¨äºåˆ¤æ–­æ˜¯å¦é¦–æ¬¡ä¸Šç”µï¼‰
 216:Src/main.c    **** 			POWER_DOWN_IND_DATA,        // [1] æ‰ç”µæ ‡è¯†ï¼ˆå†—ä½™ï¼‰
 217:Src/main.c    **** 			isAlarmEnabled,             // [2] é—¹é’Ÿä½¿èƒ½æ ‡å¿—
 218:Src/main.c    **** 			alarmHour,                  // [3] é—¹é’Ÿå°æ—¶
 219:Src/main.c    **** 			alarmMin,                   // [4] é—¹é’Ÿåˆ†é’Ÿ
 220:Src/main.c    **** 			tempertureShowTime,         // [5] æ¸©åº¦æ˜¾ç¤ºæ—¶é•¿
 221:Src/main.c    **** 			tempertureHideTime,         // [6] æ¸©åº¦éšè—æ—¶é•¿
 222:Src/main.c    **** 			isRingOnTimeEnabled,        // [7] æ•´ç‚¹æŠ¥æ—¶ä½¿èƒ½æ ‡å¿—
 223:Src/main.c    **** 			ringOnTimeStart,            // [8] æ•´ç‚¹æŠ¥æ—¶å¼€å§‹æ—¶é—´
 224:Src/main.c    **** 			ringOnTimeStop,             // [9] æ•´ç‚¹æŠ¥æ—¶ç»“æŸæ—¶é—´
 225:Src/main.c    **** 			savedBrightness,            // [10] äº®åº¦è®¾ç½®ï¼ˆ0=è‡ªåŠ¨ï¼Œ1-8=æ‰‹åŠ¨ï¼‰
 226:Src/main.c    **** 			strongBrightness,           // [11] å¼ºå…‰äº®åº¦å€¼
 227:Src/main.c    **** 			weakBrightness,             // [12] å¼±å…‰äº®åº¦å€¼
 228:Src/main.c    **** 	};
 229:Src/main.c    **** 	WriteBackData(0, data, BAK_DATA_SIZE);  // å†™å…¥å¤‡ä»½å¯„å­˜å™¨
 129              		.loc 1 229 2 view .LVU29
 130 0006 6946     		mov	r1, sp
 214:Src/main.c    **** 			POWER_DOWN_IND_DATA,        // [0] æ‰ç”µæ ‡è¯†ï¼ˆç”¨äºåˆ¤æ–­æ˜¯å¦é¦–æ¬¡ä¸Šç”µï¼‰
 131              		.loc 1 214 10 view .LVU30
 132 0008 1380     		strh	r3, [r2]
 133 000a 144B     		ldr	r3, .L7+4
 134              		.loc 1 229 2 view .LVU31
 135 000c 0020     		movs	r0, #0
 214:Src/main.c    **** 			POWER_DOWN_IND_DATA,        // [0] æ‰ç”µæ ‡è¯†ï¼ˆç”¨äºåˆ¤æ–­æ˜¯å¦é¦–æ¬¡ä¸Šç”µï¼‰
 136              		.loc 1 214 10 view .LVU32
 137 000e 1B78     		ldrb	r3, [r3]
 138 0010 9370     		strb	r3, [r2, #2]
 139 0012 134B     		ldr	r3, .L7+8
 140 0014 1B78     		ldrb	r3, [r3]
 141 0016 D370     		strb	r3, [r2, #3]
 142 0018 124B     		ldr	r3, .L7+12
 143 001a 1B78     		ldrb	r3, [r3]
 144 001c 1371     		strb	r3, [r2, #4]
 145 001e 124B     		ldr	r3, .L7+16
 146 0020 1B78     		ldrb	r3, [r3]
 147 0022 5371     		strb	r3, [r2, #5]
 148 0024 114B     		ldr	r3, .L7+20
 149 0026 1B78     		ldrb	r3, [r3]
 150 0028 9371     		strb	r3, [r2, #6]
 151 002a 114B     		ldr	r3, .L7+24
 152 002c 1B78     		ldrb	r3, [r3]
 153 002e D371     		strb	r3, [r2, #7]
 154 0030 104B     		ldr	r3, .L7+28
 155 0032 1B78     		ldrb	r3, [r3]
 156 0034 1372     		strb	r3, [r2, #8]
 157 0036 104B     		ldr	r3, .L7+32
 158 0038 1B78     		ldrb	r3, [r3]
 159 003a 5372     		strb	r3, [r2, #9]
 160 003c 0F4B     		ldr	r3, .L7+36
 161 003e 1B78     		ldrb	r3, [r3]
 162 0040 9372     		strb	r3, [r2, #10]
 163 0042 0F4B     		ldr	r3, .L7+40
 164 0044 1B78     		ldrb	r3, [r3]
 165 0046 D372     		strb	r3, [r2, #11]
 166 0048 0E4B     		ldr	r3, .L7+44
 167 004a 1B78     		ldrb	r3, [r3]
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 8


 168 004c 1373     		strb	r3, [r2, #12]
 169              		.loc 1 229 2 is_stmt 1 view .LVU33
 170 004e 0D22     		movs	r2, #13
 171 0050 FFF7FEFF 		bl	WriteBackData
 172              	.LVL1:
 230:Src/main.c    **** }
 173              		.loc 1 230 1 is_stmt 0 view .LVU34
 174 0054 05B0     		add	sp, sp, #20
 175              		@ sp needed
 176 0056 00BD     		pop	{pc}
 177              	.L8:
 178              		.align	2
 179              	.L7:
 180 0058 FAFAFFFF 		.word	-1286
 181 005c 00000000 		.word	isAlarmEnabled
 182 0060 00000000 		.word	alarmHour
 183 0064 00000000 		.word	alarmMin
 184 0068 00000000 		.word	tempertureShowTime
 185 006c 00000000 		.word	tempertureHideTime
 186 0070 00000000 		.word	isRingOnTimeEnabled
 187 0074 00000000 		.word	ringOnTimeStart
 188 0078 00000000 		.word	ringOnTimeStop
 189 007c 00000000 		.word	savedBrightness
 190 0080 00000000 		.word	strongBrightness
 191 0084 00000000 		.word	weakBrightness
 192              		.cfi_endproc
 193              	.LFE38:
 195              		.section	.text.resetSettings,"ax",%progbits
 196              		.align	1
 197              		.global	resetSettings
 198              		.syntax unified
 199              		.code	16
 200              		.thumb_func
 202              	resetSettings:
 203              	.LFB39:
 231:Src/main.c    **** 
 232:Src/main.c    **** /**
 233:Src/main.c    ****  * @brief  é‡ç½®æ‰€æœ‰è®¾ç½®ä¸ºé»˜è®¤å€¼
 234:Src/main.c    ****  * @note   é¦–æ¬¡ä¸Šç”µæˆ–æ•°æ®å¼‚å¸¸æ—¶è°ƒç”¨ï¼Œæ¢å¤å‡ºå‚è®¾ç½®
 235:Src/main.c    ****  * @param  None
 236:Src/main.c    ****  * @retval None
 237:Src/main.c    ****  */
 238:Src/main.c    **** void resetSettings(){
 204              		.loc 1 238 21 is_stmt 1 view -0
 205              		.cfi_startproc
 206              		@ args = 0, pretend = 0, frame = 0
 207              		@ frame_needed = 0, uses_anonymous_args = 0
 208              		@ link register save eliminated.
 239:Src/main.c    **** 	  isAlarmEnabled = false;        // é—¹é’Ÿé»˜è®¤å…³é—­
 209              		.loc 1 239 4 view .LVU36
 210              		.loc 1 239 19 is_stmt 0 view .LVU37
 211 0000 0023     		movs	r3, #0
 240:Src/main.c    **** 	  alarmHour = 0;                 // é—¹é’Ÿæ—¶é—´ 00:00
 241:Src/main.c    **** 	  alarmMin = 0;
 242:Src/main.c    **** 	  tempertureShowTime = 2;        // æ¸©åº¦æ˜¾ç¤º2ç§’
 243:Src/main.c    **** 	  tempertureHideTime = 10;       // æ¸©åº¦éšè—10ç§’
 244:Src/main.c    **** 	  isRingOnTimeEnabled = false;   // æ•´ç‚¹æŠ¥æ—¶é»˜è®¤å…³é—­
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 9


 245:Src/main.c    **** 	  ringOnTimeStart = 8;           // æ•´ç‚¹æŠ¥æ—¶æ—¶é—´æ®µ 8:00-20:00
 246:Src/main.c    **** 	  ringOnTimeStop = 20;
 247:Src/main.c    **** 	  savedBrightness = 8;           // é»˜è®¤æ‰‹åŠ¨æœ€é«˜äº®åº¦
 248:Src/main.c    **** 	  strongBrightness = 8;          // å¼ºå…‰äº®åº¦8çº§
 249:Src/main.c    **** 	  weakBrightness = 1;            // å¼±å…‰äº®åº¦1çº§
 250:Src/main.c    **** }
 212              		.loc 1 250 1 view .LVU38
 213              		@ sp needed
 242:Src/main.c    **** 	  tempertureHideTime = 10;       // æ¸©åº¦éšè—10ç§’
 214              		.loc 1 242 23 view .LVU39
 215 0002 0221     		movs	r1, #2
 239:Src/main.c    **** 	  isAlarmEnabled = false;        // é—¹é’Ÿé»˜è®¤å…³é—­
 216              		.loc 1 239 19 view .LVU40
 217 0004 0D4A     		ldr	r2, .L10
 218 0006 1370     		strb	r3, [r2]
 240:Src/main.c    **** 	  alarmHour = 0;                 // é—¹é’Ÿæ—¶é—´ 00:00
 219              		.loc 1 240 4 is_stmt 1 view .LVU41
 240:Src/main.c    **** 	  alarmHour = 0;                 // é—¹é’Ÿæ—¶é—´ 00:00
 220              		.loc 1 240 14 is_stmt 0 view .LVU42
 221 0008 0D4A     		ldr	r2, .L10+4
 222 000a 1370     		strb	r3, [r2]
 241:Src/main.c    **** 	  tempertureShowTime = 2;        // æ¸©åº¦æ˜¾ç¤º2ç§’
 223              		.loc 1 241 4 is_stmt 1 view .LVU43
 241:Src/main.c    **** 	  tempertureShowTime = 2;        // æ¸©åº¦æ˜¾ç¤º2ç§’
 224              		.loc 1 241 13 is_stmt 0 view .LVU44
 225 000c 0D4A     		ldr	r2, .L10+8
 226 000e 1370     		strb	r3, [r2]
 242:Src/main.c    **** 	  tempertureHideTime = 10;       // æ¸©åº¦éšè—10ç§’
 227              		.loc 1 242 4 is_stmt 1 view .LVU45
 242:Src/main.c    **** 	  tempertureHideTime = 10;       // æ¸©åº¦éšè—10ç§’
 228              		.loc 1 242 23 is_stmt 0 view .LVU46
 229 0010 0D4A     		ldr	r2, .L10+12
 230 0012 1170     		strb	r1, [r2]
 243:Src/main.c    **** 	  isRingOnTimeEnabled = false;   // æ•´ç‚¹æŠ¥æ—¶é»˜è®¤å…³é—­
 231              		.loc 1 243 4 is_stmt 1 view .LVU47
 243:Src/main.c    **** 	  isRingOnTimeEnabled = false;   // æ•´ç‚¹æŠ¥æ—¶é»˜è®¤å…³é—­
 232              		.loc 1 243 23 is_stmt 0 view .LVU48
 233 0014 0D4A     		ldr	r2, .L10+16
 234 0016 0831     		adds	r1, r1, #8
 235 0018 1170     		strb	r1, [r2]
 244:Src/main.c    **** 	  ringOnTimeStart = 8;           // æ•´ç‚¹æŠ¥æ—¶æ—¶é—´æ®µ 8:00-20:00
 236              		.loc 1 244 4 is_stmt 1 view .LVU49
 244:Src/main.c    **** 	  ringOnTimeStart = 8;           // æ•´ç‚¹æŠ¥æ—¶æ—¶é—´æ®µ 8:00-20:00
 237              		.loc 1 244 24 is_stmt 0 view .LVU50
 238 001a 0D4A     		ldr	r2, .L10+20
 246:Src/main.c    **** 	  savedBrightness = 8;           // é»˜è®¤æ‰‹åŠ¨æœ€é«˜äº®åº¦
 239              		.loc 1 246 19 view .LVU51
 240 001c 0A31     		adds	r1, r1, #10
 244:Src/main.c    **** 	  ringOnTimeStart = 8;           // æ•´ç‚¹æŠ¥æ—¶æ—¶é—´æ®µ 8:00-20:00
 241              		.loc 1 244 24 view .LVU52
 242 001e 1370     		strb	r3, [r2]
 245:Src/main.c    **** 	  ringOnTimeStop = 20;
 243              		.loc 1 245 4 is_stmt 1 view .LVU53
 245:Src/main.c    **** 	  ringOnTimeStop = 20;
 244              		.loc 1 245 20 is_stmt 0 view .LVU54
 245 0020 0C4A     		ldr	r2, .L10+24
 246 0022 0833     		adds	r3, r3, #8
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 10


 247 0024 1370     		strb	r3, [r2]
 246:Src/main.c    **** 	  savedBrightness = 8;           // é»˜è®¤æ‰‹åŠ¨æœ€é«˜äº®åº¦
 248              		.loc 1 246 4 is_stmt 1 view .LVU55
 246:Src/main.c    **** 	  savedBrightness = 8;           // é»˜è®¤æ‰‹åŠ¨æœ€é«˜äº®åº¦
 249              		.loc 1 246 19 is_stmt 0 view .LVU56
 250 0026 0C4A     		ldr	r2, .L10+28
 251 0028 1170     		strb	r1, [r2]
 247:Src/main.c    **** 	  strongBrightness = 8;          // å¼ºå…‰äº®åº¦8çº§
 252              		.loc 1 247 4 is_stmt 1 view .LVU57
 247:Src/main.c    **** 	  strongBrightness = 8;          // å¼ºå…‰äº®åº¦8çº§
 253              		.loc 1 247 20 is_stmt 0 view .LVU58
 254 002a 0C4A     		ldr	r2, .L10+32
 255 002c 1370     		strb	r3, [r2]
 248:Src/main.c    **** 	  weakBrightness = 1;            // å¼±å…‰äº®åº¦1çº§
 256              		.loc 1 248 4 is_stmt 1 view .LVU59
 248:Src/main.c    **** 	  weakBrightness = 1;            // å¼±å…‰äº®åº¦1çº§
 257              		.loc 1 248 21 is_stmt 0 view .LVU60
 258 002e 0C4A     		ldr	r2, .L10+36
 259 0030 1370     		strb	r3, [r2]
 249:Src/main.c    **** }
 260              		.loc 1 249 4 is_stmt 1 view .LVU61
 249:Src/main.c    **** }
 261              		.loc 1 249 19 is_stmt 0 view .LVU62
 262 0032 0122     		movs	r2, #1
 263 0034 0B4B     		ldr	r3, .L10+40
 264 0036 1A70     		strb	r2, [r3]
 265              		.loc 1 250 1 view .LVU63
 266 0038 7047     		bx	lr
 267              	.L11:
 268 003a C046     		.align	2
 269              	.L10:
 270 003c 00000000 		.word	isAlarmEnabled
 271 0040 00000000 		.word	alarmHour
 272 0044 00000000 		.word	alarmMin
 273 0048 00000000 		.word	tempertureShowTime
 274 004c 00000000 		.word	tempertureHideTime
 275 0050 00000000 		.word	isRingOnTimeEnabled
 276 0054 00000000 		.word	ringOnTimeStart
 277 0058 00000000 		.word	ringOnTimeStop
 278 005c 00000000 		.word	savedBrightness
 279 0060 00000000 		.word	strongBrightness
 280 0064 00000000 		.word	weakBrightness
 281              		.cfi_endproc
 282              	.LFE39:
 284              		.section	.text.checkRingOnTime,"ax",%progbits
 285              		.align	1
 286              		.global	checkRingOnTime
 287              		.syntax unified
 288              		.code	16
 289              		.thumb_func
 291              	checkRingOnTime:
 292              	.LFB40:
 251:Src/main.c    **** 
 252:Src/main.c    **** /**
 253:Src/main.c    ****  * @brief  æ£€æŸ¥å¹¶è§¦å‘æ•´ç‚¹æŠ¥æ—¶
 254:Src/main.c    ****  * @note   æ–°é€»è¾‘ï¼šä»æ¯å°æ—¶çš„59åˆ†55ç§’å¼€å§‹ï¼Œæ¯ç§’å“ä¸€æ¬¡çŸ­éŸ³ï¼ˆ100msï¼‰
 255:Src/main.c    ****  *         ä¸€ç›´åˆ°ä¸‹ä¸ªå°æ—¶çš„00åˆ†00ç§’ï¼Œå…±6æ¬¡
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 11


 256:Src/main.c    ****  *         æœ€åä¸€æ¬¡ï¼ˆ00:00ï¼‰å“é•¿éŸ³ï¼ˆ1000msï¼‰
 257:Src/main.c    ****  *         é¿å…ä¸é—¹é’Ÿå†²çª
 258:Src/main.c    ****  * @param  None
 259:Src/main.c    ****  * @retval None
 260:Src/main.c    ****  */
 261:Src/main.c    **** void checkRingOnTime(){
 293              		.loc 1 261 23 is_stmt 1 view -0
 294              		.cfi_startproc
 295              		@ args = 0, pretend = 0, frame = 0
 296              		@ frame_needed = 0, uses_anonymous_args = 0
 262:Src/main.c    **** 	// æ£€æŸ¥æ•´ç‚¹æŠ¥æ—¶æ˜¯å¦å¼€å¯
 263:Src/main.c    **** 	if(!isRingOnTimeEnabled){
 297              		.loc 1 263 2 view .LVU65
 298              		.loc 1 263 5 is_stmt 0 view .LVU66
 299 0000 2C4B     		ldr	r3, .L34
 261:Src/main.c    **** 	// æ£€æŸ¥æ•´ç‚¹æŠ¥æ—¶æ˜¯å¦å¼€å¯
 300              		.loc 1 261 23 view .LVU67
 301 0002 70B5     		push	{r4, r5, r6, lr}
 302              	.LCFI2:
 303              		.cfi_def_cfa_offset 16
 304              		.cfi_offset 4, -16
 305              		.cfi_offset 5, -12
 306              		.cfi_offset 6, -8
 307              		.cfi_offset 14, -4
 308              		.loc 1 263 4 view .LVU68
 309 0004 1B78     		ldrb	r3, [r3]
 310 0006 002B     		cmp	r3, #0
 311 0008 0BD0     		beq	.L12
 264:Src/main.c    **** 		return;
 265:Src/main.c    **** 	}
 266:Src/main.c    **** 
 267:Src/main.c    **** 	// æ£€æŸ¥æ˜¯å¦åœ¨æ•´ç‚¹æŠ¥æ—¶æ—¶é—´æ®µå†…
 268:Src/main.c    **** 	bool inTimeRange = false;
 312              		.loc 1 268 2 is_stmt 1 view .LVU69
 313              	.LVL2:
 269:Src/main.c    **** 	if(ringOnTimeStart <= ringOnTimeStop){
 314              		.loc 1 269 2 view .LVU70
 315              		.loc 1 269 21 is_stmt 0 view .LVU71
 316 000a 2B4B     		ldr	r3, .L34+4
 270:Src/main.c    **** 		// æ­£å¸¸æ—¶é—´æ®µï¼ˆå¦‚8:00-20:00ï¼‰
 271:Src/main.c    **** 		inTimeRange = (time.hours >= ringOnTimeStart && time.hours <= ringOnTimeStop);
 317              		.loc 1 271 22 view .LVU72
 318 000c 2B4D     		ldr	r5, .L34+8
 269:Src/main.c    **** 	if(ringOnTimeStart <= ringOnTimeStop){
 319              		.loc 1 269 21 view .LVU73
 320 000e 1978     		ldrb	r1, [r3]
 321 0010 2B4B     		ldr	r3, .L34+12
 322 0012 1A78     		ldrb	r2, [r3]
 323              		.loc 1 271 22 view .LVU74
 324 0014 EB78     		ldrb	r3, [r5, #3]
 269:Src/main.c    **** 	if(ringOnTimeStart <= ringOnTimeStop){
 325              		.loc 1 269 4 view .LVU75
 326 0016 9142     		cmp	r1, r2
 327 0018 04D8     		bhi	.L14
 328              		.loc 1 271 3 is_stmt 1 view .LVU76
 329              		.loc 1 271 48 is_stmt 0 view .LVU77
 330 001a 9942     		cmp	r1, r3
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 12


 331 001c 01D8     		bhi	.L12
 332              	.L32:
 272:Src/main.c    **** 	}
 273:Src/main.c    **** 	else{
 274:Src/main.c    **** 		// è·¨å¤©æ—¶é—´æ®µï¼ˆå¦‚22:00-6:00ï¼‰
 275:Src/main.c    **** 		inTimeRange = (time.hours >= ringOnTimeStart || time.hours <= ringOnTimeStop);
 333              		.loc 1 275 48 discriminator 2 view .LVU78
 334 001e 9A42     		cmp	r2, r3
 335 0020 02D2     		bcs	.L15
 336              	.LVL3:
 337              	.L12:
 276:Src/main.c    **** 	}
 277:Src/main.c    **** 
 278:Src/main.c    **** 	if(!inTimeRange){
 279:Src/main.c    **** 		return;
 280:Src/main.c    **** 	}
 281:Src/main.c    **** 
 282:Src/main.c    **** 	// é¿å…ä¸é—¹é’Ÿå†²çªï¼šå¦‚æœé—¹é’Ÿå¼€å¯ä¸”è®¾ç½®åœ¨æ•´ç‚¹ï¼Œåˆ™ä¸æŠ¥æ—¶
 283:Src/main.c    **** 	if(isAlarmEnabled && alarmMin == 0 && alarmHour == time.hours){
 284:Src/main.c    **** 		return;
 285:Src/main.c    **** 	}
 286:Src/main.c    **** 
 287:Src/main.c    **** 	// æ•´ç‚¹æŠ¥æ—¶é€»è¾‘ï¼š59åˆ†55ç§’åˆ°00åˆ†00ç§’ï¼Œå…±6æ¬¡
 288:Src/main.c    **** 	if(time.minutes == 59 && time.seconds >= 55){
 289:Src/main.c    **** 		// å€’è®¡æ—¶é˜¶æ®µï¼š55ç§’ã€56ç§’ã€57ç§’ã€58ç§’ã€59ç§’ï¼ˆçŸ­éŸ³ï¼‰
 290:Src/main.c    **** 		if(lastChimeSecond != time.seconds){
 291:Src/main.c    **** 			// çŸ­éŸ³ï¼š100ms
 292:Src/main.c    **** 			ringStartTime = HAL_GetTick();
 293:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 294:Src/main.c    **** 			isChiming = true;
 295:Src/main.c    **** 			lastChimeSecond = time.seconds;
 296:Src/main.c    **** 		}
 297:Src/main.c    **** 	}
 298:Src/main.c    **** 	else if(time.minutes == 0 && time.seconds == 0){
 299:Src/main.c    **** 		// æ•´ç‚¹ï¼š00åˆ†00ç§’ï¼ˆé•¿éŸ³ï¼‰
 300:Src/main.c    **** 		if(lastChimeSecond != 0){
 301:Src/main.c    **** 			// é•¿éŸ³ï¼š1000ms
 302:Src/main.c    **** 			ringStartTime = HAL_GetTick();
 303:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 304:Src/main.c    **** 			isChiming = true;
 305:Src/main.c    **** 			lastChimeSecond = 0;
 306:Src/main.c    **** 			lastRingOnTimeHour = time.hours;  // è®°å½•å·²æŠ¥æ—¶çš„å°æ—¶
 307:Src/main.c    **** 		}
 308:Src/main.c    **** 	}
 309:Src/main.c    **** 	else{
 310:Src/main.c    **** 		// å…¶ä»–æ—¶é—´ï¼Œé‡ç½®ç§’æ•°æ ‡å¿—
 311:Src/main.c    **** 		if(time.seconds > 0){
 312:Src/main.c    **** 			lastChimeSecond = 0xFF;
 313:Src/main.c    **** 		}
 314:Src/main.c    **** 	}
 315:Src/main.c    **** }
 338              		.loc 1 315 1 view .LVU79
 339              		@ sp needed
 340 0022 70BD     		pop	{r4, r5, r6, pc}
 341              	.LVL4:
 342              	.L14:
 275:Src/main.c    **** 	}
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 13


 343              		.loc 1 275 3 is_stmt 1 view .LVU80
 275:Src/main.c    **** 	}
 344              		.loc 1 275 48 is_stmt 0 view .LVU81
 345 0024 9942     		cmp	r1, r3
 346 0026 FAD8     		bhi	.L32
 347              	.L15:
 348              	.LBB10:
 349              	.LBI10:
 261:Src/main.c    **** 	// æ£€æŸ¥æ•´ç‚¹æŠ¥æ—¶æ˜¯å¦å¼€å¯
 350              		.loc 1 261 6 is_stmt 1 view .LVU82
 351              	.LBB11:
 283:Src/main.c    **** 		return;
 352              		.loc 1 283 2 view .LVU83
 283:Src/main.c    **** 		return;
 353              		.loc 1 283 5 is_stmt 0 view .LVU84
 354 0028 264A     		ldr	r2, .L34+16
 283:Src/main.c    **** 		return;
 355              		.loc 1 283 4 view .LVU85
 356 002a 1278     		ldrb	r2, [r2]
 357 002c 002A     		cmp	r2, #0
 358 002e 07D0     		beq	.L16
 283:Src/main.c    **** 		return;
 359              		.loc 1 283 32 discriminator 1 view .LVU86
 360 0030 254A     		ldr	r2, .L34+20
 283:Src/main.c    **** 		return;
 361              		.loc 1 283 20 discriminator 1 view .LVU87
 362 0032 1278     		ldrb	r2, [r2]
 363 0034 002A     		cmp	r2, #0
 364 0036 03D1     		bne	.L16
 283:Src/main.c    **** 		return;
 365              		.loc 1 283 50 discriminator 2 view .LVU88
 366 0038 244A     		ldr	r2, .L34+24
 283:Src/main.c    **** 		return;
 367              		.loc 1 283 37 discriminator 2 view .LVU89
 368 003a 1278     		ldrb	r2, [r2]
 369 003c 9A42     		cmp	r2, r3
 370 003e F0D0     		beq	.L12
 371              	.L16:
 288:Src/main.c    **** 		// å€’è®¡æ—¶é˜¶æ®µï¼š55ç§’ã€56ç§’ã€57ç§’ã€58ç§’ã€59ç§’ï¼ˆçŸ­éŸ³ï¼‰
 372              		.loc 1 288 2 is_stmt 1 view .LVU90
 288:Src/main.c    **** 		// å€’è®¡æ—¶é˜¶æ®µï¼š55ç§’ã€56ç§’ã€57ç§’ã€58ç§’ã€59ç§’ï¼ˆçŸ­éŸ³ï¼‰
 373              		.loc 1 288 9 is_stmt 0 view .LVU91
 374 0040 6B78     		ldrb	r3, [r5, #1]
 288:Src/main.c    **** 		// å€’è®¡æ—¶é˜¶æ®µï¼š55ç§’ã€56ç§’ã€57ç§’ã€58ç§’ã€59ç§’ï¼ˆçŸ­éŸ³ï¼‰
 375              		.loc 1 288 31 discriminator 1 view .LVU92
 376 0042 2C78     		ldrb	r4, [r5]
 288:Src/main.c    **** 		// å€’è®¡æ—¶é˜¶æ®µï¼š55ç§’ã€56ç§’ã€57ç§’ã€58ç§’ã€59ç§’ï¼ˆçŸ­éŸ³ï¼‰
 377              		.loc 1 288 4 view .LVU93
 378 0044 3B2B     		cmp	r3, #59
 379 0046 15D1     		bne	.L17
 288:Src/main.c    **** 		// å€’è®¡æ—¶é˜¶æ®µï¼š55ç§’ã€56ç§’ã€57ç§’ã€58ç§’ã€59ç§’ï¼ˆçŸ­éŸ³ï¼‰
 380              		.loc 1 288 24 discriminator 1 view .LVU94
 381 0048 362C     		cmp	r4, #54
 382 004a 2DD9     		bls	.L18
 290:Src/main.c    **** 			// çŸ­éŸ³ï¼š100ms
 383              		.loc 1 290 3 is_stmt 1 view .LVU95
 290:Src/main.c    **** 			// çŸ­éŸ³ï¼š100ms
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 14


 384              		.loc 1 290 22 is_stmt 0 view .LVU96
 385 004c 204E     		ldr	r6, .L34+28
 290:Src/main.c    **** 			// çŸ­éŸ³ï¼š100ms
 386              		.loc 1 290 5 view .LVU97
 387 004e 3378     		ldrb	r3, [r6]
 388 0050 A342     		cmp	r3, r4
 389 0052 E6D0     		beq	.L12
 292:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 390              		.loc 1 292 4 is_stmt 1 view .LVU98
 292:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 391              		.loc 1 292 20 is_stmt 0 view .LVU99
 392 0054 FFF7FEFF 		bl	HAL_GetTick
 393              	.LVL5:
 292:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 394              		.loc 1 292 18 discriminator 1 view .LVU100
 395 0058 1E4B     		ldr	r3, .L34+32
 293:Src/main.c    **** 			isChiming = true;
 396              		.loc 1 293 4 view .LVU101
 397 005a 0022     		movs	r2, #0
 292:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 398              		.loc 1 292 18 discriminator 1 view .LVU102
 399 005c 1860     		str	r0, [r3]
 293:Src/main.c    **** 			isChiming = true;
 400              		.loc 1 293 4 is_stmt 1 view .LVU103
 401 005e 9020     		movs	r0, #144
 402 0060 4021     		movs	r1, #64
 403 0062 C005     		lsls	r0, r0, #23
 404 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 405              	.LVL6:
 294:Src/main.c    **** 			lastChimeSecond = time.seconds;
 406              		.loc 1 294 4 view .LVU104
 294:Src/main.c    **** 			lastChimeSecond = time.seconds;
 407              		.loc 1 294 14 is_stmt 0 view .LVU105
 408 0068 0122     		movs	r2, #1
 409 006a 1B4B     		ldr	r3, .L34+36
 410 006c 1A70     		strb	r2, [r3]
 295:Src/main.c    **** 		}
 411              		.loc 1 295 4 is_stmt 1 view .LVU106
 295:Src/main.c    **** 		}
 412              		.loc 1 295 20 is_stmt 0 view .LVU107
 413 006e 2B78     		ldrb	r3, [r5]
 414 0070 3370     		strb	r3, [r6]
 415 0072 D6E7     		b	.L12
 416              	.L17:
 298:Src/main.c    **** 		// æ•´ç‚¹ï¼š00åˆ†00ç§’ï¼ˆé•¿éŸ³ï¼‰
 417              		.loc 1 298 7 is_stmt 1 view .LVU108
 298:Src/main.c    **** 		// æ•´ç‚¹ï¼š00åˆ†00ç§’ï¼ˆé•¿éŸ³ï¼‰
 418              		.loc 1 298 9 is_stmt 0 view .LVU109
 419 0074 002B     		cmp	r3, #0
 420 0076 17D1     		bne	.L18
 298:Src/main.c    **** 		// æ•´ç‚¹ï¼š00åˆ†00ç§’ï¼ˆé•¿éŸ³ï¼‰
 421              		.loc 1 298 28 discriminator 1 view .LVU110
 422 0078 002C     		cmp	r4, #0
 423 007a 17D1     		bne	.L19
 300:Src/main.c    **** 			// é•¿éŸ³ï¼š1000ms
 424              		.loc 1 300 3 is_stmt 1 view .LVU111
 300:Src/main.c    **** 			// é•¿éŸ³ï¼š1000ms
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 15


 425              		.loc 1 300 22 is_stmt 0 view .LVU112
 426 007c 144E     		ldr	r6, .L34+28
 300:Src/main.c    **** 			// é•¿éŸ³ï¼š1000ms
 427              		.loc 1 300 5 view .LVU113
 428 007e 3378     		ldrb	r3, [r6]
 429 0080 002B     		cmp	r3, #0
 430 0082 CED0     		beq	.L12
 302:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 431              		.loc 1 302 4 is_stmt 1 view .LVU114
 302:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 432              		.loc 1 302 20 is_stmt 0 view .LVU115
 433 0084 FFF7FEFF 		bl	HAL_GetTick
 434              	.LVL7:
 302:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 435              		.loc 1 302 18 discriminator 1 view .LVU116
 436 0088 124B     		ldr	r3, .L34+32
 303:Src/main.c    **** 			isChiming = true;
 437              		.loc 1 303 4 view .LVU117
 438 008a 2200     		movs	r2, r4
 302:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_RESET);
 439              		.loc 1 302 18 discriminator 1 view .LVU118
 440 008c 1860     		str	r0, [r3]
 303:Src/main.c    **** 			isChiming = true;
 441              		.loc 1 303 4 is_stmt 1 view .LVU119
 442 008e 9020     		movs	r0, #144
 443 0090 4021     		movs	r1, #64
 444 0092 C005     		lsls	r0, r0, #23
 445 0094 FFF7FEFF 		bl	HAL_GPIO_WritePin
 446              	.LVL8:
 304:Src/main.c    **** 			lastChimeSecond = 0;
 447              		.loc 1 304 4 view .LVU120
 304:Src/main.c    **** 			lastChimeSecond = 0;
 448              		.loc 1 304 14 is_stmt 0 view .LVU121
 449 0098 0122     		movs	r2, #1
 450 009a 0F4B     		ldr	r3, .L34+36
 305:Src/main.c    **** 			lastRingOnTimeHour = time.hours;  // è®°å½•å·²æŠ¥æ—¶çš„å°æ—¶
 451              		.loc 1 305 20 view .LVU122
 452 009c 3470     		strb	r4, [r6]
 304:Src/main.c    **** 			lastChimeSecond = 0;
 453              		.loc 1 304 14 view .LVU123
 454 009e 1A70     		strb	r2, [r3]
 305:Src/main.c    **** 			lastRingOnTimeHour = time.hours;  // è®°å½•å·²æŠ¥æ—¶çš„å°æ—¶
 455              		.loc 1 305 4 is_stmt 1 view .LVU124
 306:Src/main.c    **** 		}
 456              		.loc 1 306 4 view .LVU125
 306:Src/main.c    **** 		}
 457              		.loc 1 306 23 is_stmt 0 view .LVU126
 458 00a0 EA78     		ldrb	r2, [r5, #3]
 459 00a2 0E4B     		ldr	r3, .L34+40
 460              	.L33:
 312:Src/main.c    **** 		}
 461              		.loc 1 312 20 view .LVU127
 462 00a4 1A70     		strb	r2, [r3]
 463              	.LVL9:
 312:Src/main.c    **** 		}
 464              		.loc 1 312 20 view .LVU128
 465 00a6 BCE7     		b	.L12
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 16


 466              	.LVL10:
 467              	.L18:
 311:Src/main.c    **** 			lastChimeSecond = 0xFF;
 468              		.loc 1 311 3 is_stmt 1 view .LVU129
 311:Src/main.c    **** 			lastChimeSecond = 0xFF;
 469              		.loc 1 311 5 is_stmt 0 view .LVU130
 470 00a8 002C     		cmp	r4, #0
 471 00aa BAD0     		beq	.L12
 472              	.L19:
 312:Src/main.c    **** 		}
 473              		.loc 1 312 4 is_stmt 1 view .LVU131
 312:Src/main.c    **** 		}
 474              		.loc 1 312 20 is_stmt 0 view .LVU132
 475 00ac FF22     		movs	r2, #255
 476 00ae 084B     		ldr	r3, .L34+28
 477 00b0 F8E7     		b	.L33
 478              	.L35:
 479 00b2 C046     		.align	2
 480              	.L34:
 481 00b4 00000000 		.word	isRingOnTimeEnabled
 482 00b8 00000000 		.word	ringOnTimeStart
 483 00bc 00000000 		.word	time
 484 00c0 00000000 		.word	ringOnTimeStop
 485 00c4 00000000 		.word	isAlarmEnabled
 486 00c8 00000000 		.word	alarmMin
 487 00cc 00000000 		.word	alarmHour
 488 00d0 00000000 		.word	lastChimeSecond
 489 00d4 00000000 		.word	ringStartTime
 490 00d8 00000000 		.word	isChiming
 491 00dc 00000000 		.word	lastRingOnTimeHour
 492              	.LBE11:
 493              	.LBE10:
 494              		.cfi_endproc
 495              	.LFE40:
 497              		.section	.text.alarmStart,"ax",%progbits
 498              		.align	1
 499              		.global	alarmStart
 500              		.syntax unified
 501              		.code	16
 502              		.thumb_func
 504              	alarmStart:
 505              	.LFB41:
 316:Src/main.c    **** 
 317:Src/main.c    **** void alarmStart(){
 506              		.loc 1 317 18 is_stmt 1 view -0
 507              		.cfi_startproc
 508              		@ args = 0, pretend = 0, frame = 0
 509              		@ frame_needed = 0, uses_anonymous_args = 0
 318:Src/main.c    **** 	isAlarming = true;
 510              		.loc 1 318 2 view .LVU134
 511              		.loc 1 318 13 is_stmt 0 view .LVU135
 512 0000 0122     		movs	r2, #1
 317:Src/main.c    **** 	isAlarming = true;
 513              		.loc 1 317 18 view .LVU136
 514 0002 10B5     		push	{r4, lr}
 515              	.LCFI3:
 516              		.cfi_def_cfa_offset 8
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 17


 517              		.cfi_offset 4, -8
 518              		.cfi_offset 14, -4
 519              		.loc 1 318 13 view .LVU137
 520 0004 034B     		ldr	r3, .L37
 319:Src/main.c    **** 	isAlarmed = true;
 320:Src/main.c    **** 	HAL_TIM_Base_Start_IT(&ALARM_CONTROL_TIMER_HANDLE);
 521              		.loc 1 320 2 view .LVU138
 522 0006 0448     		ldr	r0, .L37+4
 318:Src/main.c    **** 	isAlarmed = true;
 523              		.loc 1 318 13 view .LVU139
 524 0008 1A70     		strb	r2, [r3]
 319:Src/main.c    **** 	isAlarmed = true;
 525              		.loc 1 319 2 is_stmt 1 view .LVU140
 319:Src/main.c    **** 	isAlarmed = true;
 526              		.loc 1 319 12 is_stmt 0 view .LVU141
 527 000a 044B     		ldr	r3, .L37+8
 321:Src/main.c    **** }
 528              		.loc 1 321 1 view .LVU142
 529              		@ sp needed
 319:Src/main.c    **** 	isAlarmed = true;
 530              		.loc 1 319 12 view .LVU143
 531 000c 1A70     		strb	r2, [r3]
 320:Src/main.c    **** }
 532              		.loc 1 320 2 is_stmt 1 view .LVU144
 533 000e FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 534              	.LVL11:
 535              		.loc 1 321 1 is_stmt 0 view .LVU145
 536 0012 10BD     		pop	{r4, pc}
 537              	.L38:
 538              		.align	2
 539              	.L37:
 540 0014 00000000 		.word	isAlarming
 541 0018 00000000 		.word	htim17
 542 001c 00000000 		.word	isAlarmed
 543              		.cfi_endproc
 544              	.LFE41:
 546              		.section	.text.alarmTimerTick,"ax",%progbits
 547              		.align	1
 548              		.global	alarmTimerTick
 549              		.syntax unified
 550              		.code	16
 551              		.thumb_func
 553              	alarmTimerTick:
 554              	.LFB42:
 322:Src/main.c    **** 
 323:Src/main.c    **** void alarmTimerTick()
 324:Src/main.c    **** {
 555              		.loc 1 324 1 is_stmt 1 view -0
 556              		.cfi_startproc
 557              		@ args = 0, pretend = 0, frame = 0
 558              		@ frame_needed = 0, uses_anonymous_args = 0
 325:Src/main.c    ****     uint16_t onTime = 50, offTime = 50, restTime = 500;
 559              		.loc 1 325 5 view .LVU147
 560              	.LVL12:
 326:Src/main.c    ****     uint8_t ringCounts = 4;
 561              		.loc 1 326 5 view .LVU148
 327:Src/main.c    **** 	alarmTimestamp ++;
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 18


 562              		.loc 1 327 2 view .LVU149
 328:Src/main.c    **** 	if(HAL_GPIO_ReadPin(BUZZER_GPIO_PORT, BUZZER_PIN) == GPIO_PIN_RESET)
 563              		.loc 1 328 5 is_stmt 0 view .LVU150
 564 0000 9020     		movs	r0, #144
 324:Src/main.c    ****     uint16_t onTime = 50, offTime = 50, restTime = 500;
 565              		.loc 1 324 1 view .LVU151
 566 0002 70B5     		push	{r4, r5, r6, lr}
 567              	.LCFI4:
 568              		.cfi_def_cfa_offset 16
 569              		.cfi_offset 4, -16
 570              		.cfi_offset 5, -12
 571              		.cfi_offset 6, -8
 572              		.cfi_offset 14, -4
 327:Src/main.c    **** 	alarmTimestamp ++;
 573              		.loc 1 327 17 view .LVU152
 574 0004 1A4C     		ldr	r4, .L43
 575              		.loc 1 328 5 view .LVU153
 576 0006 4021     		movs	r1, #64
 327:Src/main.c    **** 	alarmTimestamp ++;
 577              		.loc 1 327 17 view .LVU154
 578 0008 2368     		ldr	r3, [r4]
 579              		.loc 1 328 5 view .LVU155
 580 000a C005     		lsls	r0, r0, #23
 327:Src/main.c    **** 	alarmTimestamp ++;
 581              		.loc 1 327 17 view .LVU156
 582 000c 0133     		adds	r3, r3, #1
 583 000e 2360     		str	r3, [r4]
 584              		.loc 1 328 2 is_stmt 1 view .LVU157
 585              		.loc 1 328 5 is_stmt 0 view .LVU158
 586 0010 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 587              	.LVL13:
 329:Src/main.c    **** 	{
 330:Src/main.c    **** 		// ï¿½ï¿½ï¿½ï¿½XXï¿½ï¿½ï¿½ï¿½
 331:Src/main.c    **** 		if(alarmTimestamp > onTime){
 588              		.loc 1 331 5 view .LVU159
 589 0014 2368     		ldr	r3, [r4]
 328:Src/main.c    **** 	{
 590              		.loc 1 328 5 view .LVU160
 591 0016 051E     		subs	r5, r0, #0
 328:Src/main.c    **** 	{
 592              		.loc 1 328 4 discriminator 1 view .LVU161
 593 0018 0DD1     		bne	.L40
 594              		.loc 1 331 3 is_stmt 1 view .LVU162
 595              		.loc 1 331 5 is_stmt 0 view .LVU163
 596 001a 322B     		cmp	r3, #50
 597 001c 0AD9     		bls	.L39
 332:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, SET);
 598              		.loc 1 332 4 is_stmt 1 view .LVU164
 599 001e 9020     		movs	r0, #144
 600 0020 0122     		movs	r2, #1
 601 0022 4021     		movs	r1, #64
 602 0024 C005     		lsls	r0, r0, #23
 603 0026 FFF7FEFF 		bl	HAL_GPIO_WritePin
 604              	.LVL14:
 333:Src/main.c    **** 			alarmBeepCount ++;
 605              		.loc 1 333 4 view .LVU165
 606              		.loc 1 333 19 is_stmt 0 view .LVU166
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 19


 607 002a 124A     		ldr	r2, .L43+4
 334:Src/main.c    **** 			alarmTimestamp = 0;
 608              		.loc 1 334 19 view .LVU167
 609 002c 2560     		str	r5, [r4]
 333:Src/main.c    **** 			alarmBeepCount ++;
 610              		.loc 1 333 19 view .LVU168
 611 002e 1368     		ldr	r3, [r2]
 612 0030 0133     		adds	r3, r3, #1
 613 0032 1360     		str	r3, [r2]
 614              		.loc 1 334 4 is_stmt 1 view .LVU169
 615              	.L39:
 335:Src/main.c    **** 		}
 336:Src/main.c    **** 	}
 337:Src/main.c    **** 	else
 338:Src/main.c    **** 	{
 339:Src/main.c    **** 		// ï¿½ï¿½X+1ï¿½ï¿½
 340:Src/main.c    **** 		if(alarmBeepCount < ringCounts)
 341:Src/main.c    **** 		{
 342:Src/main.c    **** 			// ï¿½ï¿½ï¿½Î¶ï¿½ï¿½ï¿½Ê±ï¿½ï¿½ï¿½ï¿½
 343:Src/main.c    **** 			if(alarmTimestamp > offTime)
 344:Src/main.c    **** 			{
 345:Src/main.c    **** 				HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, RESET);
 346:Src/main.c    **** 				alarmTimestamp = 0;
 347:Src/main.c    **** 			}
 348:Src/main.c    **** 
 349:Src/main.c    **** 		}
 350:Src/main.c    **** 		// ï¿½ï¿½X+1ï¿½Îºï¿½Í£Ö¹ï¿½ï¿½ï¿½ï¿½Ò»ï¿½ï¿½Ê±ï¿½ï¿½
 351:Src/main.c    **** 		else if(alarmTimestamp > restTime)
 352:Src/main.c    **** 		{
 353:Src/main.c    **** 			HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, RESET);
 354:Src/main.c    **** 			alarmTimestamp = 0;
 355:Src/main.c    **** 			alarmBeepCount = 0;
 356:Src/main.c    **** 		}
 357:Src/main.c    **** 	}
 358:Src/main.c    **** }
 616              		.loc 1 358 1 is_stmt 0 view .LVU170
 617              		@ sp needed
 618 0034 70BD     		pop	{r4, r5, r6, pc}
 619              	.L40:
 620              	.LBB14:
 621              	.LBI14:
 323:Src/main.c    **** {
 622              		.loc 1 323 6 is_stmt 1 view .LVU171
 623              	.LBB15:
 340:Src/main.c    **** 		{
 624              		.loc 1 340 3 view .LVU172
 340:Src/main.c    **** 		{
 625              		.loc 1 340 21 is_stmt 0 view .LVU173
 626 0036 0F4D     		ldr	r5, .L43+4
 340:Src/main.c    **** 		{
 627              		.loc 1 340 5 view .LVU174
 628 0038 2A68     		ldr	r2, [r5]
 629 003a 032A     		cmp	r2, #3
 630 003c 0AD8     		bhi	.L42
 343:Src/main.c    **** 			{
 631              		.loc 1 343 4 is_stmt 1 view .LVU175
 343:Src/main.c    **** 			{
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 20


 632              		.loc 1 343 6 is_stmt 0 view .LVU176
 633 003e 322B     		cmp	r3, #50
 634 0040 F8D9     		bls	.L39
 345:Src/main.c    **** 				alarmTimestamp = 0;
 635              		.loc 1 345 5 is_stmt 1 view .LVU177
 636 0042 9020     		movs	r0, #144
 637 0044 0022     		movs	r2, #0
 638 0046 4021     		movs	r1, #64
 639 0048 C005     		lsls	r0, r0, #23
 640 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
 641              	.LVL15:
 346:Src/main.c    **** 			}
 642              		.loc 1 346 5 view .LVU178
 346:Src/main.c    **** 			}
 643              		.loc 1 346 20 is_stmt 0 view .LVU179
 644 004e 0023     		movs	r3, #0
 645 0050 2360     		str	r3, [r4]
 646 0052 EFE7     		b	.L39
 647              	.L42:
 351:Src/main.c    **** 		{
 648              		.loc 1 351 8 is_stmt 1 view .LVU180
 351:Src/main.c    **** 		{
 649              		.loc 1 351 10 is_stmt 0 view .LVU181
 650 0054 FA22     		movs	r2, #250
 651 0056 5200     		lsls	r2, r2, #1
 652 0058 9342     		cmp	r3, r2
 653 005a EBD9     		bls	.L39
 353:Src/main.c    **** 			alarmTimestamp = 0;
 654              		.loc 1 353 4 is_stmt 1 view .LVU182
 655 005c 9020     		movs	r0, #144
 656 005e 0022     		movs	r2, #0
 657 0060 4021     		movs	r1, #64
 658 0062 C005     		lsls	r0, r0, #23
 659 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 660              	.LVL16:
 354:Src/main.c    **** 			alarmBeepCount = 0;
 661              		.loc 1 354 4 view .LVU183
 354:Src/main.c    **** 			alarmBeepCount = 0;
 662              		.loc 1 354 19 is_stmt 0 view .LVU184
 663 0068 0023     		movs	r3, #0
 664 006a 2360     		str	r3, [r4]
 355:Src/main.c    **** 		}
 665              		.loc 1 355 4 is_stmt 1 view .LVU185
 355:Src/main.c    **** 		}
 666              		.loc 1 355 19 is_stmt 0 view .LVU186
 667 006c 2B60     		str	r3, [r5]
 668              	.LBE15:
 669              	.LBE14:
 670              		.loc 1 358 1 view .LVU187
 671 006e E1E7     		b	.L39
 672              	.L44:
 673              		.align	2
 674              	.L43:
 675 0070 00000000 		.word	alarmTimestamp
 676 0074 00000000 		.word	alarmBeepCount
 677              		.cfi_endproc
 678              	.LFE42:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 21


 680              		.section	.text.alarmStop,"ax",%progbits
 681              		.align	1
 682              		.global	alarmStop
 683              		.syntax unified
 684              		.code	16
 685              		.thumb_func
 687              	alarmStop:
 688              	.LFB43:
 359:Src/main.c    **** 
 360:Src/main.c    **** void alarmStop(){
 689              		.loc 1 360 17 is_stmt 1 view -0
 690              		.cfi_startproc
 691              		@ args = 0, pretend = 0, frame = 0
 692              		@ frame_needed = 0, uses_anonymous_args = 0
 361:Src/main.c    **** 	isAlarming = false;
 693              		.loc 1 361 2 view .LVU189
 694              		.loc 1 361 13 is_stmt 0 view .LVU190
 695 0000 0022     		movs	r2, #0
 696 0002 064B     		ldr	r3, .L46
 360:Src/main.c    **** 	isAlarming = false;
 697              		.loc 1 360 17 view .LVU191
 698 0004 10B5     		push	{r4, lr}
 699              	.LCFI5:
 700              		.cfi_def_cfa_offset 8
 701              		.cfi_offset 4, -8
 702              		.cfi_offset 14, -4
 362:Src/main.c    **** 	HAL_TIM_Base_Stop_IT(&ALARM_CONTROL_TIMER_HANDLE);
 703              		.loc 1 362 2 view .LVU192
 704 0006 0648     		ldr	r0, .L46+4
 361:Src/main.c    **** 	isAlarming = false;
 705              		.loc 1 361 13 view .LVU193
 706 0008 1A70     		strb	r2, [r3]
 707              		.loc 1 362 2 is_stmt 1 view .LVU194
 708 000a FFF7FEFF 		bl	HAL_TIM_Base_Stop_IT
 709              	.LVL17:
 363:Src/main.c    **** 	HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, SET);
 710              		.loc 1 363 2 view .LVU195
 364:Src/main.c    **** }
 711              		.loc 1 364 1 is_stmt 0 view .LVU196
 712              		@ sp needed
 363:Src/main.c    **** 	HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, SET);
 713              		.loc 1 363 2 view .LVU197
 714 000e 9020     		movs	r0, #144
 715 0010 0122     		movs	r2, #1
 716 0012 4021     		movs	r1, #64
 717 0014 C005     		lsls	r0, r0, #23
 718 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 719              	.LVL18:
 720              		.loc 1 364 1 view .LVU198
 721 001a 10BD     		pop	{r4, pc}
 722              	.L47:
 723              		.align	2
 724              	.L46:
 725 001c 00000000 		.word	isAlarming
 726 0020 00000000 		.word	htim17
 727              		.cfi_endproc
 728              	.LFE43:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 22


 730              		.section	.text.checkAlarm,"ax",%progbits
 731              		.align	1
 732              		.global	checkAlarm
 733              		.syntax unified
 734              		.code	16
 735              		.thumb_func
 737              	checkAlarm:
 738              	.LFB44:
 365:Src/main.c    **** 
 366:Src/main.c    **** void checkAlarm(){
 739              		.loc 1 366 18 is_stmt 1 view -0
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 0
 742              		@ frame_needed = 0, uses_anonymous_args = 0
 367:Src/main.c    **** 	if(alarmHour == time.hours && alarmMin == time.minutes && isAlarmed == false && isAlarmEnabled){
 743              		.loc 1 367 2 view .LVU200
 366:Src/main.c    **** 	if(alarmHour == time.hours && alarmMin == time.minutes && isAlarmed == false && isAlarmEnabled){
 744              		.loc 1 366 18 is_stmt 0 view .LVU201
 745 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 746              	.LCFI6:
 747              		.cfi_def_cfa_offset 24
 748              		.cfi_offset 3, -24
 749              		.cfi_offset 4, -20
 750              		.cfi_offset 5, -16
 751              		.cfi_offset 6, -12
 752              		.cfi_offset 7, -8
 753              		.cfi_offset 14, -4
 754              		.loc 1 367 22 view .LVU202
 755 0002 134C     		ldr	r4, .L60
 756              		.loc 1 367 15 view .LVU203
 757 0004 134E     		ldr	r6, .L60+4
 758              		.loc 1 367 4 view .LVU204
 759 0006 E278     		ldrb	r2, [r4, #3]
 760 0008 3378     		ldrb	r3, [r6]
 761 000a 134D     		ldr	r5, .L60+8
 762 000c 9A42     		cmp	r2, r3
 763 000e 08D0     		beq	.L49
 764              	.L53:
 368:Src/main.c    **** 		alarmStart();
 369:Src/main.c    **** 	}
 370:Src/main.c    **** 
 371:Src/main.c    **** 	if(alarmHour != time.hours || alarmMin != time.minutes){
 372:Src/main.c    **** 		if(isAlarming){
 765              		.loc 1 372 3 is_stmt 1 view .LVU205
 766              		.loc 1 372 6 is_stmt 0 view .LVU206
 767 0010 124B     		ldr	r3, .L60+12
 768              		.loc 1 372 5 view .LVU207
 769 0012 1B78     		ldrb	r3, [r3]
 770 0014 002B     		cmp	r3, #0
 771 0016 01D0     		beq	.L51
 373:Src/main.c    **** 			alarmStop();
 772              		.loc 1 373 4 is_stmt 1 view .LVU208
 773 0018 FFF7FEFF 		bl	alarmStop
 774              	.LVL19:
 775              	.L51:
 374:Src/main.c    **** 		}
 375:Src/main.c    **** 		isAlarmed = false;
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 23


 776              		.loc 1 375 3 view .LVU209
 777              		.loc 1 375 13 is_stmt 0 view .LVU210
 778 001c 0023     		movs	r3, #0
 779 001e 2B70     		strb	r3, [r5]
 376:Src/main.c    **** 	}
 377:Src/main.c    **** }
 780              		.loc 1 377 1 view .LVU211
 781 0020 15E0     		b	.L48
 782              	.L49:
 367:Src/main.c    **** 		alarmStart();
 783              		.loc 1 367 41 discriminator 1 view .LVU212
 784 0022 0F4F     		ldr	r7, .L60+16
 367:Src/main.c    **** 		alarmStart();
 785              		.loc 1 367 29 discriminator 1 view .LVU213
 786 0024 6278     		ldrb	r2, [r4, #1]
 787 0026 3B78     		ldrb	r3, [r7]
 788 0028 9A42     		cmp	r2, r3
 789 002a F1D1     		bne	.L53
 367:Src/main.c    **** 		alarmStart();
 790              		.loc 1 367 57 discriminator 2 view .LVU214
 791 002c 2B78     		ldrb	r3, [r5]
 792 002e 002B     		cmp	r3, #0
 793 0030 0DD1     		bne	.L48
 367:Src/main.c    **** 		alarmStart();
 794              		.loc 1 367 79 discriminator 3 view .LVU215
 795 0032 0C4B     		ldr	r3, .L60+20
 796 0034 1B78     		ldrb	r3, [r3]
 797 0036 002B     		cmp	r3, #0
 798 0038 09D0     		beq	.L48
 368:Src/main.c    **** 	}
 799              		.loc 1 368 3 is_stmt 1 view .LVU216
 800 003a FFF7FEFF 		bl	alarmStart
 801              	.LVL20:
 371:Src/main.c    **** 		if(isAlarming){
 802              		.loc 1 371 2 view .LVU217
 371:Src/main.c    **** 		if(isAlarming){
 803              		.loc 1 371 4 is_stmt 0 view .LVU218
 804 003e E278     		ldrb	r2, [r4, #3]
 805 0040 3378     		ldrb	r3, [r6]
 806 0042 9A42     		cmp	r2, r3
 807 0044 E4D1     		bne	.L53
 371:Src/main.c    **** 		if(isAlarming){
 808              		.loc 1 371 29 discriminator 1 view .LVU219
 809 0046 6278     		ldrb	r2, [r4, #1]
 810 0048 3B78     		ldrb	r3, [r7]
 811 004a 9A42     		cmp	r2, r3
 812 004c E0D1     		bne	.L53
 813              	.L48:
 814              		.loc 1 377 1 view .LVU220
 815              		@ sp needed
 816 004e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 817              	.L61:
 818              		.align	2
 819              	.L60:
 820 0050 00000000 		.word	time
 821 0054 00000000 		.word	alarmHour
 822 0058 00000000 		.word	isAlarmed
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 24


 823 005c 00000000 		.word	isAlarming
 824 0060 00000000 		.word	alarmMin
 825 0064 00000000 		.word	isAlarmEnabled
 826              		.cfi_endproc
 827              	.LFE44:
 829              		.section	.text.refreshTemperture,"ax",%progbits
 830              		.align	1
 831              		.global	refreshTemperture
 832              		.syntax unified
 833              		.code	16
 834              		.thumb_func
 836              	refreshTemperture:
 837              	.LFB45:
 378:Src/main.c    **** 
 379:Src/main.c    **** void refreshTemperture(){
 838              		.loc 1 379 25 is_stmt 1 view -0
 839              		.cfi_startproc
 840              		@ args = 0, pretend = 0, frame = 0
 841              		@ frame_needed = 0, uses_anonymous_args = 0
 380:Src/main.c    **** 	// ï¿½ï¿½ï¿½ï¿½ï¿½Â¶ï¿½×ªï¿½ï¿½ADC
 381:Src/main.c    **** 
 382:Src/main.c    **** 	uint32_t value;
 842              		.loc 1 382 2 view .LVU222
 383:Src/main.c    **** 	uint32_t srcValue = adcValue[1];
 843              		.loc 1 383 2 view .LVU223
 379:Src/main.c    **** 	// ï¿½ï¿½ï¿½ï¿½ï¿½Â¶ï¿½×ªï¿½ï¿½ADC
 844              		.loc 1 379 25 is_stmt 0 view .LVU224
 845 0000 30B5     		push	{r4, r5, lr}
 846              	.LCFI7:
 847              		.cfi_def_cfa_offset 12
 848              		.cfi_offset 4, -12
 849              		.cfi_offset 5, -8
 850              		.cfi_offset 14, -4
 851              		.loc 1 383 11 view .LVU225
 852 0002 134B     		ldr	r3, .L70
 384:Src/main.c    **** 
 385:Src/main.c    **** 	if(tempBuffered < TEMP_BUFFER_SIZE)
 853              		.loc 1 385 18 view .LVU226
 854 0004 134C     		ldr	r4, .L70+4
 383:Src/main.c    **** 
 855              		.loc 1 383 11 view .LVU227
 856 0006 5A68     		ldr	r2, [r3, #4]
 857              	.LVL21:
 858              		.loc 1 385 2 is_stmt 1 view .LVU228
 859              		.loc 1 385 18 is_stmt 0 view .LVU229
 860 0008 2178     		ldrb	r1, [r4]
 861 000a 134B     		ldr	r3, .L70+8
 386:Src/main.c    **** 	{
 387:Src/main.c    **** 		tempBuffer[tempBuffered++] = (uint16_t)srcValue;
 862              		.loc 1 387 32 view .LVU230
 863 000c 90B2     		uxth	r0, r2
 385:Src/main.c    **** 	{
 864              		.loc 1 385 4 view .LVU231
 865 000e 0729     		cmp	r1, #7
 866 0010 11D8     		bhi	.L63
 867              		.loc 1 387 3 is_stmt 1 view .LVU232
 868              		.loc 1 387 26 is_stmt 0 view .LVU233
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 25


 869 0012 4D1C     		adds	r5, r1, #1
 870              		.loc 1 387 30 view .LVU234
 871 0014 4900     		lsls	r1, r1, #1
 872              		.loc 1 387 26 view .LVU235
 873 0016 2570     		strb	r5, [r4]
 874              		.loc 1 387 30 view .LVU236
 875 0018 5852     		strh	r0, [r3, r1]
 388:Src/main.c    **** 		value = srcValue;
 876              		.loc 1 388 3 is_stmt 1 view .LVU237
 877              	.LVL22:
 878              	.L64:
 389:Src/main.c    **** 	}
 390:Src/main.c    **** 	else{
 391:Src/main.c    **** 		tempBuffer[TEMP_BUFFER_SIZE] = (uint16_t)srcValue;
 392:Src/main.c    **** 		value = 0;
 393:Src/main.c    **** 		for(uint8_t i = 0; i < TEMP_BUFFER_SIZE; i++)
 394:Src/main.c    **** 		{
 395:Src/main.c    **** 			tempBuffer[i] = tempBuffer[i+1];
 396:Src/main.c    **** 			value += tempBuffer[i];
 397:Src/main.c    **** 		}
 398:Src/main.c    **** 		value = value / TEMP_BUFFER_SIZE;
 399:Src/main.c    **** 	}
 400:Src/main.c    **** 
 401:Src/main.c    **** 	for(uint8_t i = 0; i < TEMP_MAP_SIZE; i++)
 879              		.loc 1 401 2 view .LVU238
 880              	.LBB16:
 881              		.loc 1 401 6 view .LVU239
 882              		.loc 1 401 23 discriminator 1 view .LVU240
 883              		.loc 1 401 14 is_stmt 0 view .LVU241
 884 001a 0023     		movs	r3, #0
 885 001c 0F49     		ldr	r1, .L70+12
 886              	.LVL23:
 887              	.L67:
 402:Src/main.c    **** 	{
 403:Src/main.c    **** 		if(value <= tempertureMap[i]){
 888              		.loc 1 403 3 is_stmt 1 view .LVU242
 889              		.loc 1 403 28 is_stmt 0 view .LVU243
 890 001e 0888     		ldrh	r0, [r1]
 891              		.loc 1 403 5 view .LVU244
 892 0020 9042     		cmp	r0, r2
 893 0022 05D2     		bcs	.L66
 401:Src/main.c    **** 	{
 894              		.loc 1 401 41 is_stmt 1 discriminator 2 view .LVU245
 895 0024 0133     		adds	r3, r3, #1
 896              	.LVL24:
 401:Src/main.c    **** 	{
 897              		.loc 1 401 41 is_stmt 0 discriminator 2 view .LVU246
 898 0026 DBB2     		uxtb	r3, r3
 899              	.LVL25:
 401:Src/main.c    **** 	{
 900              		.loc 1 401 23 is_stmt 1 discriminator 1 view .LVU247
 901 0028 0231     		adds	r1, r1, #2
 902 002a 7E2B     		cmp	r3, #126
 903 002c F7D1     		bne	.L67
 904 002e 0023     		movs	r3, #0
 905              	.LVL26:
 906              	.L66:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 26


 401:Src/main.c    **** 	{
 907              		.loc 1 401 23 is_stmt 0 discriminator 1 view .LVU248
 908              	.LBE16:
 404:Src/main.c    **** 			temperture = i;
 405:Src/main.c    **** 			return;
 406:Src/main.c    **** 		}
 407:Src/main.c    **** 	}
 408:Src/main.c    **** 
 409:Src/main.c    **** 	temperture = 0;
 410:Src/main.c    **** 	return;
 411:Src/main.c    **** }
 909              		.loc 1 411 1 view .LVU249
 910              		@ sp needed
 911              	.LBB17:
 404:Src/main.c    **** 			temperture = i;
 912              		.loc 1 404 15 view .LVU250
 913 0030 0B4A     		ldr	r2, .L70+16
 914              	.LVL27:
 404:Src/main.c    **** 			temperture = i;
 915              		.loc 1 404 15 view .LVU251
 916 0032 1370     		strb	r3, [r2]
 917              	.LBE17:
 918              		.loc 1 411 1 view .LVU252
 919 0034 30BD     		pop	{r4, r5, pc}
 920              	.LVL28:
 921              	.L63:
 391:Src/main.c    **** 		value = 0;
 922              		.loc 1 391 3 is_stmt 1 view .LVU253
 391:Src/main.c    **** 		value = 0;
 923              		.loc 1 391 32 is_stmt 0 view .LVU254
 924 0036 0821     		movs	r1, #8
 392:Src/main.c    **** 		for(uint8_t i = 0; i < TEMP_BUFFER_SIZE; i++)
 925              		.loc 1 392 9 view .LVU255
 926 0038 0022     		movs	r2, #0
 927              	.LVL29:
 391:Src/main.c    **** 		value = 0;
 928              		.loc 1 391 32 view .LVU256
 929 003a 1882     		strh	r0, [r3, #16]
 392:Src/main.c    **** 		for(uint8_t i = 0; i < TEMP_BUFFER_SIZE; i++)
 930              		.loc 1 392 3 is_stmt 1 view .LVU257
 931              	.LVL30:
 393:Src/main.c    **** 		{
 932              		.loc 1 393 3 view .LVU258
 933              	.LBB18:
 393:Src/main.c    **** 		{
 934              		.loc 1 393 7 view .LVU259
 393:Src/main.c    **** 		{
 935              		.loc 1 393 24 discriminator 1 view .LVU260
 936              	.L65:
 395:Src/main.c    **** 			value += tempBuffer[i];
 937              		.loc 1 395 4 view .LVU261
 395:Src/main.c    **** 			value += tempBuffer[i];
 938              		.loc 1 395 30 is_stmt 0 view .LVU262
 939 003c 5888     		ldrh	r0, [r3, #2]
 393:Src/main.c    **** 		{
 940              		.loc 1 393 24 discriminator 1 view .LVU263
 941 003e 0139     		subs	r1, r1, #1
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 27


 942              	.LVL31:
 393:Src/main.c    **** 		{
 943              		.loc 1 393 24 discriminator 1 view .LVU264
 944 0040 C9B2     		uxtb	r1, r1
 945              	.LVL32:
 395:Src/main.c    **** 			value += tempBuffer[i];
 946              		.loc 1 395 18 view .LVU265
 947 0042 1880     		strh	r0, [r3]
 396:Src/main.c    **** 		}
 948              		.loc 1 396 4 is_stmt 1 view .LVU266
 396:Src/main.c    **** 		}
 949              		.loc 1 396 10 is_stmt 0 view .LVU267
 950 0044 1218     		adds	r2, r2, r0
 951              	.LVL33:
 393:Src/main.c    **** 		{
 952              		.loc 1 393 45 is_stmt 1 discriminator 3 view .LVU268
 393:Src/main.c    **** 		{
 953              		.loc 1 393 24 discriminator 1 view .LVU269
 954 0046 0233     		adds	r3, r3, #2
 955 0048 0029     		cmp	r1, #0
 956 004a F7D1     		bne	.L65
 957              	.LBE18:
 398:Src/main.c    **** 	}
 958              		.loc 1 398 3 view .LVU270
 398:Src/main.c    **** 	}
 959              		.loc 1 398 9 is_stmt 0 view .LVU271
 960 004c D208     		lsrs	r2, r2, #3
 961              	.LVL34:
 398:Src/main.c    **** 	}
 962              		.loc 1 398 9 view .LVU272
 963 004e E4E7     		b	.L64
 964              	.L71:
 965              		.align	2
 966              	.L70:
 967 0050 00000000 		.word	adcValue
 968 0054 00000000 		.word	tempBuffered
 969 0058 00000000 		.word	tempBuffer
 970 005c 00000000 		.word	tempertureMap
 971 0060 00000000 		.word	temperture
 972              		.cfi_endproc
 973              	.LFE45:
 975              		.global	__aeabi_uidiv
 976              		.global	__aeabi_uidivmod
 977              		.section	.text.refreshTimeDisplay,"ax",%progbits
 978              		.align	1
 979              		.global	refreshTimeDisplay
 980              		.syntax unified
 981              		.code	16
 982              		.thumb_func
 984              	refreshTimeDisplay:
 985              	.LFB46:
 412:Src/main.c    **** 
 413:Src/main.c    **** void refreshTimeDisplay() {
 986              		.loc 1 413 27 is_stmt 1 view -0
 987              		.cfi_startproc
 988              		@ args = 0, pretend = 0, frame = 0
 989              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 28


 414:Src/main.c    **** 	TimeNow(&time);
 990              		.loc 1 414 2 view .LVU274
 413:Src/main.c    **** 	TimeNow(&time);
 991              		.loc 1 413 27 is_stmt 0 view .LVU275
 992 0000 70B5     		push	{r4, r5, r6, lr}
 993              	.LCFI8:
 994              		.cfi_def_cfa_offset 16
 995              		.cfi_offset 4, -16
 996              		.cfi_offset 5, -12
 997              		.cfi_offset 6, -8
 998              		.cfi_offset 14, -4
 999              		.loc 1 414 2 view .LVU276
 1000 0002 344C     		ldr	r4, .L81
 1001 0004 2000     		movs	r0, r4
 1002 0006 FFF7FEFF 		bl	TimeNow
 1003              	.LVL35:
 415:Src/main.c    **** 	lastTime = time;
 1004              		.loc 1 415 2 is_stmt 1 view .LVU277
 1005              		.loc 1 415 11 is_stmt 0 view .LVU278
 1006 000a 0822     		movs	r2, #8
 1007 000c 2100     		movs	r1, r4
 1008 000e 3248     		ldr	r0, .L81+4
 1009 0010 FFF7FEFF 		bl	memcpy
 1010              	.LVL36:
 416:Src/main.c    **** 	if (currentMode == MODE_SHOW_TIME) {
 1011              		.loc 1 416 2 is_stmt 1 view .LVU279
 1012              		.loc 1 416 18 is_stmt 0 view .LVU280
 1013 0014 314B     		ldr	r3, .L81+8
 1014 0016 1D78     		ldrb	r5, [r3]
 1015              		.loc 1 416 5 view .LVU281
 1016 0018 002D     		cmp	r5, #0
 1017 001a 13D1     		bne	.L73
 1018              	.LBB19:
 417:Src/main.c    **** 		uint16_t number = time.hours * 100 + time.minutes;
 1019              		.loc 1 417 3 is_stmt 1 view .LVU282
 1020              	.LVL37:
 418:Src/main.c    **** 		TM1637ShowNumberRight(3, number, blinkControl ? 2 : 0xFF, 1);
 1021              		.loc 1 418 3 view .LVU283
 417:Src/main.c    **** 		uint16_t number = time.hours * 100 + time.minutes;
 1022              		.loc 1 417 38 is_stmt 0 view .LVU284
 1023 001c 6422     		movs	r2, #100
 1024 001e E378     		ldrb	r3, [r4, #3]
 417:Src/main.c    **** 		uint16_t number = time.hours * 100 + time.minutes;
 1025              		.loc 1 417 44 view .LVU285
 1026 0020 6178     		ldrb	r1, [r4, #1]
 417:Src/main.c    **** 		uint16_t number = time.hours * 100 + time.minutes;
 1027              		.loc 1 417 38 view .LVU286
 1028 0022 5343     		muls	r3, r2
 1029              		.loc 1 418 3 view .LVU287
 1030 0024 C918     		adds	r1, r1, r3
 1031              		.loc 1 418 49 view .LVU288
 1032 0026 2E4B     		ldr	r3, .L81+12
 1033              		.loc 1 418 3 discriminator 2 view .LVU289
 1034 0028 9B32     		adds	r2, r2, #155
 1035              		.loc 1 418 3 view .LVU290
 1036 002a 1B78     		ldrb	r3, [r3]
 1037 002c 002B     		cmp	r3, #0
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 29


 1038 002e 00D0     		beq	.L74
 1039              		.loc 1 418 3 discriminator 1 view .LVU291
 1040 0030 FD3A     		subs	r2, r2, #253
 1041              	.L74:
 1042              		.loc 1 418 3 discriminator 4 view .LVU292
 1043 0032 0123     		movs	r3, #1
 1044 0034 0320     		movs	r0, #3
 1045 0036 FFF7FEFF 		bl	TM1637ShowNumberRight
 1046              	.LVL38:
 1047              	.L75:
 1048              		.loc 1 418 3 discriminator 4 view .LVU293
 1049              	.LBE19:
 419:Src/main.c    **** 	}
 420:Src/main.c    **** 	else if (currentMode == MODE_SHOW_SECOND) {
 421:Src/main.c    **** 		TM1637SetChar(0, ' ', false);
 422:Src/main.c    **** 		TM1637SetChar(1, ' ', true);
 423:Src/main.c    **** 		TM1637SetChar(2, time.seconds / 10 + '0', false);
 424:Src/main.c    **** 		TM1637SetChar(3, time.seconds % 10 + '0', false);
 425:Src/main.c    **** 	}
 426:Src/main.c    **** 	else if (currentMode == MODE_SHOW_TEMPERTURE){
 427:Src/main.c    **** 		refreshTemperture();
 428:Src/main.c    **** 		if(temperture > 99){
 429:Src/main.c    **** 			temperture = 99;
 430:Src/main.c    **** 		}
 431:Src/main.c    **** 		TM1637SetChar(0, ' ', false);
 432:Src/main.c    **** 		TM1637SetChar(1, temperture / 10 + '0', false);
 433:Src/main.c    **** 		TM1637SetChar(2, temperture % 10 + '0', false);
 434:Src/main.c    **** 		TM1637SetChar(3, 'C', false);
 435:Src/main.c    **** 	}
 436:Src/main.c    **** 
 437:Src/main.c    **** 	checkAlarm();
 1050              		.loc 1 437 2 is_stmt 1 view .LVU294
 438:Src/main.c    **** 	checkRingOnTime();
 439:Src/main.c    **** }
 1051              		.loc 1 439 1 is_stmt 0 view .LVU295
 1052              		@ sp needed
 437:Src/main.c    **** 	checkRingOnTime();
 1053              		.loc 1 437 2 view .LVU296
 1054 003a FFF7FEFF 		bl	checkAlarm
 1055              	.LVL39:
 438:Src/main.c    **** 	checkRingOnTime();
 1056              		.loc 1 438 2 is_stmt 1 view .LVU297
 1057 003e FFF7FEFF 		bl	checkRingOnTime
 1058              	.LVL40:
 1059              		.loc 1 439 1 is_stmt 0 view .LVU298
 1060 0042 70BD     		pop	{r4, r5, r6, pc}
 1061              	.L73:
 420:Src/main.c    **** 		TM1637SetChar(0, ' ', false);
 1062              		.loc 1 420 7 is_stmt 1 view .LVU299
 420:Src/main.c    **** 		TM1637SetChar(0, ' ', false);
 1063              		.loc 1 420 10 is_stmt 0 view .LVU300
 1064 0044 012D     		cmp	r5, #1
 1065 0046 1ED1     		bne	.L76
 421:Src/main.c    **** 		TM1637SetChar(1, ' ', true);
 1066              		.loc 1 421 3 is_stmt 1 view .LVU301
 1067 0048 0022     		movs	r2, #0
 1068 004a 2021     		movs	r1, #32
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 30


 1069 004c 1000     		movs	r0, r2
 1070 004e FFF7FEFF 		bl	TM1637SetChar
 1071              	.LVL41:
 422:Src/main.c    **** 		TM1637SetChar(2, time.seconds / 10 + '0', false);
 1072              		.loc 1 422 3 view .LVU302
 1073 0052 2A00     		movs	r2, r5
 1074 0054 2021     		movs	r1, #32
 1075 0056 2800     		movs	r0, r5
 1076 0058 FFF7FEFF 		bl	TM1637SetChar
 1077              	.LVL42:
 423:Src/main.c    **** 		TM1637SetChar(3, time.seconds % 10 + '0', false);
 1078              		.loc 1 423 3 view .LVU303
 1079 005c 0A21     		movs	r1, #10
 1080 005e 2078     		ldrb	r0, [r4]
 1081 0060 FFF7FEFF 		bl	__aeabi_uidiv
 1082              	.LVL43:
 1083 0064 3030     		adds	r0, r0, #48
 1084 0066 0022     		movs	r2, #0
 1085 0068 C1B2     		uxtb	r1, r0
 1086 006a 0220     		movs	r0, #2
 1087 006c FFF7FEFF 		bl	TM1637SetChar
 1088              	.LVL44:
 424:Src/main.c    **** 	}
 1089              		.loc 1 424 3 view .LVU304
 1090 0070 0A21     		movs	r1, #10
 1091 0072 2078     		ldrb	r0, [r4]
 1092 0074 FFF7FEFF 		bl	__aeabi_uidivmod
 1093              	.LVL45:
 1094 0078 0022     		movs	r2, #0
 1095 007a 3031     		adds	r1, r1, #48
 1096 007c C9B2     		uxtb	r1, r1
 1097              	.L80:
 434:Src/main.c    **** 	}
 1098              		.loc 1 434 3 is_stmt 0 view .LVU305
 1099 007e 0320     		movs	r0, #3
 1100 0080 FFF7FEFF 		bl	TM1637SetChar
 1101              	.LVL46:
 1102 0084 D9E7     		b	.L75
 1103              	.L76:
 426:Src/main.c    **** 		refreshTemperture();
 1104              		.loc 1 426 7 is_stmt 1 view .LVU306
 426:Src/main.c    **** 		refreshTemperture();
 1105              		.loc 1 426 10 is_stmt 0 view .LVU307
 1106 0086 022D     		cmp	r5, #2
 1107 0088 D7D1     		bne	.L75
 427:Src/main.c    **** 		if(temperture > 99){
 1108              		.loc 1 427 3 is_stmt 1 view .LVU308
 1109 008a FFF7FEFF 		bl	refreshTemperture
 1110              	.LVL47:
 428:Src/main.c    **** 			temperture = 99;
 1111              		.loc 1 428 3 view .LVU309
 428:Src/main.c    **** 			temperture = 99;
 1112              		.loc 1 428 17 is_stmt 0 view .LVU310
 1113 008e 154C     		ldr	r4, .L81+16
 428:Src/main.c    **** 			temperture = 99;
 1114              		.loc 1 428 5 view .LVU311
 1115 0090 2378     		ldrb	r3, [r4]
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 31


 1116 0092 632B     		cmp	r3, #99
 1117 0094 01D9     		bls	.L77
 429:Src/main.c    **** 		}
 1118              		.loc 1 429 4 is_stmt 1 view .LVU312
 429:Src/main.c    **** 		}
 1119              		.loc 1 429 15 is_stmt 0 view .LVU313
 1120 0096 6323     		movs	r3, #99
 1121 0098 2370     		strb	r3, [r4]
 1122              	.L77:
 431:Src/main.c    **** 		TM1637SetChar(1, temperture / 10 + '0', false);
 1123              		.loc 1 431 3 is_stmt 1 view .LVU314
 1124 009a 0022     		movs	r2, #0
 1125 009c 2021     		movs	r1, #32
 1126 009e 1000     		movs	r0, r2
 1127 00a0 FFF7FEFF 		bl	TM1637SetChar
 1128              	.LVL48:
 432:Src/main.c    **** 		TM1637SetChar(2, temperture % 10 + '0', false);
 1129              		.loc 1 432 3 view .LVU315
 1130 00a4 0A21     		movs	r1, #10
 1131 00a6 2078     		ldrb	r0, [r4]
 1132 00a8 FFF7FEFF 		bl	__aeabi_uidiv
 1133              	.LVL49:
 1134 00ac 3030     		adds	r0, r0, #48
 1135 00ae 0022     		movs	r2, #0
 1136 00b0 C1B2     		uxtb	r1, r0
 1137 00b2 0120     		movs	r0, #1
 1138 00b4 FFF7FEFF 		bl	TM1637SetChar
 1139              	.LVL50:
 433:Src/main.c    **** 		TM1637SetChar(3, 'C', false);
 1140              		.loc 1 433 3 view .LVU316
 1141 00b8 2078     		ldrb	r0, [r4]
 1142 00ba 0A21     		movs	r1, #10
 1143 00bc FFF7FEFF 		bl	__aeabi_uidivmod
 1144              	.LVL51:
 1145 00c0 3031     		adds	r1, r1, #48
 1146 00c2 0022     		movs	r2, #0
 1147 00c4 C9B2     		uxtb	r1, r1
 1148 00c6 0220     		movs	r0, #2
 1149 00c8 FFF7FEFF 		bl	TM1637SetChar
 1150              	.LVL52:
 434:Src/main.c    **** 	}
 1151              		.loc 1 434 3 view .LVU317
 1152 00cc 0022     		movs	r2, #0
 1153 00ce 4321     		movs	r1, #67
 1154 00d0 D5E7     		b	.L80
 1155              	.L82:
 1156 00d2 C046     		.align	2
 1157              	.L81:
 1158 00d4 00000000 		.word	time
 1159 00d8 00000000 		.word	lastTime
 1160 00dc 00000000 		.word	currentMode
 1161 00e0 00000000 		.word	blinkControl
 1162 00e4 00000000 		.word	temperture
 1163              		.cfi_endproc
 1164              	.LFE46:
 1166              		.section	.text.refreshSettingsDisplay,"ax",%progbits
 1167              		.align	1
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 32


 1168              		.global	refreshSettingsDisplay
 1169              		.syntax unified
 1170              		.code	16
 1171              		.thumb_func
 1173              	refreshSettingsDisplay:
 1174              	.LFB47:
 440:Src/main.c    **** 
 441:Src/main.c    **** void refreshSettingsDisplay(){
 1175              		.loc 1 441 30 view -0
 1176              		.cfi_startproc
 1177              		@ args = 0, pretend = 0, frame = 8
 1178              		@ frame_needed = 0, uses_anonymous_args = 0
 442:Src/main.c    **** 	char disp[5] = {0};
 1179              		.loc 1 442 2 view .LVU319
 1180              	.LVL53:
 443:Src/main.c    **** 	if(currentMode == MODE_SET_HOUR){
 1181              		.loc 1 443 2 view .LVU320
 441:Src/main.c    **** 	char disp[5] = {0};
 1182              		.loc 1 441 30 is_stmt 0 view .LVU321
 1183 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 1184              	.LCFI9:
 1185              		.cfi_def_cfa_offset 32
 1186              		.cfi_offset 0, -32
 1187              		.cfi_offset 1, -28
 1188              		.cfi_offset 2, -24
 1189              		.cfi_offset 4, -20
 1190              		.cfi_offset 5, -16
 1191              		.cfi_offset 6, -12
 1192              		.cfi_offset 7, -8
 1193              		.cfi_offset 14, -4
 1194              		.loc 1 443 17 view .LVU322
 1195 0002 A24B     		ldr	r3, .L134
 1196 0004 1878     		ldrb	r0, [r3]
 1197 0006 0338     		subs	r0, r0, #3
 1198 0008 0C28     		cmp	r0, #12
 1199 000a 00D9     		bls	.LCB954
 1200 000c 17E1     		b	.L101	@long jump
 1201              	.LCB954:
 1202 000e FFF7FEFF 		bl	__gnu_thumb1_case_uhi
 1203              	.L86:
 1204 0012 0D00     		.2byte	(.L98-.L86)/2
 1205 0014 2F00     		.2byte	(.L97-.L86)/2
 1206 0016 4700     		.2byte	(.L96-.L86)/2
 1207 0018 5400     		.2byte	(.L95-.L86)/2
 1208 001a 6B00     		.2byte	(.L94-.L86)/2
 1209 001c 9400     		.2byte	(.L93-.L86)/2
 1210 001e AA00     		.2byte	(.L92-.L86)/2
 1211 0020 BE00     		.2byte	(.L91-.L86)/2
 1212 0022 CC00     		.2byte	(.L90-.L86)/2
 1213 0024 D700     		.2byte	(.L89-.L86)/2
 1214 0026 E200     		.2byte	(.L88-.L86)/2
 1215 0028 EE00     		.2byte	(.L87-.L86)/2
 1216 002a 0201     		.2byte	(.L85-.L86)/2
 1217              		.p2align 1
 1218              	.L98:
 444:Src/main.c    **** 		disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1219              		.loc 1 444 3 is_stmt 1 view .LVU323
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 33


 1220              		.loc 1 444 11 is_stmt 0 discriminator 2 view .LVU324
 1221 002c 2026     		movs	r6, #32
 1222              		.loc 1 444 26 view .LVU325
 1223 002e 984B     		ldr	r3, .L134+4
 445:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (lastTime.hours % 10 + '0');
 1224              		.loc 1 445 11 discriminator 2 view .LVU326
 1225 0030 3700     		movs	r7, r6
 444:Src/main.c    **** 		disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1226              		.loc 1 444 11 view .LVU327
 1227 0032 1B78     		ldrb	r3, [r3]
 1228 0034 974C     		ldr	r4, .L134+8
 1229 0036 002B     		cmp	r3, #0
 1230 0038 0CD1     		bne	.L99
 444:Src/main.c    **** 		disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1231              		.loc 1 444 43 discriminator 1 view .LVU328
 1232 003a E578     		ldrb	r5, [r4, #3]
 444:Src/main.c    **** 		disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1233              		.loc 1 444 55 discriminator 1 view .LVU329
 1234 003c 0A21     		movs	r1, #10
 1235 003e 2800     		movs	r0, r5
 1236 0040 FFF7FEFF 		bl	__aeabi_uidiv
 1237              	.LVL54:
 444:Src/main.c    **** 		disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1238              		.loc 1 444 11 discriminator 1 view .LVU330
 1239 0044 3030     		adds	r0, r0, #48
 1240              		.loc 1 445 55 discriminator 1 view .LVU331
 1241 0046 0A21     		movs	r1, #10
 444:Src/main.c    **** 		disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1242              		.loc 1 444 11 discriminator 1 view .LVU332
 1243 0048 C6B2     		uxtb	r6, r0
 1244              	.LVL55:
 1245              		.loc 1 445 3 is_stmt 1 view .LVU333
 1246              		.loc 1 445 55 is_stmt 0 discriminator 1 view .LVU334
 1247 004a 2800     		movs	r0, r5
 1248 004c FFF7FEFF 		bl	__aeabi_uidivmod
 1249              	.LVL56:
 1250              		.loc 1 445 11 discriminator 1 view .LVU335
 1251 0050 3031     		adds	r1, r1, #48
 1252 0052 CFB2     		uxtb	r7, r1
 1253              	.LVL57:
 1254              	.L99:
 446:Src/main.c    **** 		disp[2] = lastTime.minutes / 10  + '0';
 1255              		.loc 1 446 3 is_stmt 1 view .LVU336
 1256              		.loc 1 446 21 is_stmt 0 view .LVU337
 1257 0054 6478     		ldrb	r4, [r4, #1]
 1258              	.LVL58:
 1259              	.L119:
 447:Src/main.c    **** 		disp[3] = lastTime.minutes % 10  + '0';
 448:Src/main.c    **** 	}
 449:Src/main.c    **** 	else if(currentMode == MODE_SET_MINUTE){
 450:Src/main.c    **** 		disp[0] = lastTime.hours / 10 + '0';
 451:Src/main.c    **** 		disp[1] = lastTime.hours % 10 + '0';
 452:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : lastTime.minutes / 10  + '0';
 453:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : lastTime.minutes % 10  + '0';
 454:Src/main.c    **** 	}
 455:Src/main.c    **** 	else if(currentMode == MODE_SET_ALARM_ENABLE){
 456:Src/main.c    **** 		disp[0] = 'A';
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 34


 457:Src/main.c    **** 		disp[1] = 'L';
 458:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : 'o' ;
 459:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 460:Src/main.c    **** 	}
 461:Src/main.c    **** 	else if(currentMode == MODE_SET_ALARM_HOUR){
 462:Src/main.c    **** 		disp[0] = blinkControl ? ' ' : (alarmHour / 10 + '0');
 463:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 464:Src/main.c    **** 		disp[2] = alarmMin / 10  + '0';
 465:Src/main.c    **** 		disp[3] = alarmMin % 10  + '0';
 466:Src/main.c    **** 	}
 467:Src/main.c    **** 	else if(currentMode == MODE_SET_ALARM_MINUTE){
 468:Src/main.c    **** 		disp[0] = alarmHour / 10 + '0';
 469:Src/main.c    **** 		disp[1] = alarmHour % 10 + '0';
 470:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : alarmMin / 10  + '0';
 1260              		.loc 1 470 49 discriminator 1 view .LVU338
 1261 0056 0A21     		movs	r1, #10
 1262 0058 2000     		movs	r0, r4
 1263 005a FFF7FEFF 		bl	__aeabi_uidiv
 1264              	.LVL59:
 1265              		.loc 1 470 11 discriminator 1 view .LVU339
 1266 005e 3030     		adds	r0, r0, #48
 471:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : alarmMin % 10  + '0';
 1267              		.loc 1 471 49 discriminator 1 view .LVU340
 1268 0060 0A21     		movs	r1, #10
 470:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : alarmMin % 10  + '0';
 1269              		.loc 1 470 11 discriminator 1 view .LVU341
 1270 0062 C5B2     		uxtb	r5, r0
 1271              	.LVL60:
 1272              		.loc 1 471 3 is_stmt 1 view .LVU342
 1273              		.loc 1 471 49 is_stmt 0 discriminator 1 view .LVU343
 1274 0064 2000     		movs	r0, r4
 1275 0066 FFF7FEFF 		bl	__aeabi_uidivmod
 1276              	.LVL61:
 1277              		.loc 1 471 11 discriminator 1 view .LVU344
 1278 006a 3031     		adds	r1, r1, #48
 1279 006c CCB2     		uxtb	r4, r1
 1280 006e 4FE0     		b	.L84
 1281              	.LVL62:
 1282              	.L97:
 450:Src/main.c    **** 		disp[1] = lastTime.hours % 10 + '0';
 1283              		.loc 1 450 3 is_stmt 1 view .LVU345
 450:Src/main.c    **** 		disp[1] = lastTime.hours % 10 + '0';
 1284              		.loc 1 450 21 is_stmt 0 view .LVU346
 1285 0070 884B     		ldr	r3, .L134+8
 450:Src/main.c    **** 		disp[1] = lastTime.hours % 10 + '0';
 1286              		.loc 1 450 33 view .LVU347
 1287 0072 0A21     		movs	r1, #10
 450:Src/main.c    **** 		disp[1] = lastTime.hours % 10 + '0';
 1288              		.loc 1 450 21 view .LVU348
 1289 0074 0193     		str	r3, [sp, #4]
 1290 0076 DC78     		ldrb	r4, [r3, #3]
 450:Src/main.c    **** 		disp[1] = lastTime.hours % 10 + '0';
 1291              		.loc 1 450 33 view .LVU349
 1292 0078 2000     		movs	r0, r4
 1293 007a FFF7FEFF 		bl	__aeabi_uidiv
 1294              	.LVL63:
 1295 007e 3030     		adds	r0, r0, #48
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 35


 451:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : lastTime.minutes / 10  + '0';
 1296              		.loc 1 451 33 view .LVU350
 1297 0080 0A21     		movs	r1, #10
 450:Src/main.c    **** 		disp[1] = lastTime.hours % 10 + '0';
 1298              		.loc 1 450 33 view .LVU351
 1299 0082 C6B2     		uxtb	r6, r0
 1300              	.LVL64:
 451:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : lastTime.minutes / 10  + '0';
 1301              		.loc 1 451 3 is_stmt 1 view .LVU352
 451:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : lastTime.minutes / 10  + '0';
 1302              		.loc 1 451 33 is_stmt 0 view .LVU353
 1303 0084 2000     		movs	r0, r4
 1304 0086 FFF7FEFF 		bl	__aeabi_uidivmod
 1305              	.LVL65:
 453:Src/main.c    **** 	}
 1306              		.loc 1 453 11 discriminator 2 view .LVU354
 1307 008a 2024     		movs	r4, #32
 452:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : lastTime.minutes % 10  + '0';
 1308              		.loc 1 452 26 view .LVU355
 1309 008c 804B     		ldr	r3, .L134+4
 451:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : lastTime.minutes / 10  + '0';
 1310              		.loc 1 451 33 view .LVU356
 1311 008e 3031     		adds	r1, r1, #48
 452:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : lastTime.minutes % 10  + '0';
 1312              		.loc 1 452 11 view .LVU357
 1313 0090 1B78     		ldrb	r3, [r3]
 452:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : lastTime.minutes % 10  + '0';
 1314              		.loc 1 452 11 discriminator 4 view .LVU358
 1315 0092 2500     		movs	r5, r4
 451:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : lastTime.minutes / 10  + '0';
 1316              		.loc 1 451 33 view .LVU359
 1317 0094 CFB2     		uxtb	r7, r1
 1318              	.LVL66:
 452:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : lastTime.minutes % 10  + '0';
 1319              		.loc 1 452 3 is_stmt 1 view .LVU360
 452:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : lastTime.minutes % 10  + '0';
 1320              		.loc 1 452 11 is_stmt 0 view .LVU361
 1321 0096 002B     		cmp	r3, #0
 1322 0098 3AD1     		bne	.L84
 452:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : lastTime.minutes % 10  + '0';
 1323              		.loc 1 452 42 discriminator 1 view .LVU362
 1324 009a 019B     		ldr	r3, [sp, #4]
 1325 009c 5C78     		ldrb	r4, [r3, #1]
 1326 009e DAE7     		b	.L119
 1327              	.LVL67:
 1328              	.L96:
 456:Src/main.c    **** 		disp[1] = 'L';
 1329              		.loc 1 456 3 is_stmt 1 view .LVU363
 457:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : 'o' ;
 1330              		.loc 1 457 3 view .LVU364
 458:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1331              		.loc 1 458 3 view .LVU365
 458:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1332              		.loc 1 458 26 is_stmt 0 view .LVU366
 1333 00a0 7B4B     		ldr	r3, .L134+4
 458:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1334              		.loc 1 458 11 view .LVU367
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 36


 1335 00a2 1B78     		ldrb	r3, [r3]
 1336 00a4 002B     		cmp	r3, #0
 1337 00a6 00D0     		beq	.LCB1056
 1338 00a8 CEE0     		b	.L104	@long jump
 1339              	.LCB1056:
 1340              	.LVL68:
 459:Src/main.c    **** 	}
 1341              		.loc 1 459 3 is_stmt 1 view .LVU368
 459:Src/main.c    **** 	}
 1342              		.loc 1 459 49 is_stmt 0 discriminator 1 view .LVU369
 1343 00aa 7B4B     		ldr	r3, .L134+12
 459:Src/main.c    **** 	}
 1344              		.loc 1 459 11 discriminator 3 view .LVU370
 1345 00ac 6E24     		movs	r4, #110
 459:Src/main.c    **** 	}
 1346              		.loc 1 459 11 discriminator 1 view .LVU371
 1347 00ae 1B78     		ldrb	r3, [r3]
 1348 00b0 002B     		cmp	r3, #0
 1349 00b2 00D1     		bne	.L127
 459:Src/main.c    **** 	}
 1350              		.loc 1 459 11 discriminator 4 view .LVU372
 1351 00b4 4624     		movs	r4, #70
 1352              	.L127:
 458:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1353              		.loc 1 458 11 discriminator 4 view .LVU373
 1354 00b6 6F25     		movs	r5, #111
 1355 00b8 C8E0     		b	.L122
 1356              	.LVL69:
 1357              	.L95:
 462:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1358              		.loc 1 462 3 is_stmt 1 view .LVU374
 462:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1359              		.loc 1 462 11 is_stmt 0 discriminator 2 view .LVU375
 1360 00ba 2026     		movs	r6, #32
 462:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1361              		.loc 1 462 26 view .LVU376
 1362 00bc 744B     		ldr	r3, .L134+4
 463:Src/main.c    **** 		disp[2] = alarmMin / 10  + '0';
 1363              		.loc 1 463 11 discriminator 2 view .LVU377
 1364 00be 3700     		movs	r7, r6
 462:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1365              		.loc 1 462 11 view .LVU378
 1366 00c0 1B78     		ldrb	r3, [r3]
 1367 00c2 002B     		cmp	r3, #0
 1368 00c4 0DD1     		bne	.L121
 462:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1369              		.loc 1 462 50 discriminator 1 view .LVU379
 1370 00c6 754B     		ldr	r3, .L134+16
 1371 00c8 0A21     		movs	r1, #10
 1372 00ca 1C78     		ldrb	r4, [r3]
 1373 00cc 2000     		movs	r0, r4
 1374 00ce FFF7FEFF 		bl	__aeabi_uidiv
 1375              	.LVL70:
 462:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1376              		.loc 1 462 11 discriminator 1 view .LVU380
 1377 00d2 3030     		adds	r0, r0, #48
 463:Src/main.c    **** 		disp[2] = alarmMin / 10  + '0';
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 37


 1378              		.loc 1 463 50 discriminator 1 view .LVU381
 1379 00d4 0A21     		movs	r1, #10
 462:Src/main.c    **** 		disp[1] = blinkControl ? ' ' : (alarmHour % 10 + '0');
 1380              		.loc 1 462 11 discriminator 1 view .LVU382
 1381 00d6 C6B2     		uxtb	r6, r0
 1382              	.LVL71:
 463:Src/main.c    **** 		disp[2] = alarmMin / 10  + '0';
 1383              		.loc 1 463 3 is_stmt 1 view .LVU383
 463:Src/main.c    **** 		disp[2] = alarmMin / 10  + '0';
 1384              		.loc 1 463 50 is_stmt 0 discriminator 1 view .LVU384
 1385 00d8 2000     		movs	r0, r4
 1386 00da FFF7FEFF 		bl	__aeabi_uidivmod
 1387              	.LVL72:
 463:Src/main.c    **** 		disp[2] = alarmMin / 10  + '0';
 1388              		.loc 1 463 11 discriminator 1 view .LVU385
 1389 00de 3031     		adds	r1, r1, #48
 1390 00e0 CFB2     		uxtb	r7, r1
 1391              	.LVL73:
 464:Src/main.c    **** 		disp[3] = alarmMin % 10  + '0';
 1392              		.loc 1 464 3 is_stmt 1 view .LVU386
 1393              	.L121:
 470:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : alarmMin % 10  + '0';
 1394              		.loc 1 470 49 is_stmt 0 discriminator 1 view .LVU387
 1395 00e2 6F4B     		ldr	r3, .L134+20
 1396 00e4 1C78     		ldrb	r4, [r3]
 1397 00e6 B6E7     		b	.L119
 1398              	.LVL74:
 1399              	.L94:
 468:Src/main.c    **** 		disp[1] = alarmHour % 10 + '0';
 1400              		.loc 1 468 3 is_stmt 1 view .LVU388
 468:Src/main.c    **** 		disp[1] = alarmHour % 10 + '0';
 1401              		.loc 1 468 28 is_stmt 0 view .LVU389
 1402 00e8 6C4B     		ldr	r3, .L134+16
 1403 00ea 0A21     		movs	r1, #10
 1404 00ec 1C78     		ldrb	r4, [r3]
 1405 00ee 2000     		movs	r0, r4
 1406 00f0 FFF7FEFF 		bl	__aeabi_uidiv
 1407              	.LVL75:
 1408 00f4 3030     		adds	r0, r0, #48
 469:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : alarmMin / 10  + '0';
 1409              		.loc 1 469 28 view .LVU390
 1410 00f6 0A21     		movs	r1, #10
 468:Src/main.c    **** 		disp[1] = alarmHour % 10 + '0';
 1411              		.loc 1 468 28 view .LVU391
 1412 00f8 C6B2     		uxtb	r6, r0
 1413              	.LVL76:
 469:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : alarmMin / 10  + '0';
 1414              		.loc 1 469 3 is_stmt 1 view .LVU392
 469:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : alarmMin / 10  + '0';
 1415              		.loc 1 469 28 is_stmt 0 view .LVU393
 1416 00fa 2000     		movs	r0, r4
 1417 00fc FFF7FEFF 		bl	__aeabi_uidivmod
 1418              	.LVL77:
 1419              		.loc 1 471 11 discriminator 2 view .LVU394
 1420 0100 2024     		movs	r4, #32
 470:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : alarmMin % 10  + '0';
 1421              		.loc 1 470 26 view .LVU395
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 38


 1422 0102 634B     		ldr	r3, .L134+4
 469:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : alarmMin / 10  + '0';
 1423              		.loc 1 469 28 view .LVU396
 1424 0104 3031     		adds	r1, r1, #48
 470:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : alarmMin % 10  + '0';
 1425              		.loc 1 470 11 view .LVU397
 1426 0106 1B78     		ldrb	r3, [r3]
 470:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : alarmMin % 10  + '0';
 1427              		.loc 1 470 11 discriminator 4 view .LVU398
 1428 0108 2500     		movs	r5, r4
 469:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : alarmMin / 10  + '0';
 1429              		.loc 1 469 28 view .LVU399
 1430 010a CFB2     		uxtb	r7, r1
 1431              	.LVL78:
 470:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : alarmMin % 10  + '0';
 1432              		.loc 1 470 3 is_stmt 1 view .LVU400
 470:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : alarmMin % 10  + '0';
 1433              		.loc 1 470 11 is_stmt 0 view .LVU401
 1434 010c 002B     		cmp	r3, #0
 1435 010e E8D0     		beq	.L121
 1436              	.LVL79:
 1437              	.L84:
 472:Src/main.c    **** 	}
 473:Src/main.c    **** 	else if(currentMode == MODE_SET_TEMP_SHOW){
 474:Src/main.c    **** 		disp[0] = 'T';
 475:Src/main.c    **** 		disp[1] = 'S';
 476:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : tempertureShowTime / 10  + '0';
 477:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureShowTime % 10  + '0';
 478:Src/main.c    **** 	}
 479:Src/main.c    **** 	else if(currentMode == MODE_SET_TEMP_HIDE){
 480:Src/main.c    **** 		disp[0] = 'T';
 481:Src/main.c    **** 		disp[1] = 'H';
 482:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : tempertureHideTime / 10  + '0';
 483:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureHideTime % 10  + '0';
 484:Src/main.c    **** 	}
 485:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS) {
 486:Src/main.c    **** 		disp[0] = 'b';
 487:Src/main.c    **** 		disp[1] = 'r';
 488:Src/main.c    **** 		if (savedBrightness) {
 489:Src/main.c    **** 			disp[2] = blinkControl ? ' ' : '0';
 490:Src/main.c    **** 			disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 491:Src/main.c    **** 		}
 492:Src/main.c    **** 		else {
 493:Src/main.c    **** 			disp[2] = 'A';
 494:Src/main.c    **** 			disp[3] = 'U';
 495:Src/main.c    **** 		}
 496:Src/main.c    **** 	}
 497:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS_STRONG) {
 498:Src/main.c    **** 		disp[0] = 'b';
 499:Src/main.c    **** 		disp[1] = '1';
 500:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : '0';
 501:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 502:Src/main.c    **** 	}
 503:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 504:Src/main.c    **** 		disp[0] = 'b';
 505:Src/main.c    **** 		disp[1] = '2';
 506:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : '0';
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 39


 507:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 508:Src/main.c    **** 	}
 509:Src/main.c    **** 	else if(currentMode == MODE_SET_ROT_ENABLE){
 510:Src/main.c    **** 		disp[0] = 'r';
 511:Src/main.c    **** 		disp[1] = 'o';
 512:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : 'o' ;
 513:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 514:Src/main.c    **** 	}
 515:Src/main.c    **** 	else if(currentMode == MODE_SET_ROT_START){
 516:Src/main.c    **** 		disp[0] = 'r';
 517:Src/main.c    **** 		disp[1] = 'S';
 518:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : ringOnTimeStart / 10  + '0';
 519:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10  + '0';
 520:Src/main.c    **** 	}
 521:Src/main.c    **** 	else if(currentMode == MODE_SET_ROT_STOP){
 522:Src/main.c    **** 		disp[0] = 'r';
 523:Src/main.c    **** 		disp[1] = 'e';
 524:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : ringOnTimeStop / 10  + '0';
 525:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10  + '0';
 526:Src/main.c    **** 	}
 527:Src/main.c    **** 
 528:Src/main.c    **** 	TM1637SetChar(0, disp[0], false);
 1438              		.loc 1 528 2 is_stmt 1 view .LVU402
 529:Src/main.c    **** 	TM1637SetChar(1, disp[1], true);
 530:Src/main.c    **** 	TM1637SetChar(2, disp[2], false);
 531:Src/main.c    **** 	TM1637SetChar(3, disp[3], false);
 532:Src/main.c    **** }
 1439              		.loc 1 532 1 is_stmt 0 view .LVU403
 1440              		@ sp needed
 528:Src/main.c    **** 	TM1637SetChar(1, disp[1], true);
 1441              		.loc 1 528 2 view .LVU404
 1442 0110 0022     		movs	r2, #0
 1443 0112 3100     		movs	r1, r6
 1444 0114 1000     		movs	r0, r2
 1445 0116 FFF7FEFF 		bl	TM1637SetChar
 1446              	.LVL80:
 529:Src/main.c    **** 	TM1637SetChar(1, disp[1], true);
 1447              		.loc 1 529 2 is_stmt 1 view .LVU405
 1448 011a 0122     		movs	r2, #1
 1449 011c 3900     		movs	r1, r7
 1450 011e 1000     		movs	r0, r2
 1451 0120 FFF7FEFF 		bl	TM1637SetChar
 1452              	.LVL81:
 530:Src/main.c    **** 	TM1637SetChar(3, disp[3], false);
 1453              		.loc 1 530 2 view .LVU406
 1454 0124 2900     		movs	r1, r5
 1455 0126 0022     		movs	r2, #0
 1456 0128 0220     		movs	r0, #2
 1457 012a FFF7FEFF 		bl	TM1637SetChar
 1458              	.LVL82:
 531:Src/main.c    **** }
 1459              		.loc 1 531 2 view .LVU407
 1460 012e 0022     		movs	r2, #0
 1461 0130 2100     		movs	r1, r4
 1462 0132 0320     		movs	r0, #3
 1463 0134 FFF7FEFF 		bl	TM1637SetChar
 1464              	.LVL83:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 40


 1465              		.loc 1 532 1 is_stmt 0 view .LVU408
 1466 0138 F7BD     		pop	{r0, r1, r2, r4, r5, r6, r7, pc}
 1467              	.LVL84:
 1468              	.L93:
 474:Src/main.c    **** 		disp[1] = 'S';
 1469              		.loc 1 474 3 is_stmt 1 view .LVU409
 475:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : tempertureShowTime / 10  + '0';
 1470              		.loc 1 475 3 view .LVU410
 476:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureShowTime % 10  + '0';
 1471              		.loc 1 476 3 view .LVU411
 476:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureShowTime % 10  + '0';
 1472              		.loc 1 476 26 is_stmt 0 view .LVU412
 1473 013a 554B     		ldr	r3, .L134+4
 476:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureShowTime % 10  + '0';
 1474              		.loc 1 476 11 view .LVU413
 1475 013c 1B78     		ldrb	r3, [r3]
 1476 013e 002B     		cmp	r3, #0
 1477 0140 00D0     		beq	.LCB1191
 1478 0142 86E0     		b	.L108	@long jump
 1479              	.LCB1191:
 476:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureShowTime % 10  + '0';
 1480              		.loc 1 476 59 discriminator 1 view .LVU414
 1481 0144 574B     		ldr	r3, .L134+24
 1482 0146 0A21     		movs	r1, #10
 1483 0148 1C78     		ldrb	r4, [r3]
 1484 014a 2000     		movs	r0, r4
 1485 014c FFF7FEFF 		bl	__aeabi_uidiv
 1486              	.LVL85:
 476:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureShowTime % 10  + '0';
 1487              		.loc 1 476 11 discriminator 1 view .LVU415
 1488 0150 3030     		adds	r0, r0, #48
 477:Src/main.c    **** 	}
 1489              		.loc 1 477 59 discriminator 1 view .LVU416
 1490 0152 0A21     		movs	r1, #10
 476:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureShowTime % 10  + '0';
 1491              		.loc 1 476 11 discriminator 1 view .LVU417
 1492 0154 C5B2     		uxtb	r5, r0
 1493              	.LVL86:
 477:Src/main.c    **** 	}
 1494              		.loc 1 477 3 is_stmt 1 view .LVU418
 477:Src/main.c    **** 	}
 1495              		.loc 1 477 59 is_stmt 0 discriminator 1 view .LVU419
 1496 0156 2000     		movs	r0, r4
 1497 0158 FFF7FEFF 		bl	__aeabi_uidivmod
 1498              	.LVL87:
 477:Src/main.c    **** 	}
 1499              		.loc 1 477 11 discriminator 1 view .LVU420
 1500 015c 3031     		adds	r1, r1, #48
 1501 015e CCB2     		uxtb	r4, r1
 1502              	.LVL88:
 1503              	.L123:
 475:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : tempertureShowTime / 10  + '0';
 1504              		.loc 1 475 11 view .LVU421
 1505 0160 5327     		movs	r7, #83
 1506              	.LVL89:
 1507              	.L124:
 474:Src/main.c    **** 		disp[1] = 'S';
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 41


 1508              		.loc 1 474 11 view .LVU422
 1509 0162 5426     		movs	r6, #84
 1510 0164 D4E7     		b	.L84
 1511              	.LVL90:
 1512              	.L92:
 480:Src/main.c    **** 		disp[1] = 'H';
 1513              		.loc 1 480 3 is_stmt 1 view .LVU423
 481:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : tempertureHideTime / 10  + '0';
 1514              		.loc 1 481 3 view .LVU424
 482:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureHideTime % 10  + '0';
 1515              		.loc 1 482 3 view .LVU425
 482:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureHideTime % 10  + '0';
 1516              		.loc 1 482 26 is_stmt 0 view .LVU426
 1517 0166 4A4B     		ldr	r3, .L134+4
 482:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureHideTime % 10  + '0';
 1518              		.loc 1 482 11 view .LVU427
 1519 0168 1B78     		ldrb	r3, [r3]
 1520 016a 002B     		cmp	r3, #0
 1521 016c 74D1     		bne	.L109
 482:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureHideTime % 10  + '0';
 1522              		.loc 1 482 59 discriminator 1 view .LVU428
 1523 016e 4E4B     		ldr	r3, .L134+28
 1524 0170 0A21     		movs	r1, #10
 1525 0172 1C78     		ldrb	r4, [r3]
 1526 0174 2000     		movs	r0, r4
 1527 0176 FFF7FEFF 		bl	__aeabi_uidiv
 1528              	.LVL91:
 482:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureHideTime % 10  + '0';
 1529              		.loc 1 482 11 discriminator 1 view .LVU429
 1530 017a 3030     		adds	r0, r0, #48
 483:Src/main.c    **** 	}
 1531              		.loc 1 483 59 discriminator 1 view .LVU430
 1532 017c 0A21     		movs	r1, #10
 482:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureHideTime % 10  + '0';
 1533              		.loc 1 482 11 discriminator 1 view .LVU431
 1534 017e C5B2     		uxtb	r5, r0
 1535              	.LVL92:
 483:Src/main.c    **** 	}
 1536              		.loc 1 483 3 is_stmt 1 view .LVU432
 483:Src/main.c    **** 	}
 1537              		.loc 1 483 59 is_stmt 0 discriminator 1 view .LVU433
 1538 0180 2000     		movs	r0, r4
 1539 0182 FFF7FEFF 		bl	__aeabi_uidivmod
 1540              	.LVL93:
 483:Src/main.c    **** 	}
 1541              		.loc 1 483 11 discriminator 1 view .LVU434
 1542 0186 3031     		adds	r1, r1, #48
 1543 0188 CCB2     		uxtb	r4, r1
 1544              	.LVL94:
 1545              	.L128:
 481:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : tempertureHideTime / 10  + '0';
 1546              		.loc 1 481 11 view .LVU435
 1547 018a 4827     		movs	r7, #72
 1548 018c E9E7     		b	.L124
 1549              	.LVL95:
 1550              	.L91:
 486:Src/main.c    **** 		disp[1] = 'r';
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 42


 1551              		.loc 1 486 3 is_stmt 1 view .LVU436
 487:Src/main.c    **** 		if (savedBrightness) {
 1552              		.loc 1 487 3 view .LVU437
 488:Src/main.c    **** 			disp[2] = blinkControl ? ' ' : '0';
 1553              		.loc 1 488 3 view .LVU438
 488:Src/main.c    **** 			disp[2] = blinkControl ? ' ' : '0';
 1554              		.loc 1 488 7 is_stmt 0 view .LVU439
 1555 018e 474B     		ldr	r3, .L134+32
 1556 0190 1C78     		ldrb	r4, [r3]
 488:Src/main.c    **** 			disp[2] = blinkControl ? ' ' : '0';
 1557              		.loc 1 488 6 view .LVU440
 1558 0192 002C     		cmp	r4, #0
 1559 0194 63D0     		beq	.L110
 489:Src/main.c    **** 			disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1560              		.loc 1 489 4 is_stmt 1 view .LVU441
 489:Src/main.c    **** 			disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1561              		.loc 1 489 27 is_stmt 0 view .LVU442
 1562 0196 3E4B     		ldr	r3, .L134+4
 489:Src/main.c    **** 			disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1563              		.loc 1 489 12 view .LVU443
 1564 0198 1B78     		ldrb	r3, [r3]
 1565 019a 002B     		cmp	r3, #0
 1566 019c 62D1     		bne	.L111
 1567              	.LVL96:
 490:Src/main.c    **** 		}
 1568              		.loc 1 490 4 is_stmt 1 view .LVU444
 489:Src/main.c    **** 			disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1569              		.loc 1 489 12 is_stmt 0 discriminator 4 view .LVU445
 1570 019e 3025     		movs	r5, #48
 490:Src/main.c    **** 		}
 1571              		.loc 1 490 12 discriminator 1 view .LVU446
 1572 01a0 3034     		adds	r4, r4, #48
 1573 01a2 E4B2     		uxtb	r4, r4
 1574              	.LVL97:
 1575              	.L125:
 487:Src/main.c    **** 		if (savedBrightness) {
 1576              		.loc 1 487 11 view .LVU447
 1577 01a4 7227     		movs	r7, #114
 1578              	.LVL98:
 1579              	.L126:
 486:Src/main.c    **** 		disp[1] = 'r';
 1580              		.loc 1 486 11 view .LVU448
 1581 01a6 6226     		movs	r6, #98
 1582 01a8 B2E7     		b	.L84
 1583              	.LVL99:
 1584              	.L90:
 498:Src/main.c    **** 		disp[1] = '1';
 1585              		.loc 1 498 3 is_stmt 1 view .LVU449
 499:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : '0';
 1586              		.loc 1 499 3 view .LVU450
 500:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1587              		.loc 1 500 3 view .LVU451
 500:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1588              		.loc 1 500 26 is_stmt 0 view .LVU452
 1589 01aa 394B     		ldr	r3, .L134+4
 500:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1590              		.loc 1 500 11 view .LVU453
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 43


 1591 01ac 1B78     		ldrb	r3, [r3]
 1592 01ae 002B     		cmp	r3, #0
 1593 01b0 5BD1     		bne	.L112
 1594              	.LVL100:
 501:Src/main.c    **** 	}
 1595              		.loc 1 501 3 is_stmt 1 view .LVU454
 500:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1596              		.loc 1 500 11 is_stmt 0 discriminator 4 view .LVU455
 1597 01b2 3025     		movs	r5, #48
 501:Src/main.c    **** 	}
 1598              		.loc 1 501 51 discriminator 1 view .LVU456
 1599 01b4 3E4B     		ldr	r3, .L134+36
 501:Src/main.c    **** 	}
 1600              		.loc 1 501 11 discriminator 1 view .LVU457
 1601 01b6 1C78     		ldrb	r4, [r3]
 1602 01b8 3034     		adds	r4, r4, #48
 1603 01ba E4B2     		uxtb	r4, r4
 1604              	.LVL101:
 1605              	.L129:
 499:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : '0';
 1606              		.loc 1 499 11 view .LVU458
 1607 01bc 3127     		movs	r7, #49
 1608 01be F2E7     		b	.L126
 1609              	.LVL102:
 1610              	.L89:
 504:Src/main.c    **** 		disp[1] = '2';
 1611              		.loc 1 504 3 is_stmt 1 view .LVU459
 505:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : '0';
 1612              		.loc 1 505 3 view .LVU460
 506:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1613              		.loc 1 506 3 view .LVU461
 506:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1614              		.loc 1 506 26 is_stmt 0 view .LVU462
 1615 01c0 334B     		ldr	r3, .L134+4
 506:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1616              		.loc 1 506 11 view .LVU463
 1617 01c2 1B78     		ldrb	r3, [r3]
 1618 01c4 002B     		cmp	r3, #0
 1619 01c6 53D1     		bne	.L113
 1620              	.LVL103:
 507:Src/main.c    **** 	}
 1621              		.loc 1 507 3 is_stmt 1 view .LVU464
 506:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1622              		.loc 1 506 11 is_stmt 0 discriminator 4 view .LVU465
 1623 01c8 3025     		movs	r5, #48
 507:Src/main.c    **** 	}
 1624              		.loc 1 507 49 discriminator 1 view .LVU466
 1625 01ca 3A4B     		ldr	r3, .L134+40
 507:Src/main.c    **** 	}
 1626              		.loc 1 507 11 discriminator 1 view .LVU467
 1627 01cc 1C78     		ldrb	r4, [r3]
 1628 01ce 3034     		adds	r4, r4, #48
 1629 01d0 E4B2     		uxtb	r4, r4
 1630              	.LVL104:
 1631              	.L130:
 505:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : '0';
 1632              		.loc 1 505 11 view .LVU468
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 44


 1633 01d2 3227     		movs	r7, #50
 1634 01d4 E7E7     		b	.L126
 1635              	.LVL105:
 1636              	.L88:
 510:Src/main.c    **** 		disp[1] = 'o';
 1637              		.loc 1 510 3 is_stmt 1 view .LVU469
 511:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : 'o' ;
 1638              		.loc 1 511 3 view .LVU470
 512:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1639              		.loc 1 512 3 view .LVU471
 512:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1640              		.loc 1 512 26 is_stmt 0 view .LVU472
 1641 01d6 2E4B     		ldr	r3, .L134+4
 512:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1642              		.loc 1 512 11 view .LVU473
 1643 01d8 1B78     		ldrb	r3, [r3]
 1644 01da 002B     		cmp	r3, #0
 1645 01dc 4BD1     		bne	.L114
 1646              	.LVL106:
 513:Src/main.c    **** 	}
 1647              		.loc 1 513 3 is_stmt 1 view .LVU474
 513:Src/main.c    **** 	}
 1648              		.loc 1 513 54 is_stmt 0 discriminator 1 view .LVU475
 1649 01de 364B     		ldr	r3, .L134+44
 513:Src/main.c    **** 	}
 1650              		.loc 1 513 11 discriminator 3 view .LVU476
 1651 01e0 6E24     		movs	r4, #110
 513:Src/main.c    **** 	}
 1652              		.loc 1 513 11 discriminator 1 view .LVU477
 1653 01e2 1B78     		ldrb	r3, [r3]
 1654 01e4 002B     		cmp	r3, #0
 1655 01e6 00D1     		bne	.L131
 513:Src/main.c    **** 	}
 1656              		.loc 1 513 11 discriminator 4 view .LVU478
 1657 01e8 4624     		movs	r4, #70
 1658              	.L131:
 512:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1659              		.loc 1 512 11 discriminator 4 view .LVU479
 1660 01ea 6F25     		movs	r5, #111
 1661 01ec 45E0     		b	.L132
 1662              	.LVL107:
 1663              	.L87:
 516:Src/main.c    **** 		disp[1] = 'S';
 1664              		.loc 1 516 3 is_stmt 1 view .LVU480
 517:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : ringOnTimeStart / 10  + '0';
 1665              		.loc 1 517 3 view .LVU481
 518:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10  + '0';
 1666              		.loc 1 518 3 view .LVU482
 518:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10  + '0';
 1667              		.loc 1 518 26 is_stmt 0 view .LVU483
 1668 01ee 284B     		ldr	r3, .L134+4
 518:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10  + '0';
 1669              		.loc 1 518 11 view .LVU484
 1670 01f0 1B78     		ldrb	r3, [r3]
 1671 01f2 002B     		cmp	r3, #0
 1672 01f4 44D1     		bne	.L116
 518:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10  + '0';
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 45


 1673              		.loc 1 518 56 discriminator 1 view .LVU485
 1674 01f6 314B     		ldr	r3, .L134+48
 1675 01f8 0A21     		movs	r1, #10
 1676 01fa 1C78     		ldrb	r4, [r3]
 1677 01fc 2000     		movs	r0, r4
 1678 01fe FFF7FEFF 		bl	__aeabi_uidiv
 1679              	.LVL108:
 518:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10  + '0';
 1680              		.loc 1 518 11 discriminator 1 view .LVU486
 1681 0202 3030     		adds	r0, r0, #48
 519:Src/main.c    **** 	}
 1682              		.loc 1 519 56 discriminator 1 view .LVU487
 1683 0204 0A21     		movs	r1, #10
 518:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10  + '0';
 1684              		.loc 1 518 11 discriminator 1 view .LVU488
 1685 0206 C5B2     		uxtb	r5, r0
 1686              	.LVL109:
 519:Src/main.c    **** 	}
 1687              		.loc 1 519 3 is_stmt 1 view .LVU489
 519:Src/main.c    **** 	}
 1688              		.loc 1 519 56 is_stmt 0 discriminator 1 view .LVU490
 1689 0208 2000     		movs	r0, r4
 1690 020a FFF7FEFF 		bl	__aeabi_uidivmod
 1691              	.LVL110:
 519:Src/main.c    **** 	}
 1692              		.loc 1 519 11 discriminator 1 view .LVU491
 1693 020e 3031     		adds	r1, r1, #48
 1694 0210 CCB2     		uxtb	r4, r1
 1695              	.LVL111:
 1696              	.L133:
 517:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : ringOnTimeStart / 10  + '0';
 1697              		.loc 1 517 11 view .LVU492
 1698 0212 5327     		movs	r7, #83
 1699 0214 32E0     		b	.L118
 1700              	.LVL112:
 1701              	.L85:
 522:Src/main.c    **** 		disp[1] = 'e';
 1702              		.loc 1 522 3 is_stmt 1 view .LVU493
 523:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : ringOnTimeStop / 10  + '0';
 1703              		.loc 1 523 3 view .LVU494
 524:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10  + '0';
 1704              		.loc 1 524 3 view .LVU495
 524:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10  + '0';
 1705              		.loc 1 524 26 is_stmt 0 view .LVU496
 1706 0216 1E4B     		ldr	r3, .L134+4
 524:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10  + '0';
 1707              		.loc 1 524 11 view .LVU497
 1708 0218 1B78     		ldrb	r3, [r3]
 1709 021a 002B     		cmp	r3, #0
 1710 021c 33D1     		bne	.L117
 524:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10  + '0';
 1711              		.loc 1 524 55 discriminator 1 view .LVU498
 1712 021e 284B     		ldr	r3, .L134+52
 1713 0220 0A21     		movs	r1, #10
 1714 0222 1C78     		ldrb	r4, [r3]
 1715 0224 2000     		movs	r0, r4
 1716 0226 FFF7FEFF 		bl	__aeabi_uidiv
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 46


 1717              	.LVL113:
 524:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10  + '0';
 1718              		.loc 1 524 11 discriminator 1 view .LVU499
 1719 022a 3030     		adds	r0, r0, #48
 525:Src/main.c    **** 	}
 1720              		.loc 1 525 55 discriminator 1 view .LVU500
 1721 022c 0A21     		movs	r1, #10
 524:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10  + '0';
 1722              		.loc 1 524 11 discriminator 1 view .LVU501
 1723 022e C5B2     		uxtb	r5, r0
 1724              	.LVL114:
 525:Src/main.c    **** 	}
 1725              		.loc 1 525 3 is_stmt 1 view .LVU502
 525:Src/main.c    **** 	}
 1726              		.loc 1 525 55 is_stmt 0 discriminator 1 view .LVU503
 1727 0230 2000     		movs	r0, r4
 1728 0232 FFF7FEFF 		bl	__aeabi_uidivmod
 1729              	.LVL115:
 525:Src/main.c    **** 	}
 1730              		.loc 1 525 11 discriminator 1 view .LVU504
 1731 0236 3031     		adds	r1, r1, #48
 1732 0238 CCB2     		uxtb	r4, r1
 1733              	.LVL116:
 1734              	.L120:
 523:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : ringOnTimeStop / 10  + '0';
 1735              		.loc 1 523 11 view .LVU505
 1736 023a 6527     		movs	r7, #101
 1737 023c 1EE0     		b	.L118
 1738              	.LVL117:
 1739              	.L101:
 443:Src/main.c    **** 		disp[0] = blinkControl ? ' ' : (lastTime.hours / 10 + '0');
 1740              		.loc 1 443 17 view .LVU506
 1741 023e 0024     		movs	r4, #0
 1742 0240 2500     		movs	r5, r4
 1743 0242 2700     		movs	r7, r4
 1744 0244 2600     		movs	r6, r4
 1745 0246 63E7     		b	.L84
 1746              	.LVL118:
 1747              	.L104:
 459:Src/main.c    **** 	}
 1748              		.loc 1 459 11 discriminator 2 view .LVU507
 1749 0248 2024     		movs	r4, #32
 458:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isAlarmEnabled ? 'n' : 'F';
 1750              		.loc 1 458 11 discriminator 4 view .LVU508
 1751 024a 2500     		movs	r5, r4
 1752              	.LVL119:
 1753              	.L122:
 457:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : 'o' ;
 1754              		.loc 1 457 11 view .LVU509
 1755 024c 4C27     		movs	r7, #76
 456:Src/main.c    **** 		disp[1] = 'L';
 1756              		.loc 1 456 11 view .LVU510
 1757 024e 4126     		movs	r6, #65
 1758 0250 5EE7     		b	.L84
 1759              	.LVL120:
 1760              	.L108:
 477:Src/main.c    **** 	}
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 47


 1761              		.loc 1 477 11 discriminator 2 view .LVU511
 1762 0252 2024     		movs	r4, #32
 476:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureShowTime % 10  + '0';
 1763              		.loc 1 476 11 discriminator 4 view .LVU512
 1764 0254 2500     		movs	r5, r4
 1765 0256 83E7     		b	.L123
 1766              	.LVL121:
 1767              	.L109:
 483:Src/main.c    **** 	}
 1768              		.loc 1 483 11 discriminator 2 view .LVU513
 1769 0258 2024     		movs	r4, #32
 482:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : tempertureHideTime % 10  + '0';
 1770              		.loc 1 482 11 discriminator 4 view .LVU514
 1771 025a 2500     		movs	r5, r4
 1772 025c 95E7     		b	.L128
 1773              	.LVL122:
 1774              	.L110:
 494:Src/main.c    **** 		}
 1775              		.loc 1 494 12 view .LVU515
 1776 025e 5524     		movs	r4, #85
 493:Src/main.c    **** 			disp[3] = 'U';
 1777              		.loc 1 493 12 view .LVU516
 1778 0260 4125     		movs	r5, #65
 1779 0262 9FE7     		b	.L125
 1780              	.L111:
 490:Src/main.c    **** 		}
 1781              		.loc 1 490 12 discriminator 2 view .LVU517
 1782 0264 2024     		movs	r4, #32
 489:Src/main.c    **** 			disp[3] = blinkControl ? ' ' : savedBrightness + '0';
 1783              		.loc 1 489 12 discriminator 4 view .LVU518
 1784 0266 2500     		movs	r5, r4
 1785 0268 9CE7     		b	.L125
 1786              	.LVL123:
 1787              	.L112:
 501:Src/main.c    **** 	}
 1788              		.loc 1 501 11 discriminator 2 view .LVU519
 1789 026a 2024     		movs	r4, #32
 500:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : strongBrightness + '0';
 1790              		.loc 1 500 11 discriminator 4 view .LVU520
 1791 026c 2500     		movs	r5, r4
 1792 026e A5E7     		b	.L129
 1793              	.LVL124:
 1794              	.L113:
 507:Src/main.c    **** 	}
 1795              		.loc 1 507 11 discriminator 2 view .LVU521
 1796 0270 2024     		movs	r4, #32
 506:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : weakBrightness + '0';
 1797              		.loc 1 506 11 discriminator 4 view .LVU522
 1798 0272 2500     		movs	r5, r4
 1799 0274 ADE7     		b	.L130
 1800              	.LVL125:
 1801              	.L114:
 513:Src/main.c    **** 	}
 1802              		.loc 1 513 11 discriminator 2 view .LVU523
 1803 0276 2024     		movs	r4, #32
 512:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : isRingOnTimeEnabled ? 'n' : 'F';
 1804              		.loc 1 512 11 discriminator 4 view .LVU524
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 48


 1805 0278 2500     		movs	r5, r4
 1806              	.LVL126:
 1807              	.L132:
 511:Src/main.c    **** 		disp[2] = blinkControl ? ' ' : 'o' ;
 1808              		.loc 1 511 11 view .LVU525
 1809 027a 6F27     		movs	r7, #111
 1810              	.LVL127:
 1811              	.L118:
 522:Src/main.c    **** 		disp[1] = 'e';
 1812              		.loc 1 522 11 view .LVU526
 1813 027c 7226     		movs	r6, #114
 1814 027e 47E7     		b	.L84
 1815              	.LVL128:
 1816              	.L116:
 519:Src/main.c    **** 	}
 1817              		.loc 1 519 11 discriminator 2 view .LVU527
 1818 0280 2024     		movs	r4, #32
 518:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStart % 10  + '0';
 1819              		.loc 1 518 11 discriminator 4 view .LVU528
 1820 0282 2500     		movs	r5, r4
 1821 0284 C5E7     		b	.L133
 1822              	.LVL129:
 1823              	.L117:
 525:Src/main.c    **** 	}
 1824              		.loc 1 525 11 discriminator 2 view .LVU529
 1825 0286 2024     		movs	r4, #32
 524:Src/main.c    **** 		disp[3] = blinkControl ? ' ' : ringOnTimeStop % 10  + '0';
 1826              		.loc 1 524 11 discriminator 4 view .LVU530
 1827 0288 2500     		movs	r5, r4
 1828 028a D6E7     		b	.L120
 1829              	.L135:
 1830              		.align	2
 1831              	.L134:
 1832 028c 00000000 		.word	currentMode
 1833 0290 00000000 		.word	blinkControl
 1834 0294 00000000 		.word	lastTime
 1835 0298 00000000 		.word	isAlarmEnabled
 1836 029c 00000000 		.word	alarmHour
 1837 02a0 00000000 		.word	alarmMin
 1838 02a4 00000000 		.word	tempertureShowTime
 1839 02a8 00000000 		.word	tempertureHideTime
 1840 02ac 00000000 		.word	savedBrightness
 1841 02b0 00000000 		.word	strongBrightness
 1842 02b4 00000000 		.word	weakBrightness
 1843 02b8 00000000 		.word	isRingOnTimeEnabled
 1844 02bc 00000000 		.word	ringOnTimeStart
 1845 02c0 00000000 		.word	ringOnTimeStop
 1846              		.cfi_endproc
 1847              	.LFE47:
 1849              		.section	.text.modeKeyClicked,"ax",%progbits
 1850              		.align	1
 1851              		.global	modeKeyClicked
 1852              		.syntax unified
 1853              		.code	16
 1854              		.thumb_func
 1856              	modeKeyClicked:
 1857              	.LFB48:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 49


 533:Src/main.c    **** 
 534:Src/main.c    **** 
 535:Src/main.c    **** void modeKeyClicked() {
 1858              		.loc 1 535 23 is_stmt 1 view -0
 1859              		.cfi_startproc
 1860              		@ args = 0, pretend = 0, frame = 0
 1861              		@ frame_needed = 0, uses_anonymous_args = 0
 536:Src/main.c    **** 
 537:Src/main.c    **** 	if(isAlarming){
 1862              		.loc 1 537 2 view .LVU532
 1863              		.loc 1 537 5 is_stmt 0 view .LVU533
 1864 0000 454B     		ldr	r3, .L167
 535:Src/main.c    **** 
 1865              		.loc 1 535 23 view .LVU534
 1866 0002 70B5     		push	{r4, r5, r6, lr}
 1867              	.LCFI10:
 1868              		.cfi_def_cfa_offset 16
 1869              		.cfi_offset 4, -16
 1870              		.cfi_offset 5, -12
 1871              		.cfi_offset 6, -8
 1872              		.cfi_offset 14, -4
 1873              		.loc 1 537 4 view .LVU535
 1874 0004 1B78     		ldrb	r3, [r3]
 1875 0006 002B     		cmp	r3, #0
 1876 0008 02D0     		beq	.L137
 538:Src/main.c    **** 		alarmStop();
 1877              		.loc 1 538 3 is_stmt 1 view .LVU536
 1878 000a FFF7FEFF 		bl	alarmStop
 1879              	.LVL130:
 539:Src/main.c    **** 		return;
 1880              		.loc 1 539 3 view .LVU537
 1881              	.L136:
 540:Src/main.c    **** 	}
 541:Src/main.c    **** 
 542:Src/main.c    **** 	if (currentMode == MODE_SHOW_TIME || currentMode == MODE_SHOW_TEMPERTURE) {
 543:Src/main.c    **** 		currentMode = MODE_SET_HOUR;
 544:Src/main.c    **** 		blinkControl = 0xFF;
 545:Src/main.c    **** 		refreshSettingsDisplay();
 546:Src/main.c    **** 		SetInterruptOuput(F_2_HZ);
 547:Src/main.c    **** 	}
 548:Src/main.c    **** 	else if (currentMode == MODE_SHOW_SECOND) {
 549:Src/main.c    **** 		lastTime.seconds = 0;
 550:Src/main.c    **** 		SetTime(&lastTime);
 551:Src/main.c    **** 		refreshTimeDisplay();
 552:Src/main.c    **** 	}
 553:Src/main.c    **** 	else if (currentMode == MODE_SET_HOUR) {
 554:Src/main.c    **** 		currentMode = MODE_SET_MINUTE;
 555:Src/main.c    **** 		blinkControl = 0xFF;
 556:Src/main.c    **** 		refreshSettingsDisplay();
 557:Src/main.c    **** 	}
 558:Src/main.c    **** 	else if (currentMode == MODE_SET_MINUTE) {
 559:Src/main.c    **** 		currentMode = MODE_SET_ALARM_ENABLE;
 560:Src/main.c    **** 		blinkControl = 0x00;
 561:Src/main.c    **** 		refreshSettingsDisplay();
 562:Src/main.c    **** 	}
 563:Src/main.c    **** 	else if (currentMode == MODE_SET_ALARM_ENABLE) {
 564:Src/main.c    **** 		currentMode = isAlarmEnabled ? MODE_SET_ALARM_HOUR : MODE_SET_TEMP_SHOW;
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 50


 565:Src/main.c    **** 		blinkControl = 0xFF;
 566:Src/main.c    **** 		refreshSettingsDisplay();
 567:Src/main.c    **** 	}
 568:Src/main.c    **** 	else if (currentMode == MODE_SET_ALARM_HOUR) {
 569:Src/main.c    **** 		currentMode = MODE_SET_ALARM_MINUTE;
 570:Src/main.c    **** 		blinkControl = 0xFF;
 571:Src/main.c    **** 		refreshSettingsDisplay();
 572:Src/main.c    **** 	}
 573:Src/main.c    **** 	else if (currentMode == MODE_SET_ALARM_MINUTE) {
 574:Src/main.c    **** 		currentMode = MODE_SET_TEMP_SHOW;
 575:Src/main.c    **** 		blinkControl = 0x00;
 576:Src/main.c    **** 		refreshSettingsDisplay();
 577:Src/main.c    **** 	}
 578:Src/main.c    **** 	else if (currentMode == MODE_SET_TEMP_SHOW) {
 579:Src/main.c    **** 		if(tempertureShowTime != 0){
 580:Src/main.c    **** 			currentMode = MODE_SET_TEMP_HIDE;
 581:Src/main.c    **** 		}
 582:Src/main.c    **** 		else{
 583:Src/main.c    **** 			currentMode = MODE_SET_BRIGHTNESS;
 584:Src/main.c    **** 		}
 585:Src/main.c    **** 		blinkControl = 0x00;
 586:Src/main.c    **** 		refreshSettingsDisplay();
 587:Src/main.c    **** 
 588:Src/main.c    **** 	}
 589:Src/main.c    **** 	else if (currentMode == MODE_SET_TEMP_HIDE) {
 590:Src/main.c    **** 		currentMode = MODE_SET_BRIGHTNESS;
 591:Src/main.c    **** 		blinkControl = 0x00;
 592:Src/main.c    **** 		refreshSettingsDisplay();
 593:Src/main.c    **** 	}
 594:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS) {
 595:Src/main.c    **** 		if(savedBrightness == 0){
 596:Src/main.c    **** 			currentMode = MODE_SET_BRIGHTNESS_STRONG;
 597:Src/main.c    **** 		}
 598:Src/main.c    **** 		else{
 599:Src/main.c    **** 			currentMode = MODE_SET_ROT_ENABLE;
 600:Src/main.c    **** 		}
 601:Src/main.c    **** 		blinkControl = 0x00;
 602:Src/main.c    **** 		refreshSettingsDisplay();
 603:Src/main.c    **** 	}
 604:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS_STRONG) {
 605:Src/main.c    **** 		currentMode = MODE_SET_BRIGHTNESS_WEAK;
 606:Src/main.c    **** 		blinkControl = 0x00;
 607:Src/main.c    **** 		TM1637SetBrightness(weakBrightness);
 608:Src/main.c    **** 		refreshSettingsDisplay();
 609:Src/main.c    **** 	}
 610:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 611:Src/main.c    **** 		currentMode = MODE_SET_ROT_ENABLE;
 612:Src/main.c    **** 		blinkControl = 0x00;
 613:Src/main.c    **** 		TM1637SetBrightness(strongBrightness);
 614:Src/main.c    **** 		isWeakBrightness = false;
 615:Src/main.c    **** 		refreshSettingsDisplay();
 616:Src/main.c    **** 	}
 617:Src/main.c    **** 	else if (currentMode == MODE_SET_ROT_ENABLE) {
 618:Src/main.c    **** 		blinkControl = 0x00;
 619:Src/main.c    **** 		if(!isRingOnTimeEnabled){
 620:Src/main.c    **** 			currentMode = MODE_SHOW_TIME;
 621:Src/main.c    **** 			// ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 51


 622:Src/main.c    **** 			TimeNow(&time);
 623:Src/main.c    **** 			lastTime.seconds = time.seconds;
 624:Src/main.c    **** 			SetTime(&lastTime);
 625:Src/main.c    **** 			lastRingOnTimeHour = lastTime.hours;
 626:Src/main.c    **** 
 627:Src/main.c    **** 			saveSettings();
 628:Src/main.c    **** 
 629:Src/main.c    **** 			refreshTimeDisplay();
 630:Src/main.c    **** 			EnableSencodInterruptOuput();
 631:Src/main.c    **** 			lastDisplayChangeTime = HAL_GetTick();
 632:Src/main.c    **** 		}
 633:Src/main.c    **** 		else{
 634:Src/main.c    **** 			currentMode = MODE_SET_ROT_START;
 635:Src/main.c    **** 			refreshSettingsDisplay();
 636:Src/main.c    **** 		}
 637:Src/main.c    **** 	}
 638:Src/main.c    **** 	else if (currentMode == MODE_SET_ROT_START) {
 639:Src/main.c    **** 		currentMode = MODE_SET_ROT_STOP;
 640:Src/main.c    **** 		blinkControl = 0x00;
 641:Src/main.c    **** 		refreshSettingsDisplay();
 642:Src/main.c    **** 	}
 643:Src/main.c    **** 	else if (currentMode == MODE_SET_ROT_STOP) {
 644:Src/main.c    **** 		currentMode = MODE_SHOW_TIME;
 645:Src/main.c    **** 		// ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
 646:Src/main.c    **** 		TimeNow(&time);
 647:Src/main.c    **** 		lastTime.seconds = time.seconds;
 648:Src/main.c    **** 		SetTime(&lastTime);
 649:Src/main.c    **** 		lastRingOnTimeHour = lastTime.hours;
 650:Src/main.c    **** 		saveSettings();
 651:Src/main.c    **** 		refreshTimeDisplay();
 652:Src/main.c    **** 		EnableSencodInterruptOuput();
 653:Src/main.c    **** 		lastDisplayChangeTime = HAL_GetTick();
 654:Src/main.c    **** 
 655:Src/main.c    **** 	}
 656:Src/main.c    **** }
 1882              		.loc 1 656 1 is_stmt 0 view .LVU538
 1883              		@ sp needed
 1884 000e 70BD     		pop	{r4, r5, r6, pc}
 1885              	.L137:
 542:Src/main.c    **** 		currentMode = MODE_SET_HOUR;
 1886              		.loc 1 542 2 is_stmt 1 view .LVU539
 542:Src/main.c    **** 		currentMode = MODE_SET_HOUR;
 1887              		.loc 1 542 18 is_stmt 0 view .LVU540
 1888 0010 424B     		ldr	r3, .L167+4
 1889 0012 1878     		ldrb	r0, [r3]
 1890 0014 0F28     		cmp	r0, #15
 1891 0016 FAD8     		bhi	.L136
 1892 0018 FFF7FEFF 		bl	__gnu_thumb1_case_uqi
 1893              	.L140:
 1894 001c 08       		.byte	(.L153-.L140)/2
 1895 001d 13       		.byte	(.L154-.L140)/2
 1896 001e 08       		.byte	(.L153-.L140)/2
 1897 001f 1B       		.byte	(.L152-.L140)/2
 1898 0020 21       		.byte	(.L151-.L140)/2
 1899 0021 26       		.byte	(.L150-.L140)/2
 1900 0022 2D       		.byte	(.L149-.L140)/2
 1901 0023 2F       		.byte	(.L148-.L140)/2
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 52


 1902 0024 31       		.byte	(.L147-.L140)/2
 1903 0025 37       		.byte	(.L146-.L140)/2
 1904 0026 39       		.byte	(.L145-.L140)/2
 1905 0027 40       		.byte	(.L144-.L140)/2
 1906 0028 4C       		.byte	(.L143-.L140)/2
 1907 0029 58       		.byte	(.L142-.L140)/2
 1908 002a 7A       		.byte	(.L141-.L140)/2
 1909 002b 7C       		.byte	(.L139-.L140)/2
 1910              		.p2align 1
 1911              	.L153:
 543:Src/main.c    **** 		blinkControl = 0xFF;
 1912              		.loc 1 543 3 is_stmt 1 view .LVU541
 543:Src/main.c    **** 		blinkControl = 0xFF;
 1913              		.loc 1 543 15 is_stmt 0 view .LVU542
 1914 002c 0322     		movs	r2, #3
 1915 002e 1A70     		strb	r2, [r3]
 544:Src/main.c    **** 		refreshSettingsDisplay();
 1916              		.loc 1 544 3 is_stmt 1 view .LVU543
 544:Src/main.c    **** 		refreshSettingsDisplay();
 1917              		.loc 1 544 16 is_stmt 0 view .LVU544
 1918 0030 3B4B     		ldr	r3, .L167+8
 1919 0032 FC32     		adds	r2, r2, #252
 1920 0034 1A70     		strb	r2, [r3]
 545:Src/main.c    **** 		SetInterruptOuput(F_2_HZ);
 1921              		.loc 1 545 3 is_stmt 1 view .LVU545
 1922 0036 FFF7FEFF 		bl	refreshSettingsDisplay
 1923              	.LVL131:
 546:Src/main.c    **** 	}
 1924              		.loc 1 546 3 view .LVU546
 1925 003a 0920     		movs	r0, #9
 1926 003c FFF7FEFF 		bl	SetInterruptOuput
 1927              	.LVL132:
 1928 0040 E5E7     		b	.L136
 1929              	.L154:
 549:Src/main.c    **** 		SetTime(&lastTime);
 1930              		.loc 1 549 3 view .LVU547
 549:Src/main.c    **** 		SetTime(&lastTime);
 1931              		.loc 1 549 20 is_stmt 0 view .LVU548
 1932 0042 0023     		movs	r3, #0
 1933 0044 3748     		ldr	r0, .L167+12
 1934 0046 0370     		strb	r3, [r0]
 550:Src/main.c    **** 		refreshTimeDisplay();
 1935              		.loc 1 550 3 is_stmt 1 view .LVU549
 1936 0048 FFF7FEFF 		bl	SetTime
 1937              	.LVL133:
 551:Src/main.c    **** 	}
 1938              		.loc 1 551 3 view .LVU550
 1939 004c FFF7FEFF 		bl	refreshTimeDisplay
 1940              	.LVL134:
 1941 0050 DDE7     		b	.L136
 1942              	.L152:
 554:Src/main.c    **** 		blinkControl = 0xFF;
 1943              		.loc 1 554 3 view .LVU551
 554:Src/main.c    **** 		blinkControl = 0xFF;
 1944              		.loc 1 554 15 is_stmt 0 view .LVU552
 1945 0052 0422     		movs	r2, #4
 1946              	.L155:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 53


 564:Src/main.c    **** 		blinkControl = 0xFF;
 1947              		.loc 1 564 15 discriminator 4 view .LVU553
 1948 0054 1A70     		strb	r2, [r3]
 565:Src/main.c    **** 		refreshSettingsDisplay();
 1949              		.loc 1 565 3 is_stmt 1 view .LVU554
 565:Src/main.c    **** 		refreshSettingsDisplay();
 1950              		.loc 1 565 16 is_stmt 0 view .LVU555
 1951 0056 FF22     		movs	r2, #255
 1952 0058 314B     		ldr	r3, .L167+8
 1953              	.L163:
 640:Src/main.c    **** 		refreshSettingsDisplay();
 1954              		.loc 1 640 16 view .LVU556
 1955 005a 1A70     		strb	r2, [r3]
 1956 005c 27E0     		b	.L165
 1957              	.L151:
 559:Src/main.c    **** 		blinkControl = 0x00;
 1958              		.loc 1 559 3 is_stmt 1 view .LVU557
 559:Src/main.c    **** 		blinkControl = 0x00;
 1959              		.loc 1 559 15 is_stmt 0 view .LVU558
 1960 005e 0522     		movs	r2, #5
 1961              	.L166:
 639:Src/main.c    **** 		blinkControl = 0x00;
 1962              		.loc 1 639 15 view .LVU559
 1963 0060 1A70     		strb	r2, [r3]
 640:Src/main.c    **** 		refreshSettingsDisplay();
 1964              		.loc 1 640 3 is_stmt 1 view .LVU560
 640:Src/main.c    **** 		refreshSettingsDisplay();
 1965              		.loc 1 640 16 is_stmt 0 view .LVU561
 1966 0062 0022     		movs	r2, #0
 1967 0064 2E4B     		ldr	r3, .L167+8
 1968 0066 F8E7     		b	.L163
 1969              	.L150:
 564:Src/main.c    **** 		blinkControl = 0xFF;
 1970              		.loc 1 564 3 is_stmt 1 view .LVU562
 564:Src/main.c    **** 		blinkControl = 0xFF;
 1971              		.loc 1 564 32 is_stmt 0 view .LVU563
 1972 0068 2F4A     		ldr	r2, .L167+16
 564:Src/main.c    **** 		blinkControl = 0xFF;
 1973              		.loc 1 564 54 view .LVU564
 1974 006a 1178     		ldrb	r1, [r2]
 564:Src/main.c    **** 		blinkControl = 0xFF;
 1975              		.loc 1 564 54 discriminator 2 view .LVU565
 1976 006c 0822     		movs	r2, #8
 564:Src/main.c    **** 		blinkControl = 0xFF;
 1977              		.loc 1 564 54 view .LVU566
 1978 006e 0029     		cmp	r1, #0
 1979 0070 F0D0     		beq	.L155
 564:Src/main.c    **** 		blinkControl = 0xFF;
 1980              		.loc 1 564 54 discriminator 1 view .LVU567
 1981 0072 023A     		subs	r2, r2, #2
 1982 0074 EEE7     		b	.L155
 1983              	.L149:
 569:Src/main.c    **** 		blinkControl = 0xFF;
 1984              		.loc 1 569 3 is_stmt 1 view .LVU568
 569:Src/main.c    **** 		blinkControl = 0xFF;
 1985              		.loc 1 569 15 is_stmt 0 view .LVU569
 1986 0076 0722     		movs	r2, #7
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 54


 1987 0078 ECE7     		b	.L155
 1988              	.L148:
 574:Src/main.c    **** 		blinkControl = 0x00;
 1989              		.loc 1 574 3 is_stmt 1 view .LVU570
 574:Src/main.c    **** 		blinkControl = 0x00;
 1990              		.loc 1 574 15 is_stmt 0 view .LVU571
 1991 007a 0822     		movs	r2, #8
 1992 007c F0E7     		b	.L166
 1993              	.L147:
 579:Src/main.c    **** 			currentMode = MODE_SET_TEMP_HIDE;
 1994              		.loc 1 579 3 is_stmt 1 view .LVU572
 579:Src/main.c    **** 			currentMode = MODE_SET_TEMP_HIDE;
 1995              		.loc 1 579 25 is_stmt 0 view .LVU573
 1996 007e 2B4A     		ldr	r2, .L167+20
 579:Src/main.c    **** 			currentMode = MODE_SET_TEMP_HIDE;
 1997              		.loc 1 579 5 view .LVU574
 1998 0080 1278     		ldrb	r2, [r2]
 580:Src/main.c    **** 		}
 1999              		.loc 1 580 16 view .LVU575
 2000 0082 5142     		rsbs	r1, r2, #0
 2001 0084 4A41     		adcs	r2, r2, r1
 2002 0086 0932     		adds	r2, r2, #9
 2003 0088 EAE7     		b	.L166
 2004              	.L146:
 590:Src/main.c    **** 		blinkControl = 0x00;
 2005              		.loc 1 590 3 is_stmt 1 view .LVU576
 590:Src/main.c    **** 		blinkControl = 0x00;
 2006              		.loc 1 590 15 is_stmt 0 view .LVU577
 2007 008a 0A22     		movs	r2, #10
 2008 008c E8E7     		b	.L166
 2009              	.L145:
 595:Src/main.c    **** 			currentMode = MODE_SET_BRIGHTNESS_STRONG;
 2010              		.loc 1 595 3 is_stmt 1 view .LVU578
 595:Src/main.c    **** 			currentMode = MODE_SET_BRIGHTNESS_STRONG;
 2011              		.loc 1 595 22 is_stmt 0 view .LVU579
 2012 008e 284A     		ldr	r2, .L167+24
 595:Src/main.c    **** 			currentMode = MODE_SET_BRIGHTNESS_STRONG;
 2013              		.loc 1 595 5 view .LVU580
 2014 0090 1178     		ldrb	r1, [r2]
 599:Src/main.c    **** 		}
 2015              		.loc 1 599 16 view .LVU581
 2016 0092 0D22     		movs	r2, #13
 595:Src/main.c    **** 			currentMode = MODE_SET_BRIGHTNESS_STRONG;
 2017              		.loc 1 595 5 view .LVU582
 2018 0094 0029     		cmp	r1, #0
 2019 0096 E3D1     		bne	.L166
 596:Src/main.c    **** 		}
 2020              		.loc 1 596 16 view .LVU583
 2021 0098 023A     		subs	r2, r2, #2
 2022 009a E1E7     		b	.L166
 2023              	.L144:
 605:Src/main.c    **** 		blinkControl = 0x00;
 2024              		.loc 1 605 3 is_stmt 1 view .LVU584
 605:Src/main.c    **** 		blinkControl = 0x00;
 2025              		.loc 1 605 15 is_stmt 0 view .LVU585
 2026 009c 0C22     		movs	r2, #12
 2027 009e 1A70     		strb	r2, [r3]
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 55


 606:Src/main.c    **** 		TM1637SetBrightness(weakBrightness);
 2028              		.loc 1 606 3 is_stmt 1 view .LVU586
 606:Src/main.c    **** 		TM1637SetBrightness(weakBrightness);
 2029              		.loc 1 606 16 is_stmt 0 view .LVU587
 2030 00a0 0022     		movs	r2, #0
 2031 00a2 1F4B     		ldr	r3, .L167+8
 2032 00a4 1A70     		strb	r2, [r3]
 607:Src/main.c    **** 		refreshSettingsDisplay();
 2033              		.loc 1 607 3 is_stmt 1 view .LVU588
 2034 00a6 234B     		ldr	r3, .L167+28
 2035 00a8 1878     		ldrb	r0, [r3]
 2036 00aa FFF7FEFF 		bl	TM1637SetBrightness
 2037              	.LVL135:
 608:Src/main.c    **** 	}
 2038              		.loc 1 608 3 view .LVU589
 2039              	.L165:
 641:Src/main.c    **** 	}
 2040              		.loc 1 641 3 view .LVU590
 2041 00ae FFF7FEFF 		bl	refreshSettingsDisplay
 2042              	.LVL136:
 2043 00b2 ACE7     		b	.L136
 2044              	.L143:
 611:Src/main.c    **** 		blinkControl = 0x00;
 2045              		.loc 1 611 3 view .LVU591
 611:Src/main.c    **** 		blinkControl = 0x00;
 2046              		.loc 1 611 15 is_stmt 0 view .LVU592
 2047 00b4 0D22     		movs	r2, #13
 612:Src/main.c    **** 		TM1637SetBrightness(strongBrightness);
 2048              		.loc 1 612 16 view .LVU593
 2049 00b6 0024     		movs	r4, #0
 611:Src/main.c    **** 		blinkControl = 0x00;
 2050              		.loc 1 611 15 view .LVU594
 2051 00b8 1A70     		strb	r2, [r3]
 612:Src/main.c    **** 		TM1637SetBrightness(strongBrightness);
 2052              		.loc 1 612 3 is_stmt 1 view .LVU595
 612:Src/main.c    **** 		TM1637SetBrightness(strongBrightness);
 2053              		.loc 1 612 16 is_stmt 0 view .LVU596
 2054 00ba 194B     		ldr	r3, .L167+8
 2055 00bc 1C70     		strb	r4, [r3]
 613:Src/main.c    **** 		isWeakBrightness = false;
 2056              		.loc 1 613 3 is_stmt 1 view .LVU597
 2057 00be 1E4B     		ldr	r3, .L167+32
 2058 00c0 1878     		ldrb	r0, [r3]
 2059 00c2 FFF7FEFF 		bl	TM1637SetBrightness
 2060              	.LVL137:
 614:Src/main.c    **** 		refreshSettingsDisplay();
 2061              		.loc 1 614 3 view .LVU598
 614:Src/main.c    **** 		refreshSettingsDisplay();
 2062              		.loc 1 614 20 is_stmt 0 view .LVU599
 2063 00c6 1D4B     		ldr	r3, .L167+36
 2064 00c8 1C70     		strb	r4, [r3]
 615:Src/main.c    **** 	}
 2065              		.loc 1 615 3 is_stmt 1 view .LVU600
 2066 00ca F0E7     		b	.L165
 2067              	.L142:
 618:Src/main.c    **** 		if(!isRingOnTimeEnabled){
 2068              		.loc 1 618 3 view .LVU601
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 56


 618:Src/main.c    **** 		if(!isRingOnTimeEnabled){
 2069              		.loc 1 618 16 is_stmt 0 view .LVU602
 2070 00cc 0021     		movs	r1, #0
 2071 00ce 144A     		ldr	r2, .L167+8
 2072 00d0 1170     		strb	r1, [r2]
 619:Src/main.c    **** 			currentMode = MODE_SHOW_TIME;
 2073              		.loc 1 619 3 is_stmt 1 view .LVU603
 619:Src/main.c    **** 			currentMode = MODE_SHOW_TIME;
 2074              		.loc 1 619 6 is_stmt 0 view .LVU604
 2075 00d2 1B4A     		ldr	r2, .L167+40
 619:Src/main.c    **** 			currentMode = MODE_SHOW_TIME;
 2076              		.loc 1 619 5 view .LVU605
 2077 00d4 1278     		ldrb	r2, [r2]
 2078 00d6 8A42     		cmp	r2, r1
 2079 00d8 18D1     		bne	.L158
 2080              	.L164:
 646:Src/main.c    **** 		lastTime.seconds = time.seconds;
 2081              		.loc 1 646 3 view .LVU606
 2082 00da 1A4D     		ldr	r5, .L167+44
 644:Src/main.c    **** 		// ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
 2083              		.loc 1 644 15 view .LVU607
 2084 00dc 1A70     		strb	r2, [r3]
 646:Src/main.c    **** 		lastTime.seconds = time.seconds;
 2085              		.loc 1 646 3 is_stmt 1 view .LVU608
 2086 00de 2800     		movs	r0, r5
 2087 00e0 FFF7FEFF 		bl	TimeNow
 2088              	.LVL138:
 647:Src/main.c    **** 		SetTime(&lastTime);
 2089              		.loc 1 647 3 view .LVU609
 647:Src/main.c    **** 		SetTime(&lastTime);
 2090              		.loc 1 647 20 is_stmt 0 view .LVU610
 2091 00e4 0F4C     		ldr	r4, .L167+12
 2092 00e6 2B78     		ldrb	r3, [r5]
 648:Src/main.c    **** 		lastRingOnTimeHour = lastTime.hours;
 2093              		.loc 1 648 3 view .LVU611
 2094 00e8 2000     		movs	r0, r4
 647:Src/main.c    **** 		SetTime(&lastTime);
 2095              		.loc 1 647 20 view .LVU612
 2096 00ea 2370     		strb	r3, [r4]
 648:Src/main.c    **** 		lastRingOnTimeHour = lastTime.hours;
 2097              		.loc 1 648 3 is_stmt 1 view .LVU613
 2098 00ec FFF7FEFF 		bl	SetTime
 2099              	.LVL139:
 649:Src/main.c    **** 		saveSettings();
 2100              		.loc 1 649 3 view .LVU614
 649:Src/main.c    **** 		saveSettings();
 2101              		.loc 1 649 22 is_stmt 0 view .LVU615
 2102 00f0 154B     		ldr	r3, .L167+48
 2103 00f2 E278     		ldrb	r2, [r4, #3]
 2104 00f4 1A70     		strb	r2, [r3]
 650:Src/main.c    **** 		refreshTimeDisplay();
 2105              		.loc 1 650 3 is_stmt 1 view .LVU616
 2106 00f6 FFF7FEFF 		bl	saveSettings
 2107              	.LVL140:
 651:Src/main.c    **** 		EnableSencodInterruptOuput();
 2108              		.loc 1 651 3 view .LVU617
 2109 00fa FFF7FEFF 		bl	refreshTimeDisplay
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 57


 2110              	.LVL141:
 652:Src/main.c    **** 		lastDisplayChangeTime = HAL_GetTick();
 2111              		.loc 1 652 3 view .LVU618
 2112 00fe FFF7FEFF 		bl	EnableSencodInterruptOuput
 2113              	.LVL142:
 653:Src/main.c    **** 
 2114              		.loc 1 653 3 view .LVU619
 653:Src/main.c    **** 
 2115              		.loc 1 653 27 is_stmt 0 view .LVU620
 2116 0102 FFF7FEFF 		bl	HAL_GetTick
 2117              	.LVL143:
 653:Src/main.c    **** 
 2118              		.loc 1 653 25 discriminator 1 view .LVU621
 2119 0106 114B     		ldr	r3, .L167+52
 2120 0108 1860     		str	r0, [r3]
 2121 010a 80E7     		b	.L136
 2122              	.L158:
 634:Src/main.c    **** 			refreshSettingsDisplay();
 2123              		.loc 1 634 4 is_stmt 1 view .LVU622
 634:Src/main.c    **** 			refreshSettingsDisplay();
 2124              		.loc 1 634 16 is_stmt 0 view .LVU623
 2125 010c 0E22     		movs	r2, #14
 2126 010e A4E7     		b	.L163
 2127              	.L141:
 639:Src/main.c    **** 		blinkControl = 0x00;
 2128              		.loc 1 639 3 is_stmt 1 view .LVU624
 639:Src/main.c    **** 		blinkControl = 0x00;
 2129              		.loc 1 639 15 is_stmt 0 view .LVU625
 2130 0110 0F22     		movs	r2, #15
 2131 0112 A5E7     		b	.L166
 2132              	.L139:
 644:Src/main.c    **** 		// ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
 2133              		.loc 1 644 3 is_stmt 1 view .LVU626
 644:Src/main.c    **** 		// ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
 2134              		.loc 1 644 15 is_stmt 0 view .LVU627
 2135 0114 0022     		movs	r2, #0
 2136 0116 E0E7     		b	.L164
 2137              	.L168:
 2138              		.align	2
 2139              	.L167:
 2140 0118 00000000 		.word	isAlarming
 2141 011c 00000000 		.word	currentMode
 2142 0120 00000000 		.word	blinkControl
 2143 0124 00000000 		.word	lastTime
 2144 0128 00000000 		.word	isAlarmEnabled
 2145 012c 00000000 		.word	tempertureShowTime
 2146 0130 00000000 		.word	savedBrightness
 2147 0134 00000000 		.word	weakBrightness
 2148 0138 00000000 		.word	strongBrightness
 2149 013c 00000000 		.word	isWeakBrightness
 2150 0140 00000000 		.word	isRingOnTimeEnabled
 2151 0144 00000000 		.word	time
 2152 0148 00000000 		.word	lastRingOnTimeHour
 2153 014c 00000000 		.word	lastDisplayChangeTime
 2154              		.cfi_endproc
 2155              	.LFE48:
 2157              		.section	.text.modeKeyLongPressed,"ax",%progbits
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 58


 2158              		.align	1
 2159              		.global	modeKeyLongPressed
 2160              		.syntax unified
 2161              		.code	16
 2162              		.thumb_func
 2164              	modeKeyLongPressed:
 2165              	.LFB49:
 657:Src/main.c    **** 
 658:Src/main.c    **** 
 659:Src/main.c    **** void modeKeyLongPressed(){
 2166              		.loc 1 659 26 is_stmt 1 view -0
 2167              		.cfi_startproc
 2168              		@ args = 0, pretend = 0, frame = 0
 2169              		@ frame_needed = 0, uses_anonymous_args = 0
 660:Src/main.c    **** 	if(isAlarming){
 2170              		.loc 1 660 2 view .LVU629
 2171              		.loc 1 660 5 is_stmt 0 view .LVU630
 2172 0000 0A4B     		ldr	r3, .L172
 659:Src/main.c    **** 	if(isAlarming){
 2173              		.loc 1 659 26 view .LVU631
 2174 0002 10B5     		push	{r4, lr}
 2175              	.LCFI11:
 2176              		.cfi_def_cfa_offset 8
 2177              		.cfi_offset 4, -8
 2178              		.cfi_offset 14, -4
 2179              		.loc 1 660 4 view .LVU632
 2180 0004 1978     		ldrb	r1, [r3]
 2181 0006 0029     		cmp	r1, #0
 2182 0008 02D0     		beq	.L170
 661:Src/main.c    **** 		alarmStop();
 2183              		.loc 1 661 3 is_stmt 1 view .LVU633
 2184 000a FFF7FEFF 		bl	alarmStop
 2185              	.LVL144:
 662:Src/main.c    **** 		return;
 2186              		.loc 1 662 3 view .LVU634
 2187              	.L169:
 663:Src/main.c    **** 	}
 664:Src/main.c    **** 
 665:Src/main.c    **** 	if(currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP){
 666:Src/main.c    **** 		currentMode = MODE_SHOW_TIME;
 667:Src/main.c    **** 		refreshTimeDisplay();
 668:Src/main.c    **** 		lastDisplayChangeTime = HAL_GetTick();
 669:Src/main.c    **** 	}
 670:Src/main.c    **** }
 2188              		.loc 1 670 1 is_stmt 0 view .LVU635
 2189              		@ sp needed
 2190 000e 10BD     		pop	{r4, pc}
 2191              	.L170:
 665:Src/main.c    **** 		currentMode = MODE_SHOW_TIME;
 2192              		.loc 1 665 2 is_stmt 1 view .LVU636
 665:Src/main.c    **** 		currentMode = MODE_SHOW_TIME;
 2193              		.loc 1 665 34 is_stmt 0 view .LVU637
 2194 0010 074A     		ldr	r2, .L172+4
 2195 0012 1378     		ldrb	r3, [r2]
 665:Src/main.c    **** 		currentMode = MODE_SHOW_TIME;
 2196              		.loc 1 665 4 view .LVU638
 2197 0014 033B     		subs	r3, r3, #3
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 59


 2198 0016 0C2B     		cmp	r3, #12
 2199 0018 F9D8     		bhi	.L169
 2200              	.LBB22:
 2201              	.LBI22:
 659:Src/main.c    **** 	if(isAlarming){
 2202              		.loc 1 659 6 is_stmt 1 view .LVU639
 2203              	.LBB23:
 666:Src/main.c    **** 		refreshTimeDisplay();
 2204              		.loc 1 666 3 view .LVU640
 666:Src/main.c    **** 		refreshTimeDisplay();
 2205              		.loc 1 666 15 is_stmt 0 view .LVU641
 2206 001a 1170     		strb	r1, [r2]
 667:Src/main.c    **** 		lastDisplayChangeTime = HAL_GetTick();
 2207              		.loc 1 667 3 is_stmt 1 view .LVU642
 2208 001c FFF7FEFF 		bl	refreshTimeDisplay
 2209              	.LVL145:
 668:Src/main.c    **** 	}
 2210              		.loc 1 668 3 view .LVU643
 668:Src/main.c    **** 	}
 2211              		.loc 1 668 27 is_stmt 0 view .LVU644
 2212 0020 FFF7FEFF 		bl	HAL_GetTick
 2213              	.LVL146:
 668:Src/main.c    **** 	}
 2214              		.loc 1 668 25 discriminator 1 view .LVU645
 2215 0024 034B     		ldr	r3, .L172+8
 2216 0026 1860     		str	r0, [r3]
 2217 0028 F1E7     		b	.L169
 2218              	.L173:
 2219 002a C046     		.align	2
 2220              	.L172:
 2221 002c 00000000 		.word	isAlarming
 2222 0030 00000000 		.word	currentMode
 2223 0034 00000000 		.word	lastDisplayChangeTime
 2224              	.LBE23:
 2225              	.LBE22:
 2226              		.cfi_endproc
 2227              	.LFE49:
 2229              		.section	.text.setKeyClicked,"ax",%progbits
 2230              		.align	1
 2231              		.global	setKeyClicked
 2232              		.syntax unified
 2233              		.code	16
 2234              		.thumb_func
 2236              	setKeyClicked:
 2237              	.LFB50:
 671:Src/main.c    **** 
 672:Src/main.c    **** void setKeyClicked() {
 2238              		.loc 1 672 22 is_stmt 1 view -0
 2239              		.cfi_startproc
 2240              		@ args = 0, pretend = 0, frame = 0
 2241              		@ frame_needed = 0, uses_anonymous_args = 0
 673:Src/main.c    **** 	if(isAlarming){
 2242              		.loc 1 673 2 view .LVU647
 2243              		.loc 1 673 5 is_stmt 0 view .LVU648
 2244 0000 454B     		ldr	r3, .L218
 672:Src/main.c    **** 	if(isAlarming){
 2245              		.loc 1 672 22 view .LVU649
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 60


 2246 0002 10B5     		push	{r4, lr}
 2247              	.LCFI12:
 2248              		.cfi_def_cfa_offset 8
 2249              		.cfi_offset 4, -8
 2250              		.cfi_offset 14, -4
 2251              		.loc 1 673 4 view .LVU650
 2252 0004 1B78     		ldrb	r3, [r3]
 2253 0006 002B     		cmp	r3, #0
 2254 0008 02D0     		beq	.L175
 674:Src/main.c    **** 		alarmStop();
 2255              		.loc 1 674 3 is_stmt 1 view .LVU651
 2256 000a FFF7FEFF 		bl	alarmStop
 2257              	.LVL147:
 675:Src/main.c    **** 		return;
 2258              		.loc 1 675 3 view .LVU652
 2259              	.L174:
 676:Src/main.c    **** 	}
 677:Src/main.c    **** 
 678:Src/main.c    **** 	if (currentMode == MODE_SHOW_TIME || currentMode == MODE_SHOW_TEMPERTURE) {
 679:Src/main.c    **** 		currentMode = MODE_SHOW_SECOND;
 680:Src/main.c    **** 		refreshTimeDisplay();
 681:Src/main.c    **** 	}
 682:Src/main.c    **** 	else if (currentMode == MODE_SHOW_SECOND) {
 683:Src/main.c    **** 		currentMode = MODE_SHOW_TIME;
 684:Src/main.c    **** 		refreshTimeDisplay();
 685:Src/main.c    **** 		lastDisplayChangeTime = HAL_GetTick();
 686:Src/main.c    **** 	}
 687:Src/main.c    **** 	else if (currentMode == MODE_SET_HOUR) {
 688:Src/main.c    **** 		lastTime.hours++;
 689:Src/main.c    **** 		if (lastTime.hours > 23) {
 690:Src/main.c    **** 			lastTime.hours = 0;
 691:Src/main.c    **** 		}
 692:Src/main.c    **** 		blinkControl = 0;
 693:Src/main.c    **** 		refreshSettingsDisplay();
 694:Src/main.c    **** 	}
 695:Src/main.c    **** 	else if (currentMode == MODE_SET_MINUTE) {
 696:Src/main.c    **** 		lastTime.minutes++;
 697:Src/main.c    **** 		if (lastTime.minutes > 59) {
 698:Src/main.c    **** 			lastTime.minutes = 0;
 699:Src/main.c    **** 		}
 700:Src/main.c    **** 		blinkControl = 0;
 701:Src/main.c    **** 		refreshSettingsDisplay();
 702:Src/main.c    **** 	}
 703:Src/main.c    **** 	else if (currentMode == MODE_SET_ALARM_ENABLE) {
 704:Src/main.c    **** 		isAlarmEnabled = isAlarmEnabled ? false : true;
 705:Src/main.c    **** 		blinkControl = 0;
 706:Src/main.c    **** 		refreshSettingsDisplay();
 707:Src/main.c    **** 	}
 708:Src/main.c    **** 	else if (currentMode == MODE_SET_ALARM_HOUR) {
 709:Src/main.c    **** 		alarmHour++;
 710:Src/main.c    **** 		if (alarmHour > 23) {
 711:Src/main.c    **** 			alarmHour = 0;
 712:Src/main.c    **** 		}
 713:Src/main.c    **** 		blinkControl = 0;
 714:Src/main.c    **** 		refreshSettingsDisplay();
 715:Src/main.c    **** 	}
 716:Src/main.c    **** 	else if (currentMode == MODE_SET_ALARM_MINUTE) {
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 61


 717:Src/main.c    **** 		alarmMin++;
 718:Src/main.c    **** 		if (alarmMin > 59) {
 719:Src/main.c    **** 			alarmMin = 0;
 720:Src/main.c    **** 		}
 721:Src/main.c    **** 		blinkControl = 0;
 722:Src/main.c    **** 		refreshSettingsDisplay();
 723:Src/main.c    **** 	}
 724:Src/main.c    **** 	else if (currentMode == MODE_SET_TEMP_SHOW) {
 725:Src/main.c    **** 		tempertureShowTime++;
 726:Src/main.c    **** 		if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 727:Src/main.c    **** 			tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 728:Src/main.c    **** 		}
 729:Src/main.c    **** 		blinkControl = 0;
 730:Src/main.c    **** 		refreshSettingsDisplay();
 731:Src/main.c    **** 	}
 732:Src/main.c    **** 	else if (currentMode == MODE_SET_TEMP_HIDE) {
 733:Src/main.c    **** 		tempertureHideTime++;
 734:Src/main.c    **** 		if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 735:Src/main.c    **** 			tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 736:Src/main.c    **** 		}
 737:Src/main.c    **** 		blinkControl = 0;
 738:Src/main.c    **** 		refreshSettingsDisplay();
 739:Src/main.c    **** 	}
 740:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS) {
 741:Src/main.c    **** 		savedBrightness++;
 742:Src/main.c    **** 		if (savedBrightness > 8) {
 743:Src/main.c    **** 			savedBrightness = 0;
 744:Src/main.c    **** 		}
 745:Src/main.c    **** 		TM1637SetBrightness(savedBrightness == 0 ? 1 : savedBrightness);
 746:Src/main.c    **** 		blinkControl = 0;
 747:Src/main.c    **** 		refreshSettingsDisplay();
 748:Src/main.c    **** 	}
 749:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS_STRONG) {
 750:Src/main.c    **** 		strongBrightness++;
 751:Src/main.c    **** 		if (strongBrightness > 8) {
 752:Src/main.c    **** 			strongBrightness = 1;
 753:Src/main.c    **** 		}
 754:Src/main.c    **** 		blinkControl = 0;
 755:Src/main.c    **** 		TM1637SetBrightness(strongBrightness);
 756:Src/main.c    **** 		refreshSettingsDisplay();
 757:Src/main.c    **** 	}
 758:Src/main.c    **** 	else if (currentMode == MODE_SET_BRIGHTNESS_WEAK) {
 759:Src/main.c    **** 		weakBrightness++;
 760:Src/main.c    **** 		if (weakBrightness > 8) {
 761:Src/main.c    **** 			weakBrightness = 1;
 762:Src/main.c    **** 		}
 763:Src/main.c    **** 		blinkControl = 0;
 764:Src/main.c    **** 		TM1637SetBrightness(weakBrightness);
 765:Src/main.c    **** 		refreshSettingsDisplay();
 766:Src/main.c    **** 	}
 767:Src/main.c    **** 	else if (currentMode == MODE_SET_ROT_ENABLE) {
 768:Src/main.c    **** 		isRingOnTimeEnabled = isRingOnTimeEnabled ? false : true;
 769:Src/main.c    **** 		blinkControl = 0;
 770:Src/main.c    **** 		refreshSettingsDisplay();
 771:Src/main.c    **** 	}
 772:Src/main.c    **** 	else if (currentMode == MODE_SET_ROT_START) {
 773:Src/main.c    **** 		ringOnTimeStart++;
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 62


 774:Src/main.c    **** 		if (ringOnTimeStart > 23) {
 775:Src/main.c    **** 			ringOnTimeStart = 0;
 776:Src/main.c    **** 		}
 777:Src/main.c    **** 		blinkControl = 0;
 778:Src/main.c    **** 		refreshSettingsDisplay();
 779:Src/main.c    **** 	}
 780:Src/main.c    **** 	else if (currentMode == MODE_SET_ROT_STOP) {
 781:Src/main.c    **** 		ringOnTimeStop++;
 782:Src/main.c    **** 		if (ringOnTimeStop > 23) {
 783:Src/main.c    **** 			ringOnTimeStop = 0;
 784:Src/main.c    **** 		}
 785:Src/main.c    **** 		blinkControl = 0;
 786:Src/main.c    **** 		refreshSettingsDisplay();
 787:Src/main.c    **** 	}
 788:Src/main.c    **** }
 2260              		.loc 1 788 1 is_stmt 0 view .LVU653
 2261              		@ sp needed
 2262 000e 10BD     		pop	{r4, pc}
 2263              	.L175:
 678:Src/main.c    **** 		currentMode = MODE_SHOW_SECOND;
 2264              		.loc 1 678 2 is_stmt 1 view .LVU654
 678:Src/main.c    **** 		currentMode = MODE_SHOW_SECOND;
 2265              		.loc 1 678 18 is_stmt 0 view .LVU655
 2266 0010 424B     		ldr	r3, .L218+4
 2267 0012 1878     		ldrb	r0, [r3]
 2268 0014 0F28     		cmp	r0, #15
 2269 0016 FAD8     		bhi	.L174
 2270 0018 FFF7FEFF 		bl	__gnu_thumb1_case_uqi
 2271              	.L178:
 2272 001c 08       		.byte	(.L191-.L178)/2
 2273 001d 0D       		.byte	(.L192-.L178)/2
 2274 001e 08       		.byte	(.L191-.L178)/2
 2275 001f 16       		.byte	(.L190-.L178)/2
 2276 0020 22       		.byte	(.L189-.L178)/2
 2277 0021 2B       		.byte	(.L188-.L178)/2
 2278 0022 30       		.byte	(.L187-.L178)/2
 2279 0023 37       		.byte	(.L186-.L178)/2
 2280 0024 40       		.byte	(.L185-.L178)/2
 2281 0025 4C       		.byte	(.L184-.L178)/2
 2282 0026 55       		.byte	(.L183-.L178)/2
 2283 0027 65       		.byte	(.L182-.L178)/2
 2284 0028 75       		.byte	(.L181-.L178)/2
 2285 0029 77       		.byte	(.L180-.L178)/2
 2286 002a 79       		.byte	(.L179-.L178)/2
 2287 002b 7B       		.byte	(.L177-.L178)/2
 2288              		.p2align 1
 2289              	.L191:
 679:Src/main.c    **** 		refreshTimeDisplay();
 2290              		.loc 1 679 3 is_stmt 1 view .LVU656
 679:Src/main.c    **** 		refreshTimeDisplay();
 2291              		.loc 1 679 15 is_stmt 0 view .LVU657
 2292 002c 0122     		movs	r2, #1
 2293 002e 1A70     		strb	r2, [r3]
 680:Src/main.c    **** 	}
 2294              		.loc 1 680 3 is_stmt 1 view .LVU658
 2295 0030 FFF7FEFF 		bl	refreshTimeDisplay
 2296              	.LVL148:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 63


 2297 0034 EBE7     		b	.L174
 2298              	.L192:
 683:Src/main.c    **** 		refreshTimeDisplay();
 2299              		.loc 1 683 3 view .LVU659
 683:Src/main.c    **** 		refreshTimeDisplay();
 2300              		.loc 1 683 15 is_stmt 0 view .LVU660
 2301 0036 0022     		movs	r2, #0
 2302 0038 1A70     		strb	r2, [r3]
 684:Src/main.c    **** 		lastDisplayChangeTime = HAL_GetTick();
 2303              		.loc 1 684 3 is_stmt 1 view .LVU661
 2304 003a FFF7FEFF 		bl	refreshTimeDisplay
 2305              	.LVL149:
 685:Src/main.c    **** 	}
 2306              		.loc 1 685 3 view .LVU662
 685:Src/main.c    **** 	}
 2307              		.loc 1 685 27 is_stmt 0 view .LVU663
 2308 003e FFF7FEFF 		bl	HAL_GetTick
 2309              	.LVL150:
 685:Src/main.c    **** 	}
 2310              		.loc 1 685 25 discriminator 1 view .LVU664
 2311 0042 374B     		ldr	r3, .L218+8
 2312 0044 1860     		str	r0, [r3]
 2313 0046 E2E7     		b	.L174
 2314              	.L190:
 688:Src/main.c    **** 		if (lastTime.hours > 23) {
 2315              		.loc 1 688 3 is_stmt 1 view .LVU665
 688:Src/main.c    **** 		if (lastTime.hours > 23) {
 2316              		.loc 1 688 11 is_stmt 0 view .LVU666
 2317 0048 364A     		ldr	r2, .L218+12
 688:Src/main.c    **** 		if (lastTime.hours > 23) {
 2318              		.loc 1 688 17 view .LVU667
 2319 004a D378     		ldrb	r3, [r2, #3]
 2320 004c 0133     		adds	r3, r3, #1
 2321 004e DBB2     		uxtb	r3, r3
 689:Src/main.c    **** 			lastTime.hours = 0;
 2322              		.loc 1 689 3 is_stmt 1 view .LVU668
 689:Src/main.c    **** 			lastTime.hours = 0;
 2323              		.loc 1 689 6 is_stmt 0 view .LVU669
 2324 0050 172B     		cmp	r3, #23
 2325 0052 00D9     		bls	.L193
 690:Src/main.c    **** 		}
 2326              		.loc 1 690 19 view .LVU670
 2327 0054 0023     		movs	r3, #0
 2328              	.L193:
 2329 0056 D370     		strb	r3, [r2, #3]
 692:Src/main.c    **** 		refreshSettingsDisplay();
 2330              		.loc 1 692 3 is_stmt 1 view .LVU671
 2331              	.L210:
 769:Src/main.c    **** 		refreshSettingsDisplay();
 2332              		.loc 1 769 3 view .LVU672
 769:Src/main.c    **** 		refreshSettingsDisplay();
 2333              		.loc 1 769 16 is_stmt 0 view .LVU673
 2334 0058 0022     		movs	r2, #0
 2335 005a 334B     		ldr	r3, .L218+16
 2336 005c 1A70     		strb	r2, [r3]
 2337 005e 4FE0     		b	.L209
 2338              	.L189:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 64


 696:Src/main.c    **** 		if (lastTime.minutes > 59) {
 2339              		.loc 1 696 3 is_stmt 1 view .LVU674
 696:Src/main.c    **** 		if (lastTime.minutes > 59) {
 2340              		.loc 1 696 11 is_stmt 0 view .LVU675
 2341 0060 304A     		ldr	r2, .L218+12
 696:Src/main.c    **** 		if (lastTime.minutes > 59) {
 2342              		.loc 1 696 19 view .LVU676
 2343 0062 5378     		ldrb	r3, [r2, #1]
 2344 0064 0133     		adds	r3, r3, #1
 2345 0066 DBB2     		uxtb	r3, r3
 697:Src/main.c    **** 			lastTime.minutes = 0;
 2346              		.loc 1 697 3 is_stmt 1 view .LVU677
 697:Src/main.c    **** 			lastTime.minutes = 0;
 2347              		.loc 1 697 6 is_stmt 0 view .LVU678
 2348 0068 3B2B     		cmp	r3, #59
 2349 006a 00D9     		bls	.L194
 698:Src/main.c    **** 		}
 2350              		.loc 1 698 21 view .LVU679
 2351 006c 0023     		movs	r3, #0
 2352              	.L194:
 2353 006e 5370     		strb	r3, [r2, #1]
 700:Src/main.c    **** 		refreshSettingsDisplay();
 2354              		.loc 1 700 3 is_stmt 1 view .LVU680
 2355 0070 F2E7     		b	.L210
 2356              	.L188:
 704:Src/main.c    **** 		blinkControl = 0;
 2357              		.loc 1 704 3 view .LVU681
 704:Src/main.c    **** 		blinkControl = 0;
 2358              		.loc 1 704 18 is_stmt 0 view .LVU682
 2359 0072 2E4A     		ldr	r2, .L218+20
 2360              	.L211:
 768:Src/main.c    **** 		blinkControl = 0;
 2361              		.loc 1 768 53 view .LVU683
 2362 0074 0123     		movs	r3, #1
 2363 0076 1178     		ldrb	r1, [r2]
 2364 0078 4B40     		eors	r3, r1
 2365 007a 0DE0     		b	.L214
 2366              	.L187:
 709:Src/main.c    **** 		if (alarmHour > 23) {
 2367              		.loc 1 709 3 is_stmt 1 view .LVU684
 709:Src/main.c    **** 		if (alarmHour > 23) {
 2368              		.loc 1 709 12 is_stmt 0 view .LVU685
 2369 007c 2C4A     		ldr	r2, .L218+24
 2370              	.L212:
 773:Src/main.c    **** 		if (ringOnTimeStart > 23) {
 2371              		.loc 1 773 18 view .LVU686
 2372 007e 1378     		ldrb	r3, [r2]
 2373 0080 0133     		adds	r3, r3, #1
 2374 0082 DBB2     		uxtb	r3, r3
 774:Src/main.c    **** 			ringOnTimeStart = 0;
 2375              		.loc 1 774 3 is_stmt 1 view .LVU687
 774:Src/main.c    **** 			ringOnTimeStart = 0;
 2376              		.loc 1 774 6 is_stmt 0 view .LVU688
 2377 0084 172B     		cmp	r3, #23
 2378 0086 06D8     		bhi	.L195
 2379 0088 06E0     		b	.L214
 2380              	.L186:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 65


 717:Src/main.c    **** 		if (alarmMin > 59) {
 2381              		.loc 1 717 3 is_stmt 1 view .LVU689
 717:Src/main.c    **** 		if (alarmMin > 59) {
 2382              		.loc 1 717 11 is_stmt 0 view .LVU690
 2383 008a 2A4A     		ldr	r2, .L218+28
 2384 008c 1378     		ldrb	r3, [r2]
 2385 008e 0133     		adds	r3, r3, #1
 2386 0090 DBB2     		uxtb	r3, r3
 718:Src/main.c    **** 			alarmMin = 0;
 2387              		.loc 1 718 3 is_stmt 1 view .LVU691
 718:Src/main.c    **** 			alarmMin = 0;
 2388              		.loc 1 718 6 is_stmt 0 view .LVU692
 2389 0092 3B2B     		cmp	r3, #59
 2390 0094 00D9     		bls	.L214
 2391              	.L195:
 711:Src/main.c    **** 		}
 2392              		.loc 1 711 4 is_stmt 1 view .LVU693
 711:Src/main.c    **** 		}
 2393              		.loc 1 711 14 is_stmt 0 view .LVU694
 2394 0096 0023     		movs	r3, #0
 2395              	.L214:
 768:Src/main.c    **** 		blinkControl = 0;
 2396              		.loc 1 768 23 view .LVU695
 2397 0098 1370     		strb	r3, [r2]
 2398 009a DDE7     		b	.L210
 2399              	.L185:
 725:Src/main.c    **** 		if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 2400              		.loc 1 725 3 is_stmt 1 view .LVU696
 725:Src/main.c    **** 		if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 2401              		.loc 1 725 21 is_stmt 0 view .LVU697
 2402 009c 264A     		ldr	r2, .L218+32
 2403 009e 1378     		ldrb	r3, [r2]
 2404 00a0 0133     		adds	r3, r3, #1
 2405 00a2 DBB2     		uxtb	r3, r3
 2406 00a4 1370     		strb	r3, [r2]
 726:Src/main.c    **** 			tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 2407              		.loc 1 726 3 is_stmt 1 view .LVU698
 726:Src/main.c    **** 			tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 2408              		.loc 1 726 6 is_stmt 0 view .LVU699
 2409 00a6 0F2B     		cmp	r3, #15
 2410 00a8 D6D9     		bls	.L210
 727:Src/main.c    **** 		}
 2411              		.loc 1 727 4 is_stmt 1 view .LVU700
 727:Src/main.c    **** 		}
 2412              		.loc 1 727 53 is_stmt 0 view .LVU701
 2413 00aa 244B     		ldr	r3, .L218+36
 2414              	.L213:
 735:Src/main.c    **** 		}
 2415              		.loc 1 735 53 view .LVU702
 2416 00ac 1B78     		ldrb	r3, [r3]
 2417 00ae 5942     		rsbs	r1, r3, #0
 2418 00b0 4B41     		adcs	r3, r3, r1
 2419 00b2 F1E7     		b	.L214
 2420              	.L184:
 733:Src/main.c    **** 		if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 2421              		.loc 1 733 3 is_stmt 1 view .LVU703
 733:Src/main.c    **** 		if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 66


 2422              		.loc 1 733 21 is_stmt 0 view .LVU704
 2423 00b4 214A     		ldr	r2, .L218+36
 2424 00b6 1378     		ldrb	r3, [r2]
 2425 00b8 0133     		adds	r3, r3, #1
 2426 00ba DBB2     		uxtb	r3, r3
 2427 00bc 1370     		strb	r3, [r2]
 734:Src/main.c    **** 			tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 2428              		.loc 1 734 3 is_stmt 1 view .LVU705
 734:Src/main.c    **** 			tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 2429              		.loc 1 734 6 is_stmt 0 view .LVU706
 2430 00be 1E2B     		cmp	r3, #30
 2431 00c0 CAD9     		bls	.L210
 735:Src/main.c    **** 		}
 2432              		.loc 1 735 4 is_stmt 1 view .LVU707
 735:Src/main.c    **** 		}
 2433              		.loc 1 735 53 is_stmt 0 view .LVU708
 2434 00c2 1D4B     		ldr	r3, .L218+32
 2435 00c4 F2E7     		b	.L213
 2436              	.L183:
 741:Src/main.c    **** 		if (savedBrightness > 8) {
 2437              		.loc 1 741 3 is_stmt 1 view .LVU709
 741:Src/main.c    **** 		if (savedBrightness > 8) {
 2438              		.loc 1 741 18 is_stmt 0 view .LVU710
 2439 00c6 1E4A     		ldr	r2, .L218+40
 2440 00c8 1378     		ldrb	r3, [r2]
 2441 00ca 0133     		adds	r3, r3, #1
 2442 00cc DBB2     		uxtb	r3, r3
 742:Src/main.c    **** 			savedBrightness = 0;
 2443              		.loc 1 742 3 is_stmt 1 view .LVU711
 742:Src/main.c    **** 			savedBrightness = 0;
 2444              		.loc 1 742 6 is_stmt 0 view .LVU712
 2445 00ce 082B     		cmp	r3, #8
 2446 00d0 00D9     		bls	.L199
 2447 00d2 0023     		movs	r3, #0
 2448              	.L199:
 741:Src/main.c    **** 		if (savedBrightness > 8) {
 2449              		.loc 1 741 18 view .LVU713
 2450 00d4 1370     		strb	r3, [r2]
 745:Src/main.c    **** 		blinkControl = 0;
 2451              		.loc 1 745 3 is_stmt 1 view .LVU714
 745:Src/main.c    **** 		blinkControl = 0;
 2452              		.loc 1 745 3 is_stmt 0 discriminator 4 view .LVU715
 2453 00d6 181C     		adds	r0, r3, #0
 2454 00d8 002B     		cmp	r3, #0
 2455 00da 00D1     		bne	.L200
 2456 00dc 0120     		movs	r0, #1
 2457              	.L200:
 2458 00de C0B2     		uxtb	r0, r0
 2459 00e0 FFF7FEFF 		bl	TM1637SetBrightness
 2460              	.LVL151:
 746:Src/main.c    **** 		refreshSettingsDisplay();
 2461              		.loc 1 746 3 is_stmt 1 view .LVU716
 2462 00e4 B8E7     		b	.L210
 2463              	.L182:
 750:Src/main.c    **** 		if (strongBrightness > 8) {
 2464              		.loc 1 750 3 view .LVU717
 750:Src/main.c    **** 		if (strongBrightness > 8) {
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 67


 2465              		.loc 1 750 19 is_stmt 0 view .LVU718
 2466 00e6 174B     		ldr	r3, .L218+44
 2467              	.L217:
 759:Src/main.c    **** 		if (weakBrightness > 8) {
 2468              		.loc 1 759 17 view .LVU719
 2469 00e8 1878     		ldrb	r0, [r3]
 2470 00ea 0130     		adds	r0, r0, #1
 2471 00ec C0B2     		uxtb	r0, r0
 760:Src/main.c    **** 			weakBrightness = 1;
 2472              		.loc 1 760 3 is_stmt 1 view .LVU720
 760:Src/main.c    **** 			weakBrightness = 1;
 2473              		.loc 1 760 6 is_stmt 0 view .LVU721
 2474 00ee 0828     		cmp	r0, #8
 2475 00f0 00D9     		bls	.L202
 2476 00f2 0120     		movs	r0, #1
 2477              	.L202:
 763:Src/main.c    **** 		TM1637SetBrightness(weakBrightness);
 2478              		.loc 1 763 16 view .LVU722
 2479 00f4 0022     		movs	r2, #0
 759:Src/main.c    **** 		if (weakBrightness > 8) {
 2480              		.loc 1 759 17 view .LVU723
 2481 00f6 1870     		strb	r0, [r3]
 763:Src/main.c    **** 		TM1637SetBrightness(weakBrightness);
 2482              		.loc 1 763 3 is_stmt 1 view .LVU724
 763:Src/main.c    **** 		TM1637SetBrightness(weakBrightness);
 2483              		.loc 1 763 16 is_stmt 0 view .LVU725
 2484 00f8 0B4B     		ldr	r3, .L218+16
 2485 00fa 1A70     		strb	r2, [r3]
 764:Src/main.c    **** 		refreshSettingsDisplay();
 2486              		.loc 1 764 3 is_stmt 1 view .LVU726
 2487 00fc FFF7FEFF 		bl	TM1637SetBrightness
 2488              	.LVL152:
 765:Src/main.c    **** 	}
 2489              		.loc 1 765 3 view .LVU727
 2490              	.L209:
 770:Src/main.c    **** 	}
 2491              		.loc 1 770 3 view .LVU728
 2492 0100 FFF7FEFF 		bl	refreshSettingsDisplay
 2493              	.LVL153:
 2494 0104 83E7     		b	.L174
 2495              	.L181:
 759:Src/main.c    **** 		if (weakBrightness > 8) {
 2496              		.loc 1 759 3 view .LVU729
 759:Src/main.c    **** 		if (weakBrightness > 8) {
 2497              		.loc 1 759 17 is_stmt 0 view .LVU730
 2498 0106 104B     		ldr	r3, .L218+48
 2499 0108 EEE7     		b	.L217
 2500              	.L180:
 768:Src/main.c    **** 		blinkControl = 0;
 2501              		.loc 1 768 3 is_stmt 1 view .LVU731
 768:Src/main.c    **** 		blinkControl = 0;
 2502              		.loc 1 768 23 is_stmt 0 view .LVU732
 2503 010a 104A     		ldr	r2, .L218+52
 2504 010c B2E7     		b	.L211
 2505              	.L179:
 773:Src/main.c    **** 		if (ringOnTimeStart > 23) {
 2506              		.loc 1 773 3 is_stmt 1 view .LVU733
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 68


 773:Src/main.c    **** 		if (ringOnTimeStart > 23) {
 2507              		.loc 1 773 18 is_stmt 0 view .LVU734
 2508 010e 104A     		ldr	r2, .L218+56
 2509 0110 B5E7     		b	.L212
 2510              	.L177:
 781:Src/main.c    **** 		if (ringOnTimeStop > 23) {
 2511              		.loc 1 781 3 is_stmt 1 view .LVU735
 781:Src/main.c    **** 		if (ringOnTimeStop > 23) {
 2512              		.loc 1 781 17 is_stmt 0 view .LVU736
 2513 0112 104A     		ldr	r2, .L218+60
 2514 0114 B3E7     		b	.L212
 2515              	.L219:
 2516 0116 C046     		.align	2
 2517              	.L218:
 2518 0118 00000000 		.word	isAlarming
 2519 011c 00000000 		.word	currentMode
 2520 0120 00000000 		.word	lastDisplayChangeTime
 2521 0124 00000000 		.word	lastTime
 2522 0128 00000000 		.word	blinkControl
 2523 012c 00000000 		.word	isAlarmEnabled
 2524 0130 00000000 		.word	alarmHour
 2525 0134 00000000 		.word	alarmMin
 2526 0138 00000000 		.word	tempertureShowTime
 2527 013c 00000000 		.word	tempertureHideTime
 2528 0140 00000000 		.word	savedBrightness
 2529 0144 00000000 		.word	strongBrightness
 2530 0148 00000000 		.word	weakBrightness
 2531 014c 00000000 		.word	isRingOnTimeEnabled
 2532 0150 00000000 		.word	ringOnTimeStart
 2533 0154 00000000 		.word	ringOnTimeStop
 2534              		.cfi_endproc
 2535              	.LFE50:
 2537              		.section	.text.setKeyPresseRepeatReport,"ax",%progbits
 2538              		.align	1
 2539              		.global	setKeyPresseRepeatReport
 2540              		.syntax unified
 2541              		.code	16
 2542              		.thumb_func
 2544              	setKeyPresseRepeatReport:
 2545              	.LFB51:
 789:Src/main.c    **** 
 790:Src/main.c    **** void setKeyPresseRepeatReport() {
 2546              		.loc 1 790 33 is_stmt 1 view -0
 2547              		.cfi_startproc
 2548              		@ args = 0, pretend = 0, frame = 0
 2549              		@ frame_needed = 0, uses_anonymous_args = 0
 791:Src/main.c    **** 	setKeyRepeatReported = true;
 2550              		.loc 1 791 2 view .LVU738
 2551              		.loc 1 791 23 is_stmt 0 view .LVU739
 2552 0000 0122     		movs	r2, #1
 790:Src/main.c    **** 	setKeyRepeatReported = true;
 2553              		.loc 1 790 33 view .LVU740
 2554 0002 10B5     		push	{r4, lr}
 2555              	.LCFI13:
 2556              		.cfi_def_cfa_offset 8
 2557              		.cfi_offset 4, -8
 2558              		.cfi_offset 14, -4
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 69


 2559              		.loc 1 791 23 view .LVU741
 2560 0004 274B     		ldr	r3, .L242
 2561 0006 1A70     		strb	r2, [r3]
 792:Src/main.c    **** 
 793:Src/main.c    **** 	if (currentMode == MODE_SET_HOUR) {
 2562              		.loc 1 793 2 is_stmt 1 view .LVU742
 2563              		.loc 1 793 18 is_stmt 0 view .LVU743
 2564 0008 274B     		ldr	r3, .L242+4
 2565 000a 1878     		ldrb	r0, [r3]
 2566 000c 0338     		subs	r0, r0, #3
 2567 000e 0C28     		cmp	r0, #12
 2568 0010 15D8     		bhi	.L220
 2569 0012 FFF7FEFF 		bl	__gnu_thumb1_case_uqi
 2570              	.L223:
 2571 0016 07       		.byte	(.L230-.L223)/2
 2572 0017 15       		.byte	(.L229-.L223)/2
 2573 0018 14       		.byte	(.L220-.L223)/2
 2574 0019 1E       		.byte	(.L228-.L223)/2
 2575 001a 25       		.byte	(.L227-.L223)/2
 2576 001b 2E       		.byte	(.L226-.L223)/2
 2577 001c 3A       		.byte	(.L225-.L223)/2
 2578 001d 14       		.byte	(.L220-.L223)/2
 2579 001e 14       		.byte	(.L220-.L223)/2
 2580 001f 14       		.byte	(.L220-.L223)/2
 2581 0020 14       		.byte	(.L220-.L223)/2
 2582 0021 43       		.byte	(.L224-.L223)/2
 2583 0022 45       		.byte	(.L222-.L223)/2
 2584 0023 00       		.p2align 1
 2585              	.L230:
 794:Src/main.c    **** 		lastTime.hours++;
 2586              		.loc 1 794 3 is_stmt 1 view .LVU744
 2587              		.loc 1 794 11 is_stmt 0 view .LVU745
 2588 0024 214A     		ldr	r2, .L242+8
 2589              		.loc 1 794 17 view .LVU746
 2590 0026 D378     		ldrb	r3, [r2, #3]
 2591 0028 0133     		adds	r3, r3, #1
 2592 002a DBB2     		uxtb	r3, r3
 795:Src/main.c    **** 		if (lastTime.hours > 23) {
 2593              		.loc 1 795 3 is_stmt 1 view .LVU747
 2594              		.loc 1 795 6 is_stmt 0 view .LVU748
 2595 002c 172B     		cmp	r3, #23
 2596 002e 00D9     		bls	.L231
 796:Src/main.c    **** 			lastTime.hours = 0;
 2597              		.loc 1 796 19 view .LVU749
 2598 0030 0023     		movs	r3, #0
 2599              	.L231:
 2600 0032 D370     		strb	r3, [r2, #3]
 797:Src/main.c    **** 		}
 798:Src/main.c    **** 		blinkControl = 0;
 2601              		.loc 1 798 3 is_stmt 1 view .LVU750
 2602              	.L234:
 799:Src/main.c    **** 		refreshSettingsDisplay();
 800:Src/main.c    **** 	}
 801:Src/main.c    **** 	else if (currentMode == MODE_SET_MINUTE) {
 802:Src/main.c    **** 		lastTime.minutes++;
 803:Src/main.c    **** 		if (lastTime.minutes > 59) {
 804:Src/main.c    **** 			lastTime.minutes = 0;
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 70


 805:Src/main.c    **** 		}
 806:Src/main.c    **** 		blinkControl = 0;
 807:Src/main.c    **** 		refreshSettingsDisplay();
 808:Src/main.c    **** 	}
 809:Src/main.c    **** 	else if (currentMode == MODE_SET_ALARM_HOUR) {
 810:Src/main.c    **** 		alarmHour++;
 811:Src/main.c    **** 		if (alarmHour > 23) {
 812:Src/main.c    **** 			alarmHour = 0;
 813:Src/main.c    **** 		}
 814:Src/main.c    **** 		blinkControl = 0;
 2603              		.loc 1 814 3 view .LVU751
 2604              		.loc 1 814 16 is_stmt 0 view .LVU752
 2605 0034 0022     		movs	r2, #0
 2606 0036 1E4B     		ldr	r3, .L242+12
 2607 0038 1A70     		strb	r2, [r3]
 815:Src/main.c    **** 		refreshSettingsDisplay();
 2608              		.loc 1 815 3 is_stmt 1 view .LVU753
 2609 003a FFF7FEFF 		bl	refreshSettingsDisplay
 2610              	.LVL154:
 2611              	.L220:
 816:Src/main.c    **** 	}
 817:Src/main.c    **** 	else if (currentMode == MODE_SET_ALARM_MINUTE) {
 818:Src/main.c    **** 		alarmMin++;
 819:Src/main.c    **** 		if (alarmMin > 59) {
 820:Src/main.c    **** 			alarmMin = 0;
 821:Src/main.c    **** 		}
 822:Src/main.c    **** 		blinkControl = 0;
 823:Src/main.c    **** 		refreshSettingsDisplay();
 824:Src/main.c    **** 	}
 825:Src/main.c    **** 	else if (currentMode == MODE_SET_TEMP_SHOW) {
 826:Src/main.c    **** 		tempertureShowTime++;
 827:Src/main.c    **** 		if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 828:Src/main.c    **** 			tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 829:Src/main.c    **** 		}
 830:Src/main.c    **** 		blinkControl = 0;
 831:Src/main.c    **** 		refreshSettingsDisplay();
 832:Src/main.c    **** 	}
 833:Src/main.c    **** 	else if (currentMode == MODE_SET_TEMP_HIDE) {
 834:Src/main.c    **** 		tempertureHideTime++;
 835:Src/main.c    **** 		if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 836:Src/main.c    **** 			tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 837:Src/main.c    **** 		}
 838:Src/main.c    **** 		blinkControl = 0;
 839:Src/main.c    **** 		refreshSettingsDisplay();
 840:Src/main.c    **** 	}
 841:Src/main.c    **** 	else if (currentMode == MODE_SET_ROT_START) {
 842:Src/main.c    **** 		ringOnTimeStart++;
 843:Src/main.c    **** 		if (ringOnTimeStart > 23) {
 844:Src/main.c    **** 			ringOnTimeStart = 0;
 845:Src/main.c    **** 		}
 846:Src/main.c    **** 		blinkControl = 0;
 847:Src/main.c    **** 		refreshSettingsDisplay();
 848:Src/main.c    **** 	}
 849:Src/main.c    **** 	else if (currentMode == MODE_SET_ROT_STOP) {
 850:Src/main.c    **** 		ringOnTimeStop++;
 851:Src/main.c    **** 		if (ringOnTimeStop > 23) {
 852:Src/main.c    **** 			ringOnTimeStop = 0;
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 71


 853:Src/main.c    **** 		}
 854:Src/main.c    **** 		blinkControl = 0;
 855:Src/main.c    **** 		refreshSettingsDisplay();
 856:Src/main.c    **** 	}
 857:Src/main.c    **** }
 2612              		.loc 1 857 1 is_stmt 0 view .LVU754
 2613              		@ sp needed
 2614 003e 10BD     		pop	{r4, pc}
 2615              	.L229:
 802:Src/main.c    **** 		if (lastTime.minutes > 59) {
 2616              		.loc 1 802 3 is_stmt 1 view .LVU755
 802:Src/main.c    **** 		if (lastTime.minutes > 59) {
 2617              		.loc 1 802 11 is_stmt 0 view .LVU756
 2618 0040 1A4A     		ldr	r2, .L242+8
 802:Src/main.c    **** 		if (lastTime.minutes > 59) {
 2619              		.loc 1 802 19 view .LVU757
 2620 0042 5378     		ldrb	r3, [r2, #1]
 2621 0044 0133     		adds	r3, r3, #1
 2622 0046 DBB2     		uxtb	r3, r3
 803:Src/main.c    **** 			lastTime.minutes = 0;
 2623              		.loc 1 803 3 is_stmt 1 view .LVU758
 803:Src/main.c    **** 			lastTime.minutes = 0;
 2624              		.loc 1 803 6 is_stmt 0 view .LVU759
 2625 0048 3B2B     		cmp	r3, #59
 2626 004a 00D9     		bls	.L232
 804:Src/main.c    **** 		}
 2627              		.loc 1 804 21 view .LVU760
 2628 004c 0023     		movs	r3, #0
 2629              	.L232:
 2630 004e 5370     		strb	r3, [r2, #1]
 806:Src/main.c    **** 		refreshSettingsDisplay();
 2631              		.loc 1 806 3 is_stmt 1 view .LVU761
 2632 0050 F0E7     		b	.L234
 2633              	.L228:
 810:Src/main.c    **** 		if (alarmHour > 23) {
 2634              		.loc 1 810 3 view .LVU762
 810:Src/main.c    **** 		if (alarmHour > 23) {
 2635              		.loc 1 810 12 is_stmt 0 view .LVU763
 2636 0052 184A     		ldr	r2, .L242+16
 2637              	.L240:
 842:Src/main.c    **** 		if (ringOnTimeStart > 23) {
 2638              		.loc 1 842 18 view .LVU764
 2639 0054 1378     		ldrb	r3, [r2]
 2640 0056 0133     		adds	r3, r3, #1
 2641 0058 DBB2     		uxtb	r3, r3
 843:Src/main.c    **** 			ringOnTimeStart = 0;
 2642              		.loc 1 843 3 is_stmt 1 view .LVU765
 843:Src/main.c    **** 			ringOnTimeStart = 0;
 2643              		.loc 1 843 6 is_stmt 0 view .LVU766
 2644 005a 172B     		cmp	r3, #23
 2645 005c 06D8     		bhi	.L233
 2646 005e 06E0     		b	.L239
 2647              	.L227:
 818:Src/main.c    **** 		if (alarmMin > 59) {
 2648              		.loc 1 818 3 is_stmt 1 view .LVU767
 818:Src/main.c    **** 		if (alarmMin > 59) {
 2649              		.loc 1 818 11 is_stmt 0 view .LVU768
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 72


 2650 0060 154A     		ldr	r2, .L242+20
 2651 0062 1378     		ldrb	r3, [r2]
 2652 0064 0133     		adds	r3, r3, #1
 2653 0066 DBB2     		uxtb	r3, r3
 819:Src/main.c    **** 			alarmMin = 0;
 2654              		.loc 1 819 3 is_stmt 1 view .LVU769
 819:Src/main.c    **** 			alarmMin = 0;
 2655              		.loc 1 819 6 is_stmt 0 view .LVU770
 2656 0068 3B2B     		cmp	r3, #59
 2657 006a 00D9     		bls	.L239
 2658              	.L233:
 812:Src/main.c    **** 		}
 2659              		.loc 1 812 4 is_stmt 1 view .LVU771
 812:Src/main.c    **** 		}
 2660              		.loc 1 812 14 is_stmt 0 view .LVU772
 2661 006c 0023     		movs	r3, #0
 2662              	.L239:
 2663 006e 1370     		strb	r3, [r2]
 2664 0070 E0E7     		b	.L234
 2665              	.L226:
 826:Src/main.c    **** 		if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 2666              		.loc 1 826 3 is_stmt 1 view .LVU773
 826:Src/main.c    **** 		if (tempertureShowTime > TEMPERTURE_MAX_SHOW_TIME) {
 2667              		.loc 1 826 21 is_stmt 0 view .LVU774
 2668 0072 124A     		ldr	r2, .L242+24
 2669 0074 1378     		ldrb	r3, [r2]
 2670 0076 0133     		adds	r3, r3, #1
 2671 0078 DBB2     		uxtb	r3, r3
 2672 007a 1370     		strb	r3, [r2]
 827:Src/main.c    **** 			tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 2673              		.loc 1 827 3 is_stmt 1 view .LVU775
 827:Src/main.c    **** 			tempertureShowTime = tempertureHideTime == 0 ? 1 : 0;
 2674              		.loc 1 827 6 is_stmt 0 view .LVU776
 2675 007c 0F2B     		cmp	r3, #15
 2676 007e D9D9     		bls	.L234
 828:Src/main.c    **** 		}
 2677              		.loc 1 828 4 is_stmt 1 view .LVU777
 828:Src/main.c    **** 		}
 2678              		.loc 1 828 53 is_stmt 0 view .LVU778
 2679 0080 0F4B     		ldr	r3, .L242+28
 2680              	.L241:
 836:Src/main.c    **** 		}
 2681              		.loc 1 836 53 view .LVU779
 2682 0082 1B78     		ldrb	r3, [r3]
 2683 0084 5942     		rsbs	r1, r3, #0
 2684 0086 4B41     		adcs	r3, r3, r1
 2685 0088 F1E7     		b	.L239
 2686              	.L225:
 834:Src/main.c    **** 		if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 2687              		.loc 1 834 3 is_stmt 1 view .LVU780
 834:Src/main.c    **** 		if (tempertureHideTime > TEMPERTURE_MAX_HIDE_TIME) {
 2688              		.loc 1 834 21 is_stmt 0 view .LVU781
 2689 008a 0D4A     		ldr	r2, .L242+28
 2690 008c 1378     		ldrb	r3, [r2]
 2691 008e 0133     		adds	r3, r3, #1
 2692 0090 DBB2     		uxtb	r3, r3
 2693 0092 1370     		strb	r3, [r2]
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 73


 835:Src/main.c    **** 			tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 2694              		.loc 1 835 3 is_stmt 1 view .LVU782
 835:Src/main.c    **** 			tempertureHideTime = tempertureShowTime == 0 ? 1 : 0;
 2695              		.loc 1 835 6 is_stmt 0 view .LVU783
 2696 0094 1E2B     		cmp	r3, #30
 2697 0096 CDD9     		bls	.L234
 836:Src/main.c    **** 		}
 2698              		.loc 1 836 4 is_stmt 1 view .LVU784
 836:Src/main.c    **** 		}
 2699              		.loc 1 836 53 is_stmt 0 view .LVU785
 2700 0098 084B     		ldr	r3, .L242+24
 2701 009a F2E7     		b	.L241
 2702              	.L224:
 842:Src/main.c    **** 		if (ringOnTimeStart > 23) {
 2703              		.loc 1 842 3 is_stmt 1 view .LVU786
 842:Src/main.c    **** 		if (ringOnTimeStart > 23) {
 2704              		.loc 1 842 18 is_stmt 0 view .LVU787
 2705 009c 094A     		ldr	r2, .L242+32
 2706 009e D9E7     		b	.L240
 2707              	.L222:
 850:Src/main.c    **** 		if (ringOnTimeStop > 23) {
 2708              		.loc 1 850 3 is_stmt 1 view .LVU788
 850:Src/main.c    **** 		if (ringOnTimeStop > 23) {
 2709              		.loc 1 850 17 is_stmt 0 view .LVU789
 2710 00a0 094A     		ldr	r2, .L242+36
 2711 00a2 D7E7     		b	.L240
 2712              	.L243:
 2713              		.align	2
 2714              	.L242:
 2715 00a4 00000000 		.word	setKeyRepeatReported
 2716 00a8 00000000 		.word	currentMode
 2717 00ac 00000000 		.word	lastTime
 2718 00b0 00000000 		.word	blinkControl
 2719 00b4 00000000 		.word	alarmHour
 2720 00b8 00000000 		.word	alarmMin
 2721 00bc 00000000 		.word	tempertureShowTime
 2722 00c0 00000000 		.word	tempertureHideTime
 2723 00c4 00000000 		.word	ringOnTimeStart
 2724 00c8 00000000 		.word	ringOnTimeStop
 2725              		.cfi_endproc
 2726              	.LFE51:
 2728              		.section	.text.setKeyPressed,"ax",%progbits
 2729              		.align	1
 2730              		.global	setKeyPressed
 2731              		.syntax unified
 2732              		.code	16
 2733              		.thumb_func
 2735              	setKeyPressed:
 2736              	.LFB52:
 858:Src/main.c    **** 
 859:Src/main.c    **** void setKeyPressed(){
 2737              		.loc 1 859 21 is_stmt 1 view -0
 2738              		.cfi_startproc
 2739              		@ args = 0, pretend = 0, frame = 0
 2740              		@ frame_needed = 0, uses_anonymous_args = 0
 860:Src/main.c    **** 	lastSetKeyPressTime = HAL_GetTick();
 2741              		.loc 1 860 2 view .LVU791
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 74


 859:Src/main.c    **** 	lastSetKeyPressTime = HAL_GetTick();
 2742              		.loc 1 859 21 is_stmt 0 view .LVU792
 2743 0000 10B5     		push	{r4, lr}
 2744              	.LCFI14:
 2745              		.cfi_def_cfa_offset 8
 2746              		.cfi_offset 4, -8
 2747              		.cfi_offset 14, -4
 2748              		.loc 1 860 24 view .LVU793
 2749 0002 FFF7FEFF 		bl	HAL_GetTick
 2750              	.LVL155:
 861:Src/main.c    **** }
 2751              		.loc 1 861 1 view .LVU794
 2752              		@ sp needed
 860:Src/main.c    **** 	lastSetKeyPressTime = HAL_GetTick();
 2753              		.loc 1 860 22 discriminator 1 view .LVU795
 2754 0006 014B     		ldr	r3, .L245
 2755 0008 1860     		str	r0, [r3]
 2756              		.loc 1 861 1 view .LVU796
 2757 000a 10BD     		pop	{r4, pc}
 2758              	.L246:
 2759              		.align	2
 2760              	.L245:
 2761 000c 00000000 		.word	lastSetKeyPressTime
 2762              		.cfi_endproc
 2763              	.LFE52:
 2765              		.section	.text.setKeyReleased,"ax",%progbits
 2766              		.align	1
 2767              		.global	setKeyReleased
 2768              		.syntax unified
 2769              		.code	16
 2770              		.thumb_func
 2772              	setKeyReleased:
 2773              	.LFB53:
 862:Src/main.c    **** 
 863:Src/main.c    **** void setKeyReleased() {
 2774              		.loc 1 863 23 is_stmt 1 view -0
 2775              		.cfi_startproc
 2776              		@ args = 0, pretend = 0, frame = 0
 2777              		@ frame_needed = 0, uses_anonymous_args = 0
 864:Src/main.c    **** 	uint32_t currentVal = HAL_GetTick();
 2778              		.loc 1 864 2 view .LVU798
 863:Src/main.c    **** 	uint32_t currentVal = HAL_GetTick();
 2779              		.loc 1 863 23 is_stmt 0 view .LVU799
 2780 0000 10B5     		push	{r4, lr}
 2781              	.LCFI15:
 2782              		.cfi_def_cfa_offset 8
 2783              		.cfi_offset 4, -8
 2784              		.cfi_offset 14, -4
 2785              		.loc 1 864 24 view .LVU800
 2786 0002 FFF7FEFF 		bl	HAL_GetTick
 2787              	.LVL156:
 865:Src/main.c    **** 	if (lastSetKeyPressTime > currentVal) {
 2788              		.loc 1 865 2 is_stmt 1 view .LVU801
 2789              		.loc 1 865 26 is_stmt 0 view .LVU802
 2790 0006 084B     		ldr	r3, .L254
 2791 0008 084C     		ldr	r4, .L254+4
 2792 000a 1B68     		ldr	r3, [r3]
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 75


 2793              		.loc 1 865 5 view .LVU803
 2794 000c 8342     		cmp	r3, r0
 2795 000e 04D9     		bls	.L248
 2796              	.LVL157:
 2797              	.L250:
 866:Src/main.c    **** 		setKeyClicked();
 2798              		.loc 1 866 3 is_stmt 1 view .LVU804
 2799 0010 FFF7FEFF 		bl	setKeyClicked
 2800              	.LVL158:
 2801              	.L249:
 867:Src/main.c    **** 	}
 868:Src/main.c    **** 	else if (currentVal - lastSetKeyPressTime > KEY_CLICK_EFFECT_TIME && !setKeyRepeatReported) {
 869:Src/main.c    **** 		setKeyClicked();
 870:Src/main.c    **** 	}
 871:Src/main.c    **** 	setKeyRepeatReported = false;
 2802              		.loc 1 871 2 view .LVU805
 872:Src/main.c    **** }
 2803              		.loc 1 872 1 is_stmt 0 view .LVU806
 2804              		@ sp needed
 871:Src/main.c    **** }
 2805              		.loc 1 871 23 view .LVU807
 2806 0014 0023     		movs	r3, #0
 2807 0016 2370     		strb	r3, [r4]
 2808              		.loc 1 872 1 view .LVU808
 2809 0018 10BD     		pop	{r4, pc}
 2810              	.LVL159:
 2811              	.L248:
 868:Src/main.c    **** 		setKeyClicked();
 2812              		.loc 1 868 7 is_stmt 1 view .LVU809
 868:Src/main.c    **** 		setKeyClicked();
 2813              		.loc 1 868 22 is_stmt 0 view .LVU810
 2814 001a C01A     		subs	r0, r0, r3
 2815              	.LVL160:
 868:Src/main.c    **** 		setKeyClicked();
 2816              		.loc 1 868 10 view .LVU811
 2817 001c 3228     		cmp	r0, #50
 2818 001e F9D9     		bls	.L249
 868:Src/main.c    **** 		setKeyClicked();
 2819              		.loc 1 868 68 discriminator 1 view .LVU812
 2820 0020 2378     		ldrb	r3, [r4]
 2821 0022 002B     		cmp	r3, #0
 2822 0024 F6D1     		bne	.L249
 2823 0026 F3E7     		b	.L250
 2824              	.L255:
 2825              		.align	2
 2826              	.L254:
 2827 0028 00000000 		.word	lastSetKeyPressTime
 2828 002c 00000000 		.word	setKeyRepeatReported
 2829              		.cfi_endproc
 2830              	.LFE53:
 2832              		.section	.text.modeKeyPressed,"ax",%progbits
 2833              		.align	1
 2834              		.global	modeKeyPressed
 2835              		.syntax unified
 2836              		.code	16
 2837              		.thumb_func
 2839              	modeKeyPressed:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 76


 2840              	.LFB54:
 873:Src/main.c    **** 
 874:Src/main.c    **** void modeKeyPressed(){
 2841              		.loc 1 874 22 is_stmt 1 view -0
 2842              		.cfi_startproc
 2843              		@ args = 0, pretend = 0, frame = 0
 2844              		@ frame_needed = 0, uses_anonymous_args = 0
 875:Src/main.c    **** 	lastModeKeyPressTime = HAL_GetTick();
 2845              		.loc 1 875 2 view .LVU814
 874:Src/main.c    **** 	lastModeKeyPressTime = HAL_GetTick();
 2846              		.loc 1 874 22 is_stmt 0 view .LVU815
 2847 0000 10B5     		push	{r4, lr}
 2848              	.LCFI16:
 2849              		.cfi_def_cfa_offset 8
 2850              		.cfi_offset 4, -8
 2851              		.cfi_offset 14, -4
 2852              		.loc 1 875 25 view .LVU816
 2853 0002 FFF7FEFF 		bl	HAL_GetTick
 2854              	.LVL161:
 876:Src/main.c    **** }
 2855              		.loc 1 876 1 view .LVU817
 2856              		@ sp needed
 875:Src/main.c    **** 	lastModeKeyPressTime = HAL_GetTick();
 2857              		.loc 1 875 23 discriminator 1 view .LVU818
 2858 0006 014B     		ldr	r3, .L257
 2859 0008 1860     		str	r0, [r3]
 2860              		.loc 1 876 1 view .LVU819
 2861 000a 10BD     		pop	{r4, pc}
 2862              	.L258:
 2863              		.align	2
 2864              	.L257:
 2865 000c 00000000 		.word	lastModeKeyPressTime
 2866              		.cfi_endproc
 2867              	.LFE54:
 2869              		.section	.text.modeKeyReleased,"ax",%progbits
 2870              		.align	1
 2871              		.global	modeKeyReleased
 2872              		.syntax unified
 2873              		.code	16
 2874              		.thumb_func
 2876              	modeKeyReleased:
 2877              	.LFB55:
 877:Src/main.c    **** 
 878:Src/main.c    **** void modeKeyReleased(){
 2878              		.loc 1 878 23 is_stmt 1 view -0
 2879              		.cfi_startproc
 2880              		@ args = 0, pretend = 0, frame = 0
 2881              		@ frame_needed = 0, uses_anonymous_args = 0
 879:Src/main.c    **** 	uint32_t currentVal = HAL_GetTick();
 2882              		.loc 1 879 2 view .LVU821
 878:Src/main.c    **** 	uint32_t currentVal = HAL_GetTick();
 2883              		.loc 1 878 23 is_stmt 0 view .LVU822
 2884 0000 10B5     		push	{r4, lr}
 2885              	.LCFI17:
 2886              		.cfi_def_cfa_offset 8
 2887              		.cfi_offset 4, -8
 2888              		.cfi_offset 14, -4
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 77


 2889              		.loc 1 879 24 view .LVU823
 2890 0002 FFF7FEFF 		bl	HAL_GetTick
 2891              	.LVL162:
 880:Src/main.c    **** 	if(lastModeKeyPressTime > currentVal)
 2892              		.loc 1 880 2 is_stmt 1 view .LVU824
 2893              		.loc 1 880 26 is_stmt 0 view .LVU825
 2894 0006 094B     		ldr	r3, .L264
 2895 0008 1B68     		ldr	r3, [r3]
 2896              		.loc 1 880 4 view .LVU826
 2897 000a 8342     		cmp	r3, r0
 2898 000c 02D9     		bls	.L260
 2899              	.LVL163:
 2900              	.L263:
 881:Src/main.c    **** 	{
 882:Src/main.c    **** 		modeKeyClicked();
 2901              		.loc 1 882 3 is_stmt 1 view .LVU827
 2902 000e FFF7FEFF 		bl	modeKeyClicked
 2903              	.LVL164:
 2904              	.L259:
 883:Src/main.c    **** 	}
 884:Src/main.c    **** 	else if(currentVal - lastModeKeyPressTime > KEY_LONG_PRESS_EFFECT_TIME)
 885:Src/main.c    **** 	{
 886:Src/main.c    **** 		modeKeyLongPressed();
 887:Src/main.c    **** 	}
 888:Src/main.c    **** 	else if(currentVal - lastModeKeyPressTime > KEY_CLICK_EFFECT_TIME)
 889:Src/main.c    **** 	{
 890:Src/main.c    **** 		modeKeyClicked();
 891:Src/main.c    **** 	}
 892:Src/main.c    **** }
 2905              		.loc 1 892 1 is_stmt 0 view .LVU828
 2906              		@ sp needed
 2907 0012 10BD     		pop	{r4, pc}
 2908              	.LVL165:
 2909              	.L260:
 884:Src/main.c    **** 	{
 2910              		.loc 1 884 7 is_stmt 1 view .LVU829
 884:Src/main.c    **** 	{
 2911              		.loc 1 884 21 is_stmt 0 view .LVU830
 2912 0014 C01A     		subs	r0, r0, r3
 2913              	.LVL166:
 884:Src/main.c    **** 	{
 2914              		.loc 1 884 9 view .LVU831
 2915 0016 C823     		movs	r3, #200
 2916 0018 9B00     		lsls	r3, r3, #2
 2917 001a 9842     		cmp	r0, r3
 2918 001c 02D9     		bls	.L262
 886:Src/main.c    **** 	}
 2919              		.loc 1 886 3 is_stmt 1 view .LVU832
 2920 001e FFF7FEFF 		bl	modeKeyLongPressed
 2921              	.LVL167:
 2922 0022 F6E7     		b	.L259
 2923              	.L262:
 888:Src/main.c    **** 	{
 2924              		.loc 1 888 7 view .LVU833
 888:Src/main.c    **** 	{
 2925              		.loc 1 888 9 is_stmt 0 view .LVU834
 2926 0024 3228     		cmp	r0, #50
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 78


 2927 0026 F4D9     		bls	.L259
 2928 0028 F1E7     		b	.L263
 2929              	.L265:
 2930 002a C046     		.align	2
 2931              	.L264:
 2932 002c 00000000 		.word	lastModeKeyPressTime
 2933              		.cfi_endproc
 2934              	.LFE55:
 2936              		.section	.text.SystemClock_Config,"ax",%progbits
 2937              		.align	1
 2938              		.global	SystemClock_Config
 2939              		.syntax unified
 2940              		.code	16
 2941              		.thumb_func
 2943              	SystemClock_Config:
 2944              	.LFB57:
 893:Src/main.c    **** /* USER CODE END 0 */
 894:Src/main.c    **** 
 895:Src/main.c    **** /**
 896:Src/main.c    ****   * @brief  The application entry point.
 897:Src/main.c    ****   * @retval int
 898:Src/main.c    ****   */
 899:Src/main.c    **** int main(void)
 900:Src/main.c    **** {
 901:Src/main.c    ****   /* USER CODE BEGIN 1 */
 902:Src/main.c    **** 
 903:Src/main.c    ****   /* USER CODE END 1 */
 904:Src/main.c    ****   
 905:Src/main.c    **** 
 906:Src/main.c    ****   /* MCU Configuration--------------------------------------------------------*/
 907:Src/main.c    **** 
 908:Src/main.c    ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 909:Src/main.c    ****   HAL_Init();
 910:Src/main.c    **** 
 911:Src/main.c    ****   /* USER CODE BEGIN Init */
 912:Src/main.c    **** 
 913:Src/main.c    ****   /* USER CODE END Init */
 914:Src/main.c    **** 
 915:Src/main.c    ****   /* Configure the system clock */
 916:Src/main.c    ****   SystemClock_Config();
 917:Src/main.c    **** 
 918:Src/main.c    ****   /* USER CODE BEGIN SysInit */
 919:Src/main.c    **** 
 920:Src/main.c    ****   /* USER CODE END SysInit */
 921:Src/main.c    **** 
 922:Src/main.c    ****   /* Initialize all configured peripherals */
 923:Src/main.c    ****   MX_GPIO_Init();
 924:Src/main.c    ****   MX_DMA_Init();
 925:Src/main.c    ****   MX_I2C1_Init();
 926:Src/main.c    ****   MX_ADC_Init();
 927:Src/main.c    ****   MX_TIM17_Init();
 928:Src/main.c    ****   MX_TIM3_Init();
 929:Src/main.c    ****   MX_TIM16_Init();
 930:Src/main.c    ****   /* USER CODE BEGIN 2 */
 931:Src/main.c    **** 
 932:Src/main.c    ****   // ï¿½ï¿½ï¿½ï¿½Ç·ï¿½ï¿½ï¿½ç²¢ï¿½ï¿½È¡ï¿½ï¿½ï¿½Ğ±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 933:Src/main.c    ****   uint8_t backupData[BAK_DATA_SIZE];
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 79


 934:Src/main.c    ****   ReadBackData(BAK_POWER_DOWN_IND_INDEX, backupData, BAK_DATA_SIZE);
 935:Src/main.c    ****   if(backupData[0] != POWER_DOWN_IND_DATA && backupData[1] != POWER_DOWN_IND_DATA){
 936:Src/main.c    **** 	  // ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
 937:Src/main.c    **** 	  time.year = YEAR_MIN_SET;
 938:Src/main.c    **** 	  time.month = 1;
 939:Src/main.c    **** 	  time.dayOfMonth = 1;
 940:Src/main.c    **** 	  time.dayOfWeek = 1;
 941:Src/main.c    **** 	  time.hours = 0;
 942:Src/main.c    **** 	  time.minutes = 0;
 943:Src/main.c    **** 	  time.ampm = HOUR24;
 944:Src/main.c    **** 	  time.seconds = 0;
 945:Src/main.c    **** 	  SetTime(&time);
 946:Src/main.c    **** 
 947:Src/main.c    **** 	  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 948:Src/main.c    **** 	  resetSettings();
 949:Src/main.c    **** 	  saveSettings();
 950:Src/main.c    ****   }else{
 951:Src/main.c    **** 	  isAlarmEnabled = backupData[BAK_ALARM_ENABLED_INDEX];
 952:Src/main.c    **** 	  alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 953:Src/main.c    **** 	  alarmMin = backupData[BAK_ALARM_MINUTE_INDEX];
 954:Src/main.c    **** 	  tempertureShowTime = backupData[BAK_TEMP_SHOW_TIME_INDEX];
 955:Src/main.c    **** 	  tempertureHideTime = backupData[BAK_TEMP_HIDE_TIME_INDEX];
 956:Src/main.c    **** 	  isRingOnTimeEnabled = backupData[BAK_ROT_ENABLED_INDEX];
 957:Src/main.c    **** 	  ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 958:Src/main.c    **** 	  ringOnTimeStop = backupData[BAK_ROT_STOP_INDEX];
 959:Src/main.c    **** 	  savedBrightness = backupData[BAK_BRIGHTNESS_INDEX];
 960:Src/main.c    **** 	  strongBrightness = backupData[BAK_BRIGHTNESS_STRONG_INDEX];
 961:Src/main.c    **** 	  weakBrightness = backupData[BAK_BRIGHTNESS_WEAK_INDEX];
 962:Src/main.c    ****   }
 963:Src/main.c    **** 
 964:Src/main.c    ****   // ï¿½ï¿½ï¿½İ¼ï¿½ï¿½
 965:Src/main.c    ****   bool hasError = false;
 966:Src/main.c    ****   if(alarmHour > (uint8_t)23 || alarmMin > (uint8_t)59){
 967:Src/main.c    **** 	  hasError = true;
 968:Src/main.c    ****   }
 969:Src/main.c    **** //  if(tempertureShowTime == 0 && tempertureHideTime == 0){
 970:Src/main.c    **** //	  hasError = true;
 971:Src/main.c    **** //  }
 972:Src/main.c    ****   if(ringOnTimeStart > 23 || ringOnTimeStop > 23){
 973:Src/main.c    **** 	  hasError = true;
 974:Src/main.c    ****   }
 975:Src/main.c    ****   if(savedBrightness > 8 || strongBrightness > 8 || strongBrightness == 0 || weakBrightness > 8 || 
 976:Src/main.c    **** 	  hasError = true;
 977:Src/main.c    ****   }
 978:Src/main.c    **** 
 979:Src/main.c    ****   // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ú´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 980:Src/main.c    ****   if(hasError){
 981:Src/main.c    **** 	  resetSettings();
 982:Src/main.c    **** 	  saveSettings();
 983:Src/main.c    ****   }
 984:Src/main.c    **** 
 985:Src/main.c    ****   TM1637Init();
 986:Src/main.c    ****   if(savedBrightness != 0){
 987:Src/main.c    **** 	  TM1637SetBrightness(savedBrightness);
 988:Src/main.c    ****   }
 989:Src/main.c    ****   else{
 990:Src/main.c    **** 	  TM1637SetBrightness(STRONG_BRIGHTNESS_VALUE);
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 80


 991:Src/main.c    **** 	  isWeakBrightness = false;
 992:Src/main.c    ****   }
 993:Src/main.c    **** 
 994:Src/main.c    ****   HAL_ADCEx_Calibration_Start(&hadc);
 995:Src/main.c    ****   HAL_ADC_Start_DMA(&hadc, adcValue, 2);
 996:Src/main.c    ****   HAL_TIM_Base_Start(&htim3);
 997:Src/main.c    **** 
 998:Src/main.c    ****   HAL_TIM_Base_Start_IT(&LIGHT_CONTROL_TIMER_HANDLE);
 999:Src/main.c    **** 
1000:Src/main.c    ****   TimeNow(&time);
1001:Src/main.c    ****   lastRingOnTimeHour = time.hours;
1002:Src/main.c    **** 
1003:Src/main.c    ****   EnableSencodInterruptOuput();
1004:Src/main.c    **** 
1005:Src/main.c    ****   lastDisplayChangeTime = HAL_GetTick();
1006:Src/main.c    **** 
1007:Src/main.c    ****   isInitCompleted = true;
1008:Src/main.c    **** 
1009:Src/main.c    ****   /* USER CODE END 2 */
1010:Src/main.c    **** 
1011:Src/main.c    ****   /* Infinite loop */
1012:Src/main.c    ****   /* USER CODE BEGIN WHILE */
1013:Src/main.c    ****   uint32_t now = 0, passedTime;
1014:Src/main.c    ****   while (1)
1015:Src/main.c    ****   {
1016:Src/main.c    ****     /* USER CODE END WHILE */
1017:Src/main.c    **** 
1018:Src/main.c    ****     /* USER CODE BEGIN 3 */
1019:Src/main.c    **** 		// èœ‚é¸£å™¨æ§åˆ¶é€»è¾‘ï¼ˆæ•´ç‚¹æŠ¥æ—¶å’Œé—¹é’Ÿï¼‰
1020:Src/main.c    **** 		if (HAL_GPIO_ReadPin(BUZZER_GPIO_PORT, BUZZER_PIN) == GPIO_PIN_RESET) {
1021:Src/main.c    **** 			now = HAL_GetTick();
1022:Src/main.c    **** 
1023:Src/main.c    **** 			// å¦‚æœæ˜¯é—¹é’Ÿå“é“ƒï¼Œç”±å®šæ—¶å™¨ä¸­æ–­æ§åˆ¶ï¼Œè¿™é‡Œä¸å¤„ç†
1024:Src/main.c    **** 			if(isAlarming){
1025:Src/main.c    **** 				// é—¹é’Ÿå“é“ƒç”±alarmTimerTick()æ§åˆ¶
1026:Src/main.c    **** 			}
1027:Src/main.c    **** 			// å¦‚æœæ˜¯æ•´ç‚¹æŠ¥æ—¶
1028:Src/main.c    **** 			else if(isChiming){
1029:Src/main.c    **** 				uint32_t chimeDuration;
1030:Src/main.c    **** 				// åˆ¤æ–­æ˜¯çŸ­éŸ³è¿˜æ˜¯é•¿éŸ³
1031:Src/main.c    **** 				if(time.minutes == 0 && time.seconds == 0){
1032:Src/main.c    **** 					// æ•´ç‚¹é•¿éŸ³ï¼š1000ms
1033:Src/main.c    **** 					chimeDuration = 1000;
1034:Src/main.c    **** 				}
1035:Src/main.c    **** 				else{
1036:Src/main.c    **** 					// å€’è®¡æ—¶çŸ­éŸ³ï¼š100ms
1037:Src/main.c    **** 					chimeDuration = 100;
1038:Src/main.c    **** 				}
1039:Src/main.c    **** 
1040:Src/main.c    **** 				// æ£€æŸ¥æ˜¯å¦åˆ°è¾¾é¸£å«æ—¶é•¿
1041:Src/main.c    **** 				if (now < ringStartTime || (now - ringStartTime >= chimeDuration)) {
1042:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
1043:Src/main.c    **** 					isChiming = false;
1044:Src/main.c    **** 				}
1045:Src/main.c    **** 			}
1046:Src/main.c    **** 			// å…¶ä»–æƒ…å†µï¼ˆå…¼å®¹æ—§ä»£ç ï¼‰
1047:Src/main.c    **** 			else{
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 81


1048:Src/main.c    **** 				if (now < ringStartTime || (now - ringStartTime >= RING_ON_TIME_LONG)) {
1049:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
1050:Src/main.c    **** 				}
1051:Src/main.c    **** 			}
1052:Src/main.c    **** 		}
1053:Src/main.c    **** 
1054:Src/main.c    **** 		// æ¸©åº¦æ˜¾ç¤ºè‡ªåŠ¨åˆ‡æ¢é€»è¾‘
1055:Src/main.c    **** 		if (tempertureShowTime > 0) {
1056:Src/main.c    **** 			if (currentMode == MODE_SHOW_TIME) {
1057:Src/main.c    **** 				now = HAL_GetTick();
1058:Src/main.c    **** 				passedTime = now - lastDisplayChangeTime;
1059:Src/main.c    **** 				if (now < lastDisplayChangeTime || passedTime >= (tempertureHideTime * 1000)) {
1060:Src/main.c    **** 					currentMode = MODE_SHOW_TEMPERTURE;
1061:Src/main.c    **** 					lastDisplayChangeTime = now;
1062:Src/main.c    **** 				}
1063:Src/main.c    **** 
1064:Src/main.c    **** 			}
1065:Src/main.c    **** 			else if (currentMode == MODE_SHOW_TEMPERTURE && tempertureHideTime > 0) {
1066:Src/main.c    **** 				now = HAL_GetTick();
1067:Src/main.c    **** 				passedTime = now - lastDisplayChangeTime;
1068:Src/main.c    **** 				if (now < lastDisplayChangeTime || passedTime >= (tempertureShowTime * 1000)) {
1069:Src/main.c    **** 					currentMode = MODE_SHOW_TIME;
1070:Src/main.c    **** 					lastDisplayChangeTime = now;
1071:Src/main.c    **** 				}
1072:Src/main.c    **** 			}
1073:Src/main.c    **** 		} else if(currentMode == MODE_SHOW_TEMPERTURE){
1074:Src/main.c    **** 			currentMode = MODE_SHOW_TIME;
1075:Src/main.c    **** 			lastDisplayChangeTime = now;
1076:Src/main.c    **** 		}
1077:Src/main.c    **** 
1078:Src/main.c    **** 		// è®¾ç½®é”®é•¿æŒ‰é‡å¤è§¦å‘é€»è¾‘
1079:Src/main.c    **** 		if (HAL_GPIO_ReadPin(SET_KEY_GPIO_PORT, SET_KEY_PIN) == GPIO_PIN_RESET
1080:Src/main.c    **** 				&& currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
1081:Src/main.c    **** 				uint32_t curVal = HAL_GetTick();
1082:Src/main.c    **** 				uint32_t timePassed = curVal - lastSetKeyPressTime;
1083:Src/main.c    **** 				if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
1084:Src/main.c    **** 					if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
1085:Src/main.c    **** 						setKeyPresseRepeatReport();
1086:Src/main.c    **** 						lastSetKeyPressReportTime = curVal;
1087:Src/main.c    **** 					}
1088:Src/main.c    **** 				}
1089:Src/main.c    **** 			}
1090:Src/main.c    **** 
1091:Src/main.c    **** 	}
1092:Src/main.c    ****   /* USER CODE END 3 */
1093:Src/main.c    **** }
1094:Src/main.c    **** 
1095:Src/main.c    **** /**
1096:Src/main.c    ****   * @brief System Clock Configuration
1097:Src/main.c    ****   * @retval None
1098:Src/main.c    ****   */
1099:Src/main.c    **** void SystemClock_Config(void)
1100:Src/main.c    **** {
 2945              		.loc 1 1100 1 is_stmt 1 view -0
 2946              		.cfi_startproc
 2947              		@ args = 0, pretend = 0, frame = 80
 2948              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 82


1101:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 2949              		.loc 1 1101 3 view .LVU836
1100:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 2950              		.loc 1 1100 1 is_stmt 0 view .LVU837
 2951 0000 10B5     		push	{r4, lr}
 2952              	.LCFI18:
 2953              		.cfi_def_cfa_offset 8
 2954              		.cfi_offset 4, -8
 2955              		.cfi_offset 14, -4
1102:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 2956              		.loc 1 1102 22 view .LVU838
 2957 0002 1024     		movs	r4, #16
1100:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 2958              		.loc 1 1100 1 view .LVU839
 2959 0004 94B0     		sub	sp, sp, #80
 2960              	.LCFI19:
 2961              		.cfi_def_cfa_offset 88
1101:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 2962              		.loc 1 1101 22 view .LVU840
 2963 0006 2C22     		movs	r2, #44
 2964 0008 0021     		movs	r1, #0
 2965 000a 09A8     		add	r0, sp, #36
 2966 000c FFF7FEFF 		bl	memset
 2967              	.LVL168:
 2968              		.loc 1 1102 3 is_stmt 1 view .LVU841
 2969              		.loc 1 1102 22 is_stmt 0 view .LVU842
 2970 0010 2200     		movs	r2, r4
 2971 0012 0021     		movs	r1, #0
 2972 0014 6846     		mov	r0, sp
 2973 0016 FFF7FEFF 		bl	memset
 2974              	.LVL169:
1103:Src/main.c    ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 2975              		.loc 1 1103 3 is_stmt 1 view .LVU843
 2976              		.loc 1 1103 28 is_stmt 0 view .LVU844
 2977 001a 2200     		movs	r2, r4
 2978 001c 0021     		movs	r1, #0
 2979 001e 04A8     		add	r0, sp, #16
 2980 0020 FFF7FEFF 		bl	memset
 2981              	.LVL170:
1104:Src/main.c    **** 
1105:Src/main.c    ****   /** Initializes the CPU, AHB and APB busses clocks 
1106:Src/main.c    ****   */
1107:Src/main.c    ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI|RCC_OSCILLATORTYPE_HSI14;
 2982              		.loc 1 1107 3 is_stmt 1 view .LVU845
 2983              		.loc 1 1107 36 is_stmt 0 view .LVU846
 2984 0024 1223     		movs	r3, #18
 2985 0026 0893     		str	r3, [sp, #32]
1108:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 2986              		.loc 1 1108 3 is_stmt 1 view .LVU847
 2987              		.loc 1 1108 30 is_stmt 0 view .LVU848
 2988 0028 113B     		subs	r3, r3, #17
 2989 002a 0B93     		str	r3, [sp, #44]
1109:Src/main.c    ****   RCC_OscInitStruct.HSI14State = RCC_HSI14_ON;
 2990              		.loc 1 1109 3 is_stmt 1 view .LVU849
 2991              		.loc 1 1109 32 is_stmt 0 view .LVU850
 2992 002c 0D93     		str	r3, [sp, #52]
1110:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 83


 2993              		.loc 1 1110 3 is_stmt 1 view .LVU851
1111:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
1112:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
1113:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
1114:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL4;
 2994              		.loc 1 1114 32 is_stmt 0 view .LVU852
 2995 002e 8023     		movs	r3, #128
1110:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 2996              		.loc 1 1110 41 view .LVU853
 2997 0030 0C94     		str	r4, [sp, #48]
1111:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
 2998              		.loc 1 1111 3 is_stmt 1 view .LVU854
1111:Src/main.c    ****   RCC_OscInitStruct.HSI14CalibrationValue = 16;
 2999              		.loc 1 1111 43 is_stmt 0 view .LVU855
 3000 0032 0E94     		str	r4, [sp, #56]
1112:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 3001              		.loc 1 1112 3 is_stmt 1 view .LVU856
 3002              		.loc 1 1114 32 is_stmt 0 view .LVU857
 3003 0034 1B03     		lsls	r3, r3, #12
1112:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 3004              		.loc 1 1112 34 view .LVU858
 3005 0036 0E3C     		subs	r4, r4, #14
1115:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
1116:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 3006              		.loc 1 1116 7 view .LVU859
 3007 0038 08A8     		add	r0, sp, #32
1112:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 3008              		.loc 1 1112 34 view .LVU860
 3009 003a 1094     		str	r4, [sp, #64]
1113:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL4;
 3010              		.loc 1 1113 3 is_stmt 1 view .LVU861
1114:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 3011              		.loc 1 1114 3 view .LVU862
1114:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 3012              		.loc 1 1114 32 is_stmt 0 view .LVU863
 3013 003c 1293     		str	r3, [sp, #72]
1115:Src/main.c    ****   RCC_OscInitStruct.PLL.PREDIV = RCC_PREDIV_DIV1;
 3014              		.loc 1 1115 3 is_stmt 1 view .LVU864
 3015              		.loc 1 1116 3 view .LVU865
 3016              		.loc 1 1116 7 is_stmt 0 view .LVU866
 3017 003e FFF7FEFF 		bl	HAL_RCC_OscConfig
 3018              	.LVL171:
1117:Src/main.c    ****   {
1118:Src/main.c    ****     Error_Handler();
 3019              		.loc 1 1118 5 is_stmt 1 view .LVU867
1119:Src/main.c    ****   }
1120:Src/main.c    ****   /** Initializes the CPU, AHB and APB busses clocks 
1121:Src/main.c    ****   */
1122:Src/main.c    ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 3020              		.loc 1 1122 3 view .LVU868
1123:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1;
1124:Src/main.c    ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 3021              		.loc 1 1124 34 is_stmt 0 view .LVU869
 3022 0042 0194     		str	r4, [sp, #4]
1125:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 3023              		.loc 1 1125 35 view .LVU870
 3024 0044 0024     		movs	r4, #0
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 84


1122:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1;
 3025              		.loc 1 1122 31 view .LVU871
 3026 0046 0723     		movs	r3, #7
1126:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
1127:Src/main.c    **** 
1128:Src/main.c    ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_0) != HAL_OK)
 3027              		.loc 1 1128 7 view .LVU872
 3028 0048 2100     		movs	r1, r4
 3029 004a 6846     		mov	r0, sp
1122:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1;
 3030              		.loc 1 1122 31 view .LVU873
 3031 004c 0093     		str	r3, [sp]
1124:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 3032              		.loc 1 1124 3 is_stmt 1 view .LVU874
1125:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 3033              		.loc 1 1125 3 view .LVU875
1125:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 3034              		.loc 1 1125 35 is_stmt 0 view .LVU876
 3035 004e 0294     		str	r4, [sp, #8]
1126:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 3036              		.loc 1 1126 3 is_stmt 1 view .LVU877
1126:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 3037              		.loc 1 1126 36 is_stmt 0 view .LVU878
 3038 0050 0394     		str	r4, [sp, #12]
 3039              		.loc 1 1128 3 is_stmt 1 view .LVU879
 3040              		.loc 1 1128 7 is_stmt 0 view .LVU880
 3041 0052 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 3042              	.LVL172:
1129:Src/main.c    ****   {
1130:Src/main.c    ****     Error_Handler();
 3043              		.loc 1 1130 5 is_stmt 1 view .LVU881
1131:Src/main.c    ****   }
1132:Src/main.c    ****   PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_I2C1;
 3044              		.loc 1 1132 3 view .LVU882
 3045              		.loc 1 1132 38 is_stmt 0 view .LVU883
 3046 0056 2023     		movs	r3, #32
1133:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_HSI;
1134:Src/main.c    ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 3047              		.loc 1 1134 7 view .LVU884
 3048 0058 04A8     		add	r0, sp, #16
1132:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_HSI;
 3049              		.loc 1 1132 38 view .LVU885
 3050 005a 0493     		str	r3, [sp, #16]
1133:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_HSI;
 3051              		.loc 1 1133 3 is_stmt 1 view .LVU886
1133:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_HSI;
 3052              		.loc 1 1133 36 is_stmt 0 view .LVU887
 3053 005c 0794     		str	r4, [sp, #28]
 3054              		.loc 1 1134 3 is_stmt 1 view .LVU888
 3055              		.loc 1 1134 7 is_stmt 0 view .LVU889
 3056 005e FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 3057              	.LVL173:
1135:Src/main.c    ****   {
1136:Src/main.c    ****     Error_Handler();
 3058              		.loc 1 1136 5 is_stmt 1 view .LVU890
1137:Src/main.c    ****   }
1138:Src/main.c    **** }
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 85


 3059              		.loc 1 1138 1 is_stmt 0 view .LVU891
 3060 0062 14B0     		add	sp, sp, #80
 3061              		@ sp needed
 3062 0064 10BD     		pop	{r4, pc}
 3063              		.cfi_endproc
 3064              	.LFE57:
 3066              		.section	.text.startup.main,"ax",%progbits
 3067              		.align	1
 3068              		.global	main
 3069              		.syntax unified
 3070              		.code	16
 3071              		.thumb_func
 3073              	main:
 3074              	.LFB56:
 900:Src/main.c    ****   /* USER CODE BEGIN 1 */
 3075              		.loc 1 900 1 is_stmt 1 view -0
 3076              		.cfi_startproc
 3077              		@ args = 0, pretend = 0, frame = 24
 3078              		@ frame_needed = 0, uses_anonymous_args = 0
 909:Src/main.c    **** 
 3079              		.loc 1 909 3 view .LVU893
 900:Src/main.c    ****   /* USER CODE BEGIN 1 */
 3080              		.loc 1 900 1 is_stmt 0 view .LVU894
 3081 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3082              	.LCFI20:
 3083              		.cfi_def_cfa_offset 20
 3084              		.cfi_offset 4, -20
 3085              		.cfi_offset 5, -16
 3086              		.cfi_offset 6, -12
 3087              		.cfi_offset 7, -8
 3088              		.cfi_offset 14, -4
 3089 0002 87B0     		sub	sp, sp, #28
 3090              	.LCFI21:
 3091              		.cfi_def_cfa_offset 48
 909:Src/main.c    **** 
 3092              		.loc 1 909 3 view .LVU895
 3093 0004 FFF7FEFF 		bl	HAL_Init
 3094              	.LVL174:
 916:Src/main.c    **** 
 3095              		.loc 1 916 3 is_stmt 1 view .LVU896
 3096 0008 FFF7FEFF 		bl	SystemClock_Config
 3097              	.LVL175:
 923:Src/main.c    ****   MX_DMA_Init();
 3098              		.loc 1 923 3 view .LVU897
 3099 000c FFF7FEFF 		bl	MX_GPIO_Init
 3100              	.LVL176:
 924:Src/main.c    ****   MX_I2C1_Init();
 3101              		.loc 1 924 3 view .LVU898
 3102 0010 FFF7FEFF 		bl	MX_DMA_Init
 3103              	.LVL177:
 925:Src/main.c    ****   MX_ADC_Init();
 3104              		.loc 1 925 3 view .LVU899
 3105 0014 FFF7FEFF 		bl	MX_I2C1_Init
 3106              	.LVL178:
 926:Src/main.c    ****   MX_TIM17_Init();
 3107              		.loc 1 926 3 view .LVU900
 3108 0018 FFF7FEFF 		bl	MX_ADC_Init
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 86


 3109              	.LVL179:
 927:Src/main.c    ****   MX_TIM3_Init();
 3110              		.loc 1 927 3 view .LVU901
 3111 001c FFF7FEFF 		bl	MX_TIM17_Init
 3112              	.LVL180:
 928:Src/main.c    ****   MX_TIM16_Init();
 3113              		.loc 1 928 3 view .LVU902
 3114 0020 FFF7FEFF 		bl	MX_TIM3_Init
 3115              	.LVL181:
 929:Src/main.c    ****   /* USER CODE BEGIN 2 */
 3116              		.loc 1 929 3 view .LVU903
 3117 0024 FFF7FEFF 		bl	MX_TIM16_Init
 3118              	.LVL182:
 933:Src/main.c    ****   ReadBackData(BAK_POWER_DOWN_IND_INDEX, backupData, BAK_DATA_SIZE);
 3119              		.loc 1 933 3 view .LVU904
 934:Src/main.c    ****   if(backupData[0] != POWER_DOWN_IND_DATA && backupData[1] != POWER_DOWN_IND_DATA){
 3120              		.loc 1 934 3 view .LVU905
 3121 0028 0D22     		movs	r2, #13
 3122 002a 0020     		movs	r0, #0
 3123 002c 02A9     		add	r1, sp, #8
 3124 002e FFF7FEFF 		bl	ReadBackData
 3125              	.LVL183:
 935:Src/main.c    **** 	  // ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
 3126              		.loc 1 935 3 view .LVU906
 935:Src/main.c    **** 	  // ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
 3127              		.loc 1 935 5 is_stmt 0 view .LVU907
 3128 0032 02AB     		add	r3, sp, #8
 3129 0034 9A4A     		ldr	r2, .L312
 3130 0036 1B78     		ldrb	r3, [r3]
 3131 0038 9A4D     		ldr	r5, .L312+4
 3132 003a 9B4F     		ldr	r7, .L312+8
 3133 003c 9B4E     		ldr	r6, .L312+12
 3134 003e 9C4C     		ldr	r4, .L312+16
 3135 0040 0092     		str	r2, [sp]
 3136 0042 FA2B     		cmp	r3, #250
 3137 0044 00D1     		bne	.LCB2614
 3138 0046 CCE0     		b	.L268	@long jump
 3139              	.LCB2614:
 935:Src/main.c    **** 	  // ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½
 3140              		.loc 1 935 43 discriminator 1 view .LVU908
 3141 0048 02AB     		add	r3, sp, #8
 3142 004a 5B78     		ldrb	r3, [r3, #1]
 3143 004c FA2B     		cmp	r3, #250
 3144 004e 00D1     		bne	.LCB2618
 3145 0050 C7E0     		b	.L268	@long jump
 3146              	.LCB2618:
 937:Src/main.c    **** 	  time.month = 1;
 3147              		.loc 1 937 4 is_stmt 1 view .LVU909
 937:Src/main.c    **** 	  time.month = 1;
 3148              		.loc 1 937 14 is_stmt 0 view .LVU910
 3149 0052 0F23     		movs	r3, #15
 3150 0054 EB71     		strb	r3, [r5, #7]
 938:Src/main.c    **** 	  time.dayOfMonth = 1;
 3151              		.loc 1 938 4 is_stmt 1 view .LVU911
 938:Src/main.c    **** 	  time.dayOfMonth = 1;
 3152              		.loc 1 938 15 is_stmt 0 view .LVU912
 3153 0056 0E3B     		subs	r3, r3, #14
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 87


 943:Src/main.c    **** 	  time.seconds = 0;
 3154              		.loc 1 943 14 view .LVU913
 3155 0058 0222     		movs	r2, #2
 938:Src/main.c    **** 	  time.dayOfMonth = 1;
 3156              		.loc 1 938 15 view .LVU914
 3157 005a AB71     		strb	r3, [r5, #6]
 939:Src/main.c    **** 	  time.dayOfWeek = 1;
 3158              		.loc 1 939 4 is_stmt 1 view .LVU915
 939:Src/main.c    **** 	  time.dayOfWeek = 1;
 3159              		.loc 1 939 20 is_stmt 0 view .LVU916
 3160 005c 6B71     		strb	r3, [r5, #5]
 940:Src/main.c    **** 	  time.hours = 0;
 3161              		.loc 1 940 4 is_stmt 1 view .LVU917
 940:Src/main.c    **** 	  time.hours = 0;
 3162              		.loc 1 940 19 is_stmt 0 view .LVU918
 3163 005e 2B71     		strb	r3, [r5, #4]
 941:Src/main.c    **** 	  time.minutes = 0;
 3164              		.loc 1 941 4 is_stmt 1 view .LVU919
 941:Src/main.c    **** 	  time.minutes = 0;
 3165              		.loc 1 941 15 is_stmt 0 view .LVU920
 3166 0060 0023     		movs	r3, #0
 945:Src/main.c    **** 
 3167              		.loc 1 945 4 view .LVU921
 3168 0062 2800     		movs	r0, r5
 941:Src/main.c    **** 	  time.minutes = 0;
 3169              		.loc 1 941 15 view .LVU922
 3170 0064 EB70     		strb	r3, [r5, #3]
 942:Src/main.c    **** 	  time.ampm = HOUR24;
 3171              		.loc 1 942 4 is_stmt 1 view .LVU923
 942:Src/main.c    **** 	  time.ampm = HOUR24;
 3172              		.loc 1 942 17 is_stmt 0 view .LVU924
 3173 0066 6B70     		strb	r3, [r5, #1]
 943:Src/main.c    **** 	  time.seconds = 0;
 3174              		.loc 1 943 4 is_stmt 1 view .LVU925
 943:Src/main.c    **** 	  time.seconds = 0;
 3175              		.loc 1 943 14 is_stmt 0 view .LVU926
 3176 0068 AA70     		strb	r2, [r5, #2]
 944:Src/main.c    **** 	  SetTime(&time);
 3177              		.loc 1 944 4 is_stmt 1 view .LVU927
 944:Src/main.c    **** 	  SetTime(&time);
 3178              		.loc 1 944 17 is_stmt 0 view .LVU928
 3179 006a 2B70     		strb	r3, [r5]
 945:Src/main.c    **** 
 3180              		.loc 1 945 4 is_stmt 1 view .LVU929
 3181 006c FFF7FEFF 		bl	SetTime
 3182              	.LVL184:
 948:Src/main.c    **** 	  saveSettings();
 3183              		.loc 1 948 4 view .LVU930
 3184 0070 FFF7FEFF 		bl	resetSettings
 3185              	.LVL185:
 949:Src/main.c    ****   }else{
 3186              		.loc 1 949 4 view .LVU931
 3187 0074 FFF7FEFF 		bl	saveSettings
 3188              	.LVL186:
 3189              	.L269:
 965:Src/main.c    ****   if(alarmHour > (uint8_t)23 || alarmMin > (uint8_t)59){
 3190              		.loc 1 965 3 view .LVU932
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 88


 966:Src/main.c    **** 	  hasError = true;
 3191              		.loc 1 966 3 view .LVU933
 966:Src/main.c    **** 	  hasError = true;
 3192              		.loc 1 966 5 is_stmt 0 view .LVU934
 3193 0078 3A78     		ldrb	r2, [r7]
 967:Src/main.c    ****   }
 3194              		.loc 1 967 13 view .LVU935
 3195 007a 0123     		movs	r3, #1
 966:Src/main.c    **** 	  hasError = true;
 3196              		.loc 1 966 5 view .LVU936
 3197 007c 172A     		cmp	r2, #23
 3198 007e 05D8     		bhi	.L270
 966:Src/main.c    **** 	  hasError = true;
 3199              		.loc 1 966 42 discriminator 1 view .LVU937
 3200 0080 8C4B     		ldr	r3, .L312+20
 966:Src/main.c    **** 	  hasError = true;
 3201              		.loc 1 966 30 discriminator 1 view .LVU938
 3202 0082 1A78     		ldrb	r2, [r3]
 3203 0084 3B23     		movs	r3, #59
 3204 0086 9342     		cmp	r3, r2
 3205 0088 9B41     		sbcs	r3, r3, r3
 3206 008a 5B42     		rsbs	r3, r3, #0
 3207              	.L270:
 3208              	.LVL187:
 972:Src/main.c    **** 	  hasError = true;
 3209              		.loc 1 972 3 is_stmt 1 view .LVU939
 972:Src/main.c    **** 	  hasError = true;
 3210              		.loc 1 972 5 is_stmt 0 view .LVU940
 3211 008c 3278     		ldrb	r2, [r6]
 3212 008e 172A     		cmp	r2, #23
 3213 0090 00D9     		bls	.LCB2667
 3214 0092 D4E0     		b	.L296	@long jump
 3215              	.LCB2667:
 972:Src/main.c    **** 	  hasError = true;
 3216              		.loc 1 972 45 discriminator 1 view .LVU941
 3217 0094 884A     		ldr	r2, .L312+24
 972:Src/main.c    **** 	  hasError = true;
 3218              		.loc 1 972 27 discriminator 1 view .LVU942
 3219 0096 1278     		ldrb	r2, [r2]
 3220 0098 172A     		cmp	r2, #23
 3221 009a 00D9     		bls	.LCB2671
 3222 009c CFE0     		b	.L296	@long jump
 3223              	.LCB2671:
 3224              	.LVL188:
 3225              	.L271:
 975:Src/main.c    **** 	  hasError = true;
 3226              		.loc 1 975 3 is_stmt 1 view .LVU943
 975:Src/main.c    **** 	  hasError = true;
 3227              		.loc 1 975 5 is_stmt 0 view .LVU944
 3228 009e 2278     		ldrb	r2, [r4]
 3229 00a0 082A     		cmp	r2, #8
 3230 00a2 0BD8     		bhi	.L272
 975:Src/main.c    **** 	  hasError = true;
 3231              		.loc 1 975 46 discriminator 1 view .LVU945
 3232 00a4 854A     		ldr	r2, .L312+28
 975:Src/main.c    **** 	  hasError = true;
 3233              		.loc 1 975 26 discriminator 1 view .LVU946
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 89


 3234 00a6 1278     		ldrb	r2, [r2]
 3235 00a8 013A     		subs	r2, r2, #1
 3236 00aa 072A     		cmp	r2, #7
 3237 00ac 06D8     		bhi	.L272
 975:Src/main.c    **** 	  hasError = true;
 3238              		.loc 1 975 93 discriminator 3 view .LVU947
 3239 00ae 844A     		ldr	r2, .L312+32
 975:Src/main.c    **** 	  hasError = true;
 3240              		.loc 1 975 75 discriminator 3 view .LVU948
 3241 00b0 1278     		ldrb	r2, [r2]
 3242 00b2 013A     		subs	r2, r2, #1
 3243 00b4 072A     		cmp	r2, #7
 3244 00b6 01D8     		bhi	.L272
 980:Src/main.c    **** 	  resetSettings();
 3245              		.loc 1 980 3 is_stmt 1 view .LVU949
 980:Src/main.c    **** 	  resetSettings();
 3246              		.loc 1 980 5 is_stmt 0 view .LVU950
 3247 00b8 002B     		cmp	r3, #0
 3248 00ba 03D0     		beq	.L273
 3249              	.L272:
 3250              	.LVL189:
 981:Src/main.c    **** 	  saveSettings();
 3251              		.loc 1 981 4 is_stmt 1 view .LVU951
 3252 00bc FFF7FEFF 		bl	resetSettings
 3253              	.LVL190:
 982:Src/main.c    ****   }
 3254              		.loc 1 982 4 view .LVU952
 3255 00c0 FFF7FEFF 		bl	saveSettings
 3256              	.LVL191:
 3257              	.L273:
 985:Src/main.c    ****   if(savedBrightness != 0){
 3258              		.loc 1 985 3 view .LVU953
 3259 00c4 FFF7FEFF 		bl	TM1637Init
 3260              	.LVL192:
 986:Src/main.c    **** 	  TM1637SetBrightness(savedBrightness);
 3261              		.loc 1 986 3 view .LVU954
 986:Src/main.c    **** 	  TM1637SetBrightness(savedBrightness);
 3262              		.loc 1 986 22 is_stmt 0 view .LVU955
 3263 00c8 2478     		ldrb	r4, [r4]
 986:Src/main.c    **** 	  TM1637SetBrightness(savedBrightness);
 3264              		.loc 1 986 5 view .LVU956
 3265 00ca 002C     		cmp	r4, #0
 3266 00cc 00D1     		bne	.LCB2708
 3267 00ce B8E0     		b	.L274	@long jump
 3268              	.LCB2708:
 987:Src/main.c    ****   }
 3269              		.loc 1 987 4 is_stmt 1 view .LVU957
 3270 00d0 2000     		movs	r0, r4
 3271 00d2 FFF7FEFF 		bl	TM1637SetBrightness
 3272              	.LVL193:
 3273              	.L275:
 994:Src/main.c    ****   HAL_ADC_Start_DMA(&hadc, adcValue, 2);
 3274              		.loc 1 994 3 view .LVU958
 3275 00d6 7B4C     		ldr	r4, .L312+36
 3276 00d8 2000     		movs	r0, r4
 3277 00da FFF7FEFF 		bl	HAL_ADCEx_Calibration_Start
 3278              	.LVL194:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 90


 995:Src/main.c    ****   HAL_TIM_Base_Start(&htim3);
 3279              		.loc 1 995 3 view .LVU959
 3280 00de 7A49     		ldr	r1, .L312+40
 3281 00e0 0222     		movs	r2, #2
 3282 00e2 2000     		movs	r0, r4
 3283 00e4 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3284              	.LVL195:
 996:Src/main.c    **** 
 3285              		.loc 1 996 3 view .LVU960
 3286 00e8 7848     		ldr	r0, .L312+44
 3287 00ea FFF7FEFF 		bl	HAL_TIM_Base_Start
 3288              	.LVL196:
 998:Src/main.c    **** 
 3289              		.loc 1 998 3 view .LVU961
 3290 00ee 7848     		ldr	r0, .L312+48
 3291 00f0 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 3292              	.LVL197:
1000:Src/main.c    ****   lastRingOnTimeHour = time.hours;
 3293              		.loc 1 1000 3 view .LVU962
 3294 00f4 2800     		movs	r0, r5
 3295 00f6 FFF7FEFF 		bl	TimeNow
 3296              	.LVL198:
1001:Src/main.c    **** 
 3297              		.loc 1 1001 3 view .LVU963
1001:Src/main.c    **** 
 3298              		.loc 1 1001 22 is_stmt 0 view .LVU964
 3299 00fa 764B     		ldr	r3, .L312+52
 3300 00fc EA78     		ldrb	r2, [r5, #3]
1013:Src/main.c    ****   while (1)
 3301              		.loc 1 1013 12 view .LVU965
 3302 00fe 0024     		movs	r4, #0
1001:Src/main.c    **** 
 3303              		.loc 1 1001 22 view .LVU966
 3304 0100 1A70     		strb	r2, [r3]
1003:Src/main.c    **** 
 3305              		.loc 1 1003 3 is_stmt 1 view .LVU967
 3306 0102 FFF7FEFF 		bl	EnableSencodInterruptOuput
 3307              	.LVL199:
1005:Src/main.c    **** 
 3308              		.loc 1 1005 3 view .LVU968
1005:Src/main.c    **** 
 3309              		.loc 1 1005 27 is_stmt 0 view .LVU969
 3310 0106 FFF7FEFF 		bl	HAL_GetTick
 3311              	.LVL200:
1007:Src/main.c    **** 
 3312              		.loc 1 1007 19 view .LVU970
 3313 010a 0122     		movs	r2, #1
1005:Src/main.c    **** 
 3314              		.loc 1 1005 25 discriminator 1 view .LVU971
 3315 010c 724F     		ldr	r7, .L312+56
1007:Src/main.c    **** 
 3316              		.loc 1 1007 19 view .LVU972
 3317 010e 734B     		ldr	r3, .L312+60
1005:Src/main.c    **** 
 3318              		.loc 1 1005 25 discriminator 1 view .LVU973
 3319 0110 3860     		str	r0, [r7]
1007:Src/main.c    **** 
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 91


 3320              		.loc 1 1007 3 is_stmt 1 view .LVU974
1007:Src/main.c    **** 
 3321              		.loc 1 1007 19 is_stmt 0 view .LVU975
 3322 0112 1A70     		strb	r2, [r3]
1013:Src/main.c    ****   while (1)
 3323              		.loc 1 1013 3 is_stmt 1 view .LVU976
 3324              	.LVL201:
 3325              	.L276:
1014:Src/main.c    ****   {
 3326              		.loc 1 1014 3 view .LVU977
1020:Src/main.c    **** 			now = HAL_GetTick();
 3327              		.loc 1 1020 3 view .LVU978
1020:Src/main.c    **** 			now = HAL_GetTick();
 3328              		.loc 1 1020 7 is_stmt 0 view .LVU979
 3329 0114 9020     		movs	r0, #144
 3330 0116 4021     		movs	r1, #64
 3331 0118 C005     		lsls	r0, r0, #23
 3332 011a FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3333              	.LVL202:
1020:Src/main.c    **** 			now = HAL_GetTick();
 3334              		.loc 1 1020 6 discriminator 1 view .LVU980
 3335 011e 0028     		cmp	r0, #0
 3336 0120 25D1     		bne	.L277
1021:Src/main.c    **** 
 3337              		.loc 1 1021 4 is_stmt 1 view .LVU981
1021:Src/main.c    **** 
 3338              		.loc 1 1021 10 is_stmt 0 view .LVU982
 3339 0122 FFF7FEFF 		bl	HAL_GetTick
 3340              	.LVL203:
1024:Src/main.c    **** 				// é—¹é’Ÿå“é“ƒç”±alarmTimerTick()æ§åˆ¶
 3341              		.loc 1 1024 7 view .LVU983
 3342 0126 6E4B     		ldr	r3, .L312+64
1021:Src/main.c    **** 
 3343              		.loc 1 1021 10 view .LVU984
 3344 0128 0400     		movs	r4, r0
 3345              	.LVL204:
1024:Src/main.c    **** 				// é—¹é’Ÿå“é“ƒç”±alarmTimerTick()æ§åˆ¶
 3346              		.loc 1 1024 4 is_stmt 1 view .LVU985
1024:Src/main.c    **** 				// é—¹é’Ÿå“é“ƒç”±alarmTimerTick()æ§åˆ¶
 3347              		.loc 1 1024 6 is_stmt 0 view .LVU986
 3348 012a 1B78     		ldrb	r3, [r3]
 3349 012c 002B     		cmp	r3, #0
 3350 012e 1ED1     		bne	.L277
1028:Src/main.c    **** 				uint32_t chimeDuration;
 3351              		.loc 1 1028 9 is_stmt 1 view .LVU987
 3352              	.LBB24:
1041:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3353              		.loc 1 1041 13 is_stmt 0 view .LVU988
 3354 0130 6C4B     		ldr	r3, .L312+68
 3355              	.LBE24:
1028:Src/main.c    **** 				uint32_t chimeDuration;
 3356              		.loc 1 1028 12 view .LVU989
 3357 0132 6D4E     		ldr	r6, .L312+72
 3358              	.LBB25:
1041:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3359              		.loc 1 1041 13 view .LVU990
 3360 0134 1A68     		ldr	r2, [r3]
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 92


 3361              	.LBE25:
1028:Src/main.c    **** 				uint32_t chimeDuration;
 3362              		.loc 1 1028 11 view .LVU991
 3363 0136 3378     		ldrb	r3, [r6]
 3364 0138 002B     		cmp	r3, #0
 3365 013a 00D1     		bne	.LCB2785
 3366 013c 87E0     		b	.L279	@long jump
 3367              	.LCB2785:
 3368              	.LBB26:
1029:Src/main.c    **** 				// åˆ¤æ–­æ˜¯çŸ­éŸ³è¿˜æ˜¯é•¿éŸ³
 3369              		.loc 1 1029 5 is_stmt 1 view .LVU992
1031:Src/main.c    **** 					// æ•´ç‚¹é•¿éŸ³ï¼š1000ms
 3370              		.loc 1 1031 5 view .LVU993
1031:Src/main.c    **** 					// æ•´ç‚¹é•¿éŸ³ï¼š1000ms
 3371              		.loc 1 1031 26 is_stmt 0 discriminator 1 view .LVU994
 3372 013e 2978     		ldrb	r1, [r5]
 3373 0140 6B78     		ldrb	r3, [r5, #1]
 3374 0142 0B43     		orrs	r3, r1
1033:Src/main.c    **** 				}
 3375              		.loc 1 1033 20 view .LVU995
 3376 0144 591E     		subs	r1, r3, #1
 3377 0146 8B41     		sbcs	r3, r3, r1
 3378 0148 6849     		ldr	r1, .L312+76
 3379 014a 5B42     		rsbs	r3, r3, #0
 3380 014c 0B40     		ands	r3, r1
 3381 014e FA21     		movs	r1, #250
 3382 0150 8900     		lsls	r1, r1, #2
 3383 0152 5B18     		adds	r3, r3, r1
 3384              	.LVL205:
1041:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3385              		.loc 1 1041 5 is_stmt 1 view .LVU996
1041:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3386              		.loc 1 1041 8 is_stmt 0 view .LVU997
 3387 0154 9042     		cmp	r0, r2
 3388 0156 02D3     		bcc	.L281
1041:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3389              		.loc 1 1041 37 discriminator 1 view .LVU998
 3390 0158 821A     		subs	r2, r0, r2
1041:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3391              		.loc 1 1041 29 discriminator 1 view .LVU999
 3392 015a 9A42     		cmp	r2, r3
 3393 015c 07D3     		bcc	.L277
 3394              	.L281:
1042:Src/main.c    **** 					isChiming = false;
 3395              		.loc 1 1042 6 is_stmt 1 view .LVU1000
 3396 015e 9020     		movs	r0, #144
 3397              	.LVL206:
1042:Src/main.c    **** 					isChiming = false;
 3398              		.loc 1 1042 6 is_stmt 0 view .LVU1001
 3399 0160 0122     		movs	r2, #1
 3400 0162 4021     		movs	r1, #64
 3401 0164 C005     		lsls	r0, r0, #23
 3402 0166 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3403              	.LVL207:
1043:Src/main.c    **** 				}
 3404              		.loc 1 1043 6 is_stmt 1 view .LVU1002
1043:Src/main.c    **** 				}
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 93


 3405              		.loc 1 1043 16 is_stmt 0 view .LVU1003
 3406 016a 0023     		movs	r3, #0
 3407 016c 3370     		strb	r3, [r6]
 3408              	.LVL208:
 3409              	.L277:
1043:Src/main.c    **** 				}
 3410              		.loc 1 1043 16 view .LVU1004
 3411              	.LBE26:
1055:Src/main.c    **** 			if (currentMode == MODE_SHOW_TIME) {
 3412              		.loc 1 1055 3 is_stmt 1 view .LVU1005
1055:Src/main.c    **** 			if (currentMode == MODE_SHOW_TIME) {
 3413              		.loc 1 1055 6 is_stmt 0 view .LVU1006
 3414 016e 009A     		ldr	r2, [sp]
1056:Src/main.c    **** 				now = HAL_GetTick();
 3415              		.loc 1 1056 20 view .LVU1007
 3416 0170 5F4E     		ldr	r6, .L312+80
1055:Src/main.c    **** 			if (currentMode == MODE_SHOW_TIME) {
 3417              		.loc 1 1055 6 view .LVU1008
 3418 0172 1278     		ldrb	r2, [r2]
1056:Src/main.c    **** 				now = HAL_GetTick();
 3419              		.loc 1 1056 20 view .LVU1009
 3420 0174 3378     		ldrb	r3, [r6]
1055:Src/main.c    **** 			if (currentMode == MODE_SHOW_TIME) {
 3421              		.loc 1 1055 6 view .LVU1010
 3422 0176 002A     		cmp	r2, #0
 3423 0178 00D1     		bne	.LCB2831
 3424 017a 8CE0     		b	.L283	@long jump
 3425              	.LCB2831:
1056:Src/main.c    **** 				now = HAL_GetTick();
 3426              		.loc 1 1056 4 is_stmt 1 view .LVU1011
1056:Src/main.c    **** 				now = HAL_GetTick();
 3427              		.loc 1 1056 7 is_stmt 0 view .LVU1012
 3428 017c 002B     		cmp	r3, #0
 3429 017e 74D1     		bne	.L284
1057:Src/main.c    **** 				passedTime = now - lastDisplayChangeTime;
 3430              		.loc 1 1057 5 is_stmt 1 view .LVU1013
1057:Src/main.c    **** 				passedTime = now - lastDisplayChangeTime;
 3431              		.loc 1 1057 11 is_stmt 0 view .LVU1014
 3432 0180 FFF7FEFF 		bl	HAL_GetTick
 3433              	.LVL209:
1058:Src/main.c    **** 				if (now < lastDisplayChangeTime || passedTime >= (tempertureHideTime * 1000)) {
 3434              		.loc 1 1058 22 view .LVU1015
 3435 0184 3B68     		ldr	r3, [r7]
1057:Src/main.c    **** 				passedTime = now - lastDisplayChangeTime;
 3436              		.loc 1 1057 11 view .LVU1016
 3437 0186 0400     		movs	r4, r0
 3438              	.LVL210:
1058:Src/main.c    **** 				if (now < lastDisplayChangeTime || passedTime >= (tempertureHideTime * 1000)) {
 3439              		.loc 1 1058 5 is_stmt 1 view .LVU1017
1059:Src/main.c    **** 					currentMode = MODE_SHOW_TEMPERTURE;
 3440              		.loc 1 1059 5 view .LVU1018
1059:Src/main.c    **** 					currentMode = MODE_SHOW_TEMPERTURE;
 3441              		.loc 1 1059 8 is_stmt 0 view .LVU1019
 3442 0188 8342     		cmp	r3, r0
 3443 018a 07D8     		bhi	.L285
1059:Src/main.c    **** 					currentMode = MODE_SHOW_TEMPERTURE;
 3444              		.loc 1 1059 74 discriminator 1 view .LVU1020
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 94


 3445 018c FA21     		movs	r1, #250
 3446 018e 594A     		ldr	r2, .L312+84
 3447 0190 8900     		lsls	r1, r1, #2
 3448 0192 1278     		ldrb	r2, [r2]
1058:Src/main.c    **** 				if (now < lastDisplayChangeTime || passedTime >= (tempertureHideTime * 1000)) {
 3449              		.loc 1 1058 16 view .LVU1021
 3450 0194 C31A     		subs	r3, r0, r3
 3451              	.LVL211:
1059:Src/main.c    **** 					currentMode = MODE_SHOW_TEMPERTURE;
 3452              		.loc 1 1059 74 discriminator 1 view .LVU1022
 3453 0196 4A43     		muls	r2, r1
1059:Src/main.c    **** 					currentMode = MODE_SHOW_TEMPERTURE;
 3454              		.loc 1 1059 37 discriminator 1 view .LVU1023
 3455 0198 9A42     		cmp	r2, r3
 3456 019a 02D8     		bhi	.L286
 3457              	.LVL212:
 3458              	.L285:
1060:Src/main.c    **** 					lastDisplayChangeTime = now;
 3459              		.loc 1 1060 6 is_stmt 1 view .LVU1024
1060:Src/main.c    **** 					lastDisplayChangeTime = now;
 3460              		.loc 1 1060 18 is_stmt 0 view .LVU1025
 3461 019c 0223     		movs	r3, #2
 3462              	.LVL213:
 3463              	.L311:
1069:Src/main.c    **** 					lastDisplayChangeTime = now;
 3464              		.loc 1 1069 18 view .LVU1026
 3465 019e 3370     		strb	r3, [r6]
1070:Src/main.c    **** 				}
 3466              		.loc 1 1070 6 is_stmt 1 view .LVU1027
 3467              	.LVL214:
 3468              	.L310:
1075:Src/main.c    **** 		}
 3469              		.loc 1 1075 4 view .LVU1028
1075:Src/main.c    **** 		}
 3470              		.loc 1 1075 26 is_stmt 0 view .LVU1029
 3471 01a0 3C60     		str	r4, [r7]
 3472              	.L286:
1079:Src/main.c    **** 				&& currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
 3473              		.loc 1 1079 3 is_stmt 1 view .LVU1030
1079:Src/main.c    **** 				&& currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
 3474              		.loc 1 1079 7 is_stmt 0 view .LVU1031
 3475 01a2 9020     		movs	r0, #144
 3476 01a4 0821     		movs	r1, #8
 3477 01a6 C005     		lsls	r0, r0, #23
 3478 01a8 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3479              	.LVL215:
1079:Src/main.c    **** 				&& currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP) {
 3480              		.loc 1 1079 6 discriminator 1 view .LVU1032
 3481 01ac 0028     		cmp	r0, #0
 3482 01ae B1D1     		bne	.L276
1080:Src/main.c    **** 				uint32_t curVal = HAL_GetTick();
 3483              		.loc 1 1080 5 view .LVU1033
 3484 01b0 3378     		ldrb	r3, [r6]
 3485 01b2 033B     		subs	r3, r3, #3
 3486 01b4 0C2B     		cmp	r3, #12
 3487 01b6 ADD8     		bhi	.L276
 3488              	.LBB27:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 95


1081:Src/main.c    **** 				uint32_t timePassed = curVal - lastSetKeyPressTime;
 3489              		.loc 1 1081 5 is_stmt 1 view .LVU1034
1081:Src/main.c    **** 				uint32_t timePassed = curVal - lastSetKeyPressTime;
 3490              		.loc 1 1081 23 is_stmt 0 view .LVU1035
 3491 01b8 FFF7FEFF 		bl	HAL_GetTick
 3492              	.LVL216:
1083:Src/main.c    **** 					if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
 3493              		.loc 1 1083 8 view .LVU1036
 3494 01bc C822     		movs	r2, #200
1082:Src/main.c    **** 				if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
 3495              		.loc 1 1082 34 view .LVU1037
 3496 01be 4E4B     		ldr	r3, .L312+88
1081:Src/main.c    **** 				uint32_t timePassed = curVal - lastSetKeyPressTime;
 3497              		.loc 1 1081 23 view .LVU1038
 3498 01c0 0600     		movs	r6, r0
 3499              	.LVL217:
1082:Src/main.c    **** 				if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
 3500              		.loc 1 1082 5 is_stmt 1 view .LVU1039
1083:Src/main.c    **** 					if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
 3501              		.loc 1 1083 5 view .LVU1040
1082:Src/main.c    **** 				if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
 3502              		.loc 1 1082 14 is_stmt 0 view .LVU1041
 3503 01c2 1B68     		ldr	r3, [r3]
 3504              	.LVL218:
1083:Src/main.c    **** 					if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
 3505              		.loc 1 1083 8 view .LVU1042
 3506 01c4 9200     		lsls	r2, r2, #2
1082:Src/main.c    **** 				if (timePassed > KEY_LONG_PRESS_EFFECT_TIME) {
 3507              		.loc 1 1082 14 view .LVU1043
 3508 01c6 C31A     		subs	r3, r0, r3
 3509              	.LVL219:
1083:Src/main.c    **** 					if (curVal - lastSetKeyPressReportTime > KEY_REPEAT_TIME_INTERVAL) {
 3510              		.loc 1 1083 8 view .LVU1044
 3511 01c8 9342     		cmp	r3, r2
 3512 01ca A3D9     		bls	.L276
1084:Src/main.c    **** 						setKeyPresseRepeatReport();
 3513              		.loc 1 1084 6 is_stmt 1 view .LVU1045
1084:Src/main.c    **** 						setKeyPresseRepeatReport();
 3514              		.loc 1 1084 17 is_stmt 0 view .LVU1046
 3515 01cc 4B4B     		ldr	r3, .L312+92
 3516              	.LVL220:
1084:Src/main.c    **** 						setKeyPresseRepeatReport();
 3517              		.loc 1 1084 17 view .LVU1047
 3518 01ce 0193     		str	r3, [sp, #4]
 3519 01d0 1B68     		ldr	r3, [r3]
 3520 01d2 C31A     		subs	r3, r0, r3
1084:Src/main.c    **** 						setKeyPresseRepeatReport();
 3521              		.loc 1 1084 9 view .LVU1048
 3522 01d4 FA2B     		cmp	r3, #250
 3523 01d6 9DD9     		bls	.L276
1085:Src/main.c    **** 						lastSetKeyPressReportTime = curVal;
 3524              		.loc 1 1085 7 is_stmt 1 view .LVU1049
 3525 01d8 FFF7FEFF 		bl	setKeyPresseRepeatReport
 3526              	.LVL221:
1086:Src/main.c    **** 					}
 3527              		.loc 1 1086 7 view .LVU1050
1086:Src/main.c    **** 					}
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 96


 3528              		.loc 1 1086 33 is_stmt 0 view .LVU1051
 3529 01dc 019B     		ldr	r3, [sp, #4]
 3530 01de 1E60     		str	r6, [r3]
 3531 01e0 98E7     		b	.L276
 3532              	.LVL222:
 3533              	.L268:
1086:Src/main.c    **** 					}
 3534              		.loc 1 1086 33 view .LVU1052
 3535              	.LBE27:
 951:Src/main.c    **** 	  alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 3536              		.loc 1 951 4 is_stmt 1 view .LVU1053
 951:Src/main.c    **** 	  alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 3537              		.loc 1 951 31 is_stmt 0 view .LVU1054
 3538 01e2 02AA     		add	r2, sp, #8
 3539 01e4 9278     		ldrb	r2, [r2, #2]
 951:Src/main.c    **** 	  alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 3540              		.loc 1 951 19 view .LVU1055
 3541 01e6 464B     		ldr	r3, .L312+96
 951:Src/main.c    **** 	  alarmHour = backupData[BAK_ALARM_HOUR_INDEX];
 3542              		.loc 1 951 31 view .LVU1056
 3543 01e8 511E     		subs	r1, r2, #1
 3544 01ea 8A41     		sbcs	r2, r2, r1
 3545 01ec 1A70     		strb	r2, [r3]
 952:Src/main.c    **** 	  alarmMin = backupData[BAK_ALARM_MINUTE_INDEX];
 3546              		.loc 1 952 4 is_stmt 1 view .LVU1057
 952:Src/main.c    **** 	  alarmMin = backupData[BAK_ALARM_MINUTE_INDEX];
 3547              		.loc 1 952 14 is_stmt 0 view .LVU1058
 3548 01ee 02AB     		add	r3, sp, #8
 3549 01f0 DB78     		ldrb	r3, [r3, #3]
 953:Src/main.c    **** 	  tempertureShowTime = backupData[BAK_TEMP_SHOW_TIME_INDEX];
 3550              		.loc 1 953 13 view .LVU1059
 3551 01f2 02AA     		add	r2, sp, #8
 952:Src/main.c    **** 	  alarmMin = backupData[BAK_ALARM_MINUTE_INDEX];
 3552              		.loc 1 952 14 view .LVU1060
 3553 01f4 3B70     		strb	r3, [r7]
 953:Src/main.c    **** 	  tempertureShowTime = backupData[BAK_TEMP_SHOW_TIME_INDEX];
 3554              		.loc 1 953 4 is_stmt 1 view .LVU1061
 953:Src/main.c    **** 	  tempertureShowTime = backupData[BAK_TEMP_SHOW_TIME_INDEX];
 3555              		.loc 1 953 13 is_stmt 0 view .LVU1062
 3556 01f6 1279     		ldrb	r2, [r2, #4]
 3557 01f8 2E4B     		ldr	r3, .L312+20
 3558 01fa 1A70     		strb	r2, [r3]
 954:Src/main.c    **** 	  tempertureHideTime = backupData[BAK_TEMP_HIDE_TIME_INDEX];
 3559              		.loc 1 954 4 is_stmt 1 view .LVU1063
 954:Src/main.c    **** 	  tempertureHideTime = backupData[BAK_TEMP_HIDE_TIME_INDEX];
 3560              		.loc 1 954 23 is_stmt 0 view .LVU1064
 3561 01fc 02AB     		add	r3, sp, #8
 3562 01fe 5B79     		ldrb	r3, [r3, #5]
 3563 0200 009A     		ldr	r2, [sp]
 3564 0202 1370     		strb	r3, [r2]
 955:Src/main.c    **** 	  isRingOnTimeEnabled = backupData[BAK_ROT_ENABLED_INDEX];
 3565              		.loc 1 955 4 is_stmt 1 view .LVU1065
 955:Src/main.c    **** 	  isRingOnTimeEnabled = backupData[BAK_ROT_ENABLED_INDEX];
 3566              		.loc 1 955 23 is_stmt 0 view .LVU1066
 3567 0204 02AA     		add	r2, sp, #8
 3568 0206 9279     		ldrb	r2, [r2, #6]
 3569 0208 3A4B     		ldr	r3, .L312+84
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 97


 3570 020a 1A70     		strb	r2, [r3]
 956:Src/main.c    **** 	  ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 3571              		.loc 1 956 4 is_stmt 1 view .LVU1067
 956:Src/main.c    **** 	  ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 3572              		.loc 1 956 36 is_stmt 0 view .LVU1068
 3573 020c 02AA     		add	r2, sp, #8
 3574 020e D279     		ldrb	r2, [r2, #7]
 956:Src/main.c    **** 	  ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 3575              		.loc 1 956 24 view .LVU1069
 3576 0210 3C4B     		ldr	r3, .L312+100
 956:Src/main.c    **** 	  ringOnTimeStart = backupData[BAK_ROT_START_INDEX];
 3577              		.loc 1 956 36 view .LVU1070
 3578 0212 511E     		subs	r1, r2, #1
 3579 0214 8A41     		sbcs	r2, r2, r1
 3580 0216 1A70     		strb	r2, [r3]
 957:Src/main.c    **** 	  ringOnTimeStop = backupData[BAK_ROT_STOP_INDEX];
 3581              		.loc 1 957 4 is_stmt 1 view .LVU1071
 957:Src/main.c    **** 	  ringOnTimeStop = backupData[BAK_ROT_STOP_INDEX];
 3582              		.loc 1 957 20 is_stmt 0 view .LVU1072
 3583 0218 02AB     		add	r3, sp, #8
 3584 021a 1B7A     		ldrb	r3, [r3, #8]
 958:Src/main.c    **** 	  savedBrightness = backupData[BAK_BRIGHTNESS_INDEX];
 3585              		.loc 1 958 19 view .LVU1073
 3586 021c 02AA     		add	r2, sp, #8
 957:Src/main.c    **** 	  ringOnTimeStop = backupData[BAK_ROT_STOP_INDEX];
 3587              		.loc 1 957 20 view .LVU1074
 3588 021e 3370     		strb	r3, [r6]
 958:Src/main.c    **** 	  savedBrightness = backupData[BAK_BRIGHTNESS_INDEX];
 3589              		.loc 1 958 4 is_stmt 1 view .LVU1075
 958:Src/main.c    **** 	  savedBrightness = backupData[BAK_BRIGHTNESS_INDEX];
 3590              		.loc 1 958 19 is_stmt 0 view .LVU1076
 3591 0220 527A     		ldrb	r2, [r2, #9]
 3592 0222 254B     		ldr	r3, .L312+24
 3593 0224 1A70     		strb	r2, [r3]
 959:Src/main.c    **** 	  strongBrightness = backupData[BAK_BRIGHTNESS_STRONG_INDEX];
 3594              		.loc 1 959 4 is_stmt 1 view .LVU1077
 959:Src/main.c    **** 	  strongBrightness = backupData[BAK_BRIGHTNESS_STRONG_INDEX];
 3595              		.loc 1 959 20 is_stmt 0 view .LVU1078
 3596 0226 02AB     		add	r3, sp, #8
 3597 0228 9B7A     		ldrb	r3, [r3, #10]
 960:Src/main.c    **** 	  weakBrightness = backupData[BAK_BRIGHTNESS_WEAK_INDEX];
 3598              		.loc 1 960 21 view .LVU1079
 3599 022a 02AA     		add	r2, sp, #8
 959:Src/main.c    **** 	  strongBrightness = backupData[BAK_BRIGHTNESS_STRONG_INDEX];
 3600              		.loc 1 959 20 view .LVU1080
 3601 022c 2370     		strb	r3, [r4]
 960:Src/main.c    **** 	  weakBrightness = backupData[BAK_BRIGHTNESS_WEAK_INDEX];
 3602              		.loc 1 960 4 is_stmt 1 view .LVU1081
 960:Src/main.c    **** 	  weakBrightness = backupData[BAK_BRIGHTNESS_WEAK_INDEX];
 3603              		.loc 1 960 21 is_stmt 0 view .LVU1082
 3604 022e D27A     		ldrb	r2, [r2, #11]
 3605 0230 224B     		ldr	r3, .L312+28
 3606 0232 1A70     		strb	r2, [r3]
 961:Src/main.c    ****   }
 3607              		.loc 1 961 4 is_stmt 1 view .LVU1083
 961:Src/main.c    ****   }
 3608              		.loc 1 961 19 is_stmt 0 view .LVU1084
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 98


 3609 0234 02AA     		add	r2, sp, #8
 3610 0236 224B     		ldr	r3, .L312+32
 3611 0238 127B     		ldrb	r2, [r2, #12]
 3612 023a 1A70     		strb	r2, [r3]
 3613 023c 1CE7     		b	.L269
 3614              	.LVL223:
 3615              	.L296:
 973:Src/main.c    ****   }
 3616              		.loc 1 973 13 view .LVU1085
 3617 023e 0123     		movs	r3, #1
 3618              	.LVL224:
 973:Src/main.c    ****   }
 3619              		.loc 1 973 13 view .LVU1086
 3620 0240 2DE7     		b	.L271
 3621              	.LVL225:
 3622              	.L274:
 990:Src/main.c    **** 	  isWeakBrightness = false;
 3623              		.loc 1 990 4 is_stmt 1 view .LVU1087
 3624 0242 0820     		movs	r0, #8
 3625 0244 FFF7FEFF 		bl	TM1637SetBrightness
 3626              	.LVL226:
 991:Src/main.c    ****   }
 3627              		.loc 1 991 4 view .LVU1088
 991:Src/main.c    ****   }
 3628              		.loc 1 991 21 is_stmt 0 view .LVU1089
 3629 0248 2F4B     		ldr	r3, .L312+104
 3630 024a 1C70     		strb	r4, [r3]
 3631 024c 43E7     		b	.L275
 3632              	.LVL227:
 3633              	.L279:
1048:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3634              		.loc 1 1048 5 is_stmt 1 view .LVU1090
1048:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3635              		.loc 1 1048 8 is_stmt 0 view .LVU1091
 3636 024e 9042     		cmp	r0, r2
 3637 0250 04D3     		bcc	.L282
1048:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3638              		.loc 1 1048 29 discriminator 1 view .LVU1092
 3639 0252 FA23     		movs	r3, #250
1048:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3640              		.loc 1 1048 37 discriminator 1 view .LVU1093
 3641 0254 821A     		subs	r2, r0, r2
1048:Src/main.c    **** 					HAL_GPIO_WritePin(BUZZER_GPIO_PORT, BUZZER_PIN, GPIO_PIN_SET);
 3642              		.loc 1 1048 29 discriminator 1 view .LVU1094
 3643 0256 9B00     		lsls	r3, r3, #2
 3644 0258 9A42     		cmp	r2, r3
 3645 025a 88D3     		bcc	.L277
 3646              	.L282:
1049:Src/main.c    **** 				}
 3647              		.loc 1 1049 6 is_stmt 1 view .LVU1095
 3648 025c 9020     		movs	r0, #144
 3649              	.LVL228:
1049:Src/main.c    **** 				}
 3650              		.loc 1 1049 6 is_stmt 0 view .LVU1096
 3651 025e 0122     		movs	r2, #1
 3652 0260 4021     		movs	r1, #64
 3653 0262 C005     		lsls	r0, r0, #23
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 99


 3654 0264 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3655              	.LVL229:
 3656 0268 81E7     		b	.L277
 3657              	.L284:
1065:Src/main.c    **** 				now = HAL_GetTick();
 3658              		.loc 1 1065 9 is_stmt 1 view .LVU1097
1065:Src/main.c    **** 				now = HAL_GetTick();
 3659              		.loc 1 1065 12 is_stmt 0 view .LVU1098
 3660 026a 022B     		cmp	r3, #2
 3661 026c 99D1     		bne	.L286
1065:Src/main.c    **** 				now = HAL_GetTick();
 3662              		.loc 1 1065 71 discriminator 1 view .LVU1099
 3663 026e 214B     		ldr	r3, .L312+84
1065:Src/main.c    **** 				now = HAL_GetTick();
 3664              		.loc 1 1065 49 discriminator 1 view .LVU1100
 3665 0270 1B78     		ldrb	r3, [r3]
 3666 0272 002B     		cmp	r3, #0
 3667 0274 95D0     		beq	.L286
1066:Src/main.c    **** 				passedTime = now - lastDisplayChangeTime;
 3668              		.loc 1 1066 5 is_stmt 1 view .LVU1101
1066:Src/main.c    **** 				passedTime = now - lastDisplayChangeTime;
 3669              		.loc 1 1066 11 is_stmt 0 view .LVU1102
 3670 0276 FFF7FEFF 		bl	HAL_GetTick
 3671              	.LVL230:
1067:Src/main.c    **** 				if (now < lastDisplayChangeTime || passedTime >= (tempertureShowTime * 1000)) {
 3672              		.loc 1 1067 22 view .LVU1103
 3673 027a 3B68     		ldr	r3, [r7]
1066:Src/main.c    **** 				passedTime = now - lastDisplayChangeTime;
 3674              		.loc 1 1066 11 view .LVU1104
 3675 027c 0400     		movs	r4, r0
 3676              	.LVL231:
1067:Src/main.c    **** 				if (now < lastDisplayChangeTime || passedTime >= (tempertureShowTime * 1000)) {
 3677              		.loc 1 1067 5 is_stmt 1 view .LVU1105
1068:Src/main.c    **** 					currentMode = MODE_SHOW_TIME;
 3678              		.loc 1 1068 5 view .LVU1106
1068:Src/main.c    **** 					currentMode = MODE_SHOW_TIME;
 3679              		.loc 1 1068 8 is_stmt 0 view .LVU1107
 3680 027e 8342     		cmp	r3, r0
 3681 0280 07D8     		bhi	.L289
1068:Src/main.c    **** 					currentMode = MODE_SHOW_TIME;
 3682              		.loc 1 1068 74 discriminator 1 view .LVU1108
 3683 0282 FA21     		movs	r1, #250
 3684 0284 009A     		ldr	r2, [sp]
 3685 0286 8900     		lsls	r1, r1, #2
 3686 0288 1278     		ldrb	r2, [r2]
1067:Src/main.c    **** 				if (now < lastDisplayChangeTime || passedTime >= (tempertureShowTime * 1000)) {
 3687              		.loc 1 1067 16 view .LVU1109
 3688 028a C31A     		subs	r3, r0, r3
 3689              	.LVL232:
1068:Src/main.c    **** 					currentMode = MODE_SHOW_TIME;
 3690              		.loc 1 1068 74 discriminator 1 view .LVU1110
 3691 028c 4A43     		muls	r2, r1
1068:Src/main.c    **** 					currentMode = MODE_SHOW_TIME;
 3692              		.loc 1 1068 37 discriminator 1 view .LVU1111
 3693 028e 9A42     		cmp	r2, r3
 3694 0290 87D8     		bhi	.L286
 3695              	.LVL233:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 100


 3696              	.L289:
1069:Src/main.c    **** 					lastDisplayChangeTime = now;
 3697              		.loc 1 1069 6 is_stmt 1 view .LVU1112
1069:Src/main.c    **** 					lastDisplayChangeTime = now;
 3698              		.loc 1 1069 18 is_stmt 0 view .LVU1113
 3699 0292 0023     		movs	r3, #0
 3700 0294 83E7     		b	.L311
 3701              	.LVL234:
 3702              	.L283:
1073:Src/main.c    **** 			currentMode = MODE_SHOW_TIME;
 3703              		.loc 1 1073 10 is_stmt 1 view .LVU1114
1073:Src/main.c    **** 			currentMode = MODE_SHOW_TIME;
 3704              		.loc 1 1073 12 is_stmt 0 view .LVU1115
 3705 0296 022B     		cmp	r3, #2
 3706 0298 83D1     		bne	.L286
1074:Src/main.c    **** 			lastDisplayChangeTime = now;
 3707              		.loc 1 1074 4 is_stmt 1 view .LVU1116
1074:Src/main.c    **** 			lastDisplayChangeTime = now;
 3708              		.loc 1 1074 16 is_stmt 0 view .LVU1117
 3709 029a 3270     		strb	r2, [r6]
 3710 029c 80E7     		b	.L310
 3711              	.L313:
 3712 029e C046     		.align	2
 3713              	.L312:
 3714 02a0 00000000 		.word	tempertureShowTime
 3715 02a4 00000000 		.word	time
 3716 02a8 00000000 		.word	alarmHour
 3717 02ac 00000000 		.word	ringOnTimeStart
 3718 02b0 00000000 		.word	savedBrightness
 3719 02b4 00000000 		.word	alarmMin
 3720 02b8 00000000 		.word	ringOnTimeStop
 3721 02bc 00000000 		.word	strongBrightness
 3722 02c0 00000000 		.word	weakBrightness
 3723 02c4 00000000 		.word	hadc
 3724 02c8 00000000 		.word	adcValue
 3725 02cc 00000000 		.word	htim3
 3726 02d0 00000000 		.word	htim16
 3727 02d4 00000000 		.word	lastRingOnTimeHour
 3728 02d8 00000000 		.word	lastDisplayChangeTime
 3729 02dc 00000000 		.word	isInitCompleted
 3730 02e0 00000000 		.word	isAlarming
 3731 02e4 00000000 		.word	ringStartTime
 3732 02e8 00000000 		.word	isChiming
 3733 02ec 7CFCFFFF 		.word	-900
 3734 02f0 00000000 		.word	currentMode
 3735 02f4 00000000 		.word	tempertureHideTime
 3736 02f8 00000000 		.word	lastSetKeyPressTime
 3737 02fc 00000000 		.word	lastSetKeyPressReportTime
 3738 0300 00000000 		.word	isAlarmEnabled
 3739 0304 00000000 		.word	isRingOnTimeEnabled
 3740 0308 00000000 		.word	isWeakBrightness
 3741              		.cfi_endproc
 3742              	.LFE56:
 3744              		.section	.text.HAL_GPIO_EXTI_Callback,"ax",%progbits
 3745              		.align	1
 3746              		.global	HAL_GPIO_EXTI_Callback
 3747              		.syntax unified
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 101


 3748              		.code	16
 3749              		.thumb_func
 3751              	HAL_GPIO_EXTI_Callback:
 3752              	.LVL235:
 3753              	.LFB58:
1139:Src/main.c    **** 
1140:Src/main.c    **** /* USER CODE BEGIN 4 */
1141:Src/main.c    **** void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin){
 3754              		.loc 1 1141 47 is_stmt 1 view -0
 3755              		.cfi_startproc
 3756              		@ args = 0, pretend = 0, frame = 0
 3757              		@ frame_needed = 0, uses_anonymous_args = 0
1142:Src/main.c    **** 
1143:Src/main.c    **** 	if (GPIO_Pin == SECOND_INT_PIN && isInitCompleted) {
 3758              		.loc 1 1143 2 view .LVU1119
1141:Src/main.c    **** 
 3759              		.loc 1 1141 47 is_stmt 0 view .LVU1120
 3760 0000 0100     		movs	r1, r0
 3761 0002 10B5     		push	{r4, lr}
 3762              	.LCFI22:
 3763              		.cfi_def_cfa_offset 8
 3764              		.cfi_offset 4, -8
 3765              		.cfi_offset 14, -4
 3766              		.loc 1 1143 5 view .LVU1121
 3767 0004 0228     		cmp	r0, #2
 3768 0006 14D1     		bne	.L315
 3769              		.loc 1 1143 33 discriminator 1 view .LVU1122
 3770 0008 184B     		ldr	r3, .L325
 3771 000a 1B78     		ldrb	r3, [r3]
 3772 000c 002B     		cmp	r3, #0
 3773 000e 09D0     		beq	.L314
1144:Src/main.c    **** 		if(currentMode == MODE_SHOW_TIME || currentMode == MODE_SHOW_SECOND || currentMode == MODE_SHOW_T
 3774              		.loc 1 1144 3 is_stmt 1 view .LVU1123
 3775              		.loc 1 1144 71 is_stmt 0 view .LVU1124
 3776 0010 174B     		ldr	r3, .L325+4
 3777 0012 1B78     		ldrb	r3, [r3]
 3778              		.loc 1 1144 5 view .LVU1125
 3779 0014 022B     		cmp	r3, #2
 3780 0016 06D8     		bhi	.L317
1145:Src/main.c    **** 			refreshTimeDisplay();
 3781              		.loc 1 1145 4 is_stmt 1 view .LVU1126
 3782 0018 FFF7FEFF 		bl	refreshTimeDisplay
 3783              	.LVL236:
 3784              	.L318:
1146:Src/main.c    **** 		}
1147:Src/main.c    **** 		else if(currentMode >= MODE_SET_HOUR && currentMode <= MODE_SET_ROT_STOP){
1148:Src/main.c    **** 			refreshSettingsDisplay();
1149:Src/main.c    **** 		}
1150:Src/main.c    **** 		blinkControl = ~blinkControl;
 3785              		.loc 1 1150 3 view .LVU1127
 3786              		.loc 1 1150 16 is_stmt 0 view .LVU1128
 3787 001c 154A     		ldr	r2, .L325+8
 3788 001e 1378     		ldrb	r3, [r2]
 3789 0020 DB43     		mvns	r3, r3
 3790 0022 1370     		strb	r3, [r2]
 3791              	.L314:
1151:Src/main.c    **** 	}
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 102


1152:Src/main.c    **** 	else if (GPIO_Pin == MODE_KEY_PIN) {
1153:Src/main.c    **** 
1154:Src/main.c    **** 		if (HAL_GPIO_ReadPin(MODE_KEY_GPIO_PORT, MODE_KEY_PIN) == GPIO_PIN_RESET) {
1155:Src/main.c    **** 			modeKeyPressed();
1156:Src/main.c    **** 		}
1157:Src/main.c    **** 		else {
1158:Src/main.c    **** 			modeKeyReleased();
1159:Src/main.c    **** 		}
1160:Src/main.c    **** 	}
1161:Src/main.c    **** 	else if (GPIO_Pin == SET_KEY_PIN) {
1162:Src/main.c    **** 		if (HAL_GPIO_ReadPin(SET_KEY_GPIO_PORT, SET_KEY_PIN) == GPIO_PIN_RESET) {
1163:Src/main.c    **** 			setKeyPressed();
1164:Src/main.c    **** 		}
1165:Src/main.c    **** 		else {
1166:Src/main.c    **** 			setKeyReleased();
1167:Src/main.c    **** 		}
1168:Src/main.c    **** 	}
1169:Src/main.c    **** }
 3792              		.loc 1 1169 1 view .LVU1129
 3793              		@ sp needed
 3794 0024 10BD     		pop	{r4, pc}
 3795              	.LVL237:
 3796              	.L317:
1147:Src/main.c    **** 			refreshSettingsDisplay();
 3797              		.loc 1 1147 8 is_stmt 1 view .LVU1130
1147:Src/main.c    **** 			refreshSettingsDisplay();
 3798              		.loc 1 1147 10 is_stmt 0 view .LVU1131
 3799 0026 033B     		subs	r3, r3, #3
 3800 0028 0C2B     		cmp	r3, #12
 3801 002a F7D8     		bhi	.L318
1148:Src/main.c    **** 		}
 3802              		.loc 1 1148 4 is_stmt 1 view .LVU1132
 3803 002c FFF7FEFF 		bl	refreshSettingsDisplay
 3804              	.LVL238:
1148:Src/main.c    **** 		}
 3805              		.loc 1 1148 4 is_stmt 0 view .LVU1133
 3806 0030 F4E7     		b	.L318
 3807              	.LVL239:
 3808              	.L315:
1152:Src/main.c    **** 
 3809              		.loc 1 1152 7 is_stmt 1 view .LVU1134
1152:Src/main.c    **** 
 3810              		.loc 1 1152 10 is_stmt 0 view .LVU1135
 3811 0032 0428     		cmp	r0, #4
 3812 0034 0BD1     		bne	.L319
1154:Src/main.c    **** 			modeKeyPressed();
 3813              		.loc 1 1154 3 is_stmt 1 view .LVU1136
1154:Src/main.c    **** 			modeKeyPressed();
 3814              		.loc 1 1154 7 is_stmt 0 view .LVU1137
 3815 0036 9020     		movs	r0, #144
 3816              	.LVL240:
1154:Src/main.c    **** 			modeKeyPressed();
 3817              		.loc 1 1154 7 view .LVU1138
 3818 0038 C005     		lsls	r0, r0, #23
 3819 003a FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3820              	.LVL241:
1154:Src/main.c    **** 			modeKeyPressed();
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 103


 3821              		.loc 1 1154 6 discriminator 1 view .LVU1139
 3822 003e 0028     		cmp	r0, #0
 3823 0040 02D1     		bne	.L320
1155:Src/main.c    **** 		}
 3824              		.loc 1 1155 4 is_stmt 1 view .LVU1140
 3825 0042 FFF7FEFF 		bl	modeKeyPressed
 3826              	.LVL242:
 3827 0046 EDE7     		b	.L314
 3828              	.L320:
1158:Src/main.c    **** 		}
 3829              		.loc 1 1158 4 view .LVU1141
 3830 0048 FFF7FEFF 		bl	modeKeyReleased
 3831              	.LVL243:
 3832 004c EAE7     		b	.L314
 3833              	.LVL244:
 3834              	.L319:
1161:Src/main.c    **** 		if (HAL_GPIO_ReadPin(SET_KEY_GPIO_PORT, SET_KEY_PIN) == GPIO_PIN_RESET) {
 3835              		.loc 1 1161 7 view .LVU1142
1161:Src/main.c    **** 		if (HAL_GPIO_ReadPin(SET_KEY_GPIO_PORT, SET_KEY_PIN) == GPIO_PIN_RESET) {
 3836              		.loc 1 1161 10 is_stmt 0 view .LVU1143
 3837 004e 0828     		cmp	r0, #8
 3838 0050 E8D1     		bne	.L314
1162:Src/main.c    **** 			setKeyPressed();
 3839              		.loc 1 1162 3 is_stmt 1 view .LVU1144
1162:Src/main.c    **** 			setKeyPressed();
 3840              		.loc 1 1162 7 is_stmt 0 view .LVU1145
 3841 0052 9020     		movs	r0, #144
 3842              	.LVL245:
1162:Src/main.c    **** 			setKeyPressed();
 3843              		.loc 1 1162 7 view .LVU1146
 3844 0054 C005     		lsls	r0, r0, #23
 3845 0056 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3846              	.LVL246:
1162:Src/main.c    **** 			setKeyPressed();
 3847              		.loc 1 1162 6 discriminator 1 view .LVU1147
 3848 005a 0028     		cmp	r0, #0
 3849 005c 02D1     		bne	.L321
1163:Src/main.c    **** 		}
 3850              		.loc 1 1163 4 is_stmt 1 view .LVU1148
 3851 005e FFF7FEFF 		bl	setKeyPressed
 3852              	.LVL247:
 3853 0062 DFE7     		b	.L314
 3854              	.L321:
1166:Src/main.c    **** 		}
 3855              		.loc 1 1166 4 view .LVU1149
 3856 0064 FFF7FEFF 		bl	setKeyReleased
 3857              	.LVL248:
 3858              		.loc 1 1169 1 is_stmt 0 view .LVU1150
 3859 0068 DCE7     		b	.L314
 3860              	.L326:
 3861 006a C046     		.align	2
 3862              	.L325:
 3863 006c 00000000 		.word	isInitCompleted
 3864 0070 00000000 		.word	currentMode
 3865 0074 00000000 		.word	blinkControl
 3866              		.cfi_endproc
 3867              	.LFE58:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 104


 3869              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 3870              		.align	1
 3871              		.global	HAL_TIM_PeriodElapsedCallback
 3872              		.syntax unified
 3873              		.code	16
 3874              		.thumb_func
 3876              	HAL_TIM_PeriodElapsedCallback:
 3877              	.LVL249:
 3878              	.LFB59:
1170:Src/main.c    **** 
1171:Src/main.c    **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim) {
 3879              		.loc 1 1171 61 is_stmt 1 view -0
 3880              		.cfi_startproc
 3881              		@ args = 0, pretend = 0, frame = 0
 3882              		@ frame_needed = 0, uses_anonymous_args = 0
1172:Src/main.c    **** 	if (htim->Instance == ALARM_CONTROL_TIMER) {
 3883              		.loc 1 1172 2 view .LVU1152
 3884              		.loc 1 1172 10 is_stmt 0 view .LVU1153
 3885 0000 0368     		ldr	r3, [r0]
 3886              		.loc 1 1172 5 view .LVU1154
 3887 0002 134A     		ldr	r2, .L342
1171:Src/main.c    **** 	if (htim->Instance == ALARM_CONTROL_TIMER) {
 3888              		.loc 1 1171 61 view .LVU1155
 3889 0004 10B5     		push	{r4, lr}
 3890              	.LCFI23:
 3891              		.cfi_def_cfa_offset 8
 3892              		.cfi_offset 4, -8
 3893              		.cfi_offset 14, -4
 3894              		.loc 1 1172 5 view .LVU1156
 3895 0006 9342     		cmp	r3, r2
 3896 0008 02D1     		bne	.L328
1173:Src/main.c    **** 		alarmTimerTick();
 3897              		.loc 1 1173 3 is_stmt 1 view .LVU1157
 3898 000a FFF7FEFF 		bl	alarmTimerTick
 3899              	.LVL250:
 3900              	.L327:
1174:Src/main.c    **** 	}
1175:Src/main.c    **** 	else if (htim->Instance == LIGHT_CONTROL_TIMER) {
1176:Src/main.c    **** 		if (savedBrightness == 0) {
1177:Src/main.c    **** 			if (isWeakBrightness && adcValue[0] > STRONG_BRIGHTNESS_ADC_VALUE) {
1178:Src/main.c    **** 				isWeakBrightness = false;
1179:Src/main.c    **** 				if(strongBrightness > 0){
1180:Src/main.c    **** 					TM1637SetBrightness(strongBrightness);
1181:Src/main.c    **** 				}
1182:Src/main.c    **** 			}
1183:Src/main.c    **** 			else if (!isWeakBrightness && adcValue[0] < WEAK_BRIGHTNESS_ADC_VALUE) {
1184:Src/main.c    **** 				isWeakBrightness = true;
1185:Src/main.c    **** 				if(weakBrightness > 0){
1186:Src/main.c    **** 					TM1637SetBrightness(weakBrightness);
1187:Src/main.c    **** 				}
1188:Src/main.c    **** 			}
1189:Src/main.c    **** 		}
1190:Src/main.c    **** 	}
1191:Src/main.c    **** }
 3901              		.loc 1 1191 1 is_stmt 0 view .LVU1158
 3902              		@ sp needed
 3903 000e 10BD     		pop	{r4, pc}
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 105


 3904              	.LVL251:
 3905              	.L328:
1175:Src/main.c    **** 		if (savedBrightness == 0) {
 3906              		.loc 1 1175 7 is_stmt 1 view .LVU1159
1175:Src/main.c    **** 		if (savedBrightness == 0) {
 3907              		.loc 1 1175 10 is_stmt 0 view .LVU1160
 3908 0010 104A     		ldr	r2, .L342+4
 3909 0012 9342     		cmp	r3, r2
 3910 0014 FBD1     		bne	.L327
1176:Src/main.c    **** 			if (isWeakBrightness && adcValue[0] > STRONG_BRIGHTNESS_ADC_VALUE) {
 3911              		.loc 1 1176 3 is_stmt 1 view .LVU1161
1176:Src/main.c    **** 			if (isWeakBrightness && adcValue[0] > STRONG_BRIGHTNESS_ADC_VALUE) {
 3912              		.loc 1 1176 23 is_stmt 0 view .LVU1162
 3913 0016 104B     		ldr	r3, .L342+8
1176:Src/main.c    **** 			if (isWeakBrightness && adcValue[0] > STRONG_BRIGHTNESS_ADC_VALUE) {
 3914              		.loc 1 1176 6 view .LVU1163
 3915 0018 1978     		ldrb	r1, [r3]
 3916 001a 0029     		cmp	r1, #0
 3917 001c F7D1     		bne	.L327
1177:Src/main.c    **** 				isWeakBrightness = false;
 3918              		.loc 1 1177 4 is_stmt 1 view .LVU1164
1177:Src/main.c    **** 				isWeakBrightness = false;
 3919              		.loc 1 1177 36 is_stmt 0 discriminator 1 view .LVU1165
 3920 001e 0F4B     		ldr	r3, .L342+12
 3921 0020 1A68     		ldr	r2, [r3]
1177:Src/main.c    **** 				isWeakBrightness = false;
 3922              		.loc 1 1177 8 view .LVU1166
 3923 0022 0F4B     		ldr	r3, .L342+16
1177:Src/main.c    **** 				isWeakBrightness = false;
 3924              		.loc 1 1177 7 view .LVU1167
 3925 0024 1878     		ldrb	r0, [r3]
 3926              	.LVL252:
1177:Src/main.c    **** 				isWeakBrightness = false;
 3927              		.loc 1 1177 7 view .LVU1168
 3928 0026 0028     		cmp	r0, #0
 3929 0028 0BD0     		beq	.L332
1177:Src/main.c    **** 				isWeakBrightness = false;
 3930              		.loc 1 1177 25 discriminator 1 view .LVU1169
 3931 002a AF20     		movs	r0, #175
 3932 002c 0001     		lsls	r0, r0, #4
 3933 002e 8242     		cmp	r2, r0
 3934 0030 EDD9     		bls	.L327
1178:Src/main.c    **** 				if(strongBrightness > 0){
 3935              		.loc 1 1178 5 is_stmt 1 view .LVU1170
1178:Src/main.c    **** 				if(strongBrightness > 0){
 3936              		.loc 1 1178 22 is_stmt 0 view .LVU1171
 3937 0032 1970     		strb	r1, [r3]
1179:Src/main.c    **** 					TM1637SetBrightness(strongBrightness);
 3938              		.loc 1 1179 5 is_stmt 1 view .LVU1172
1179:Src/main.c    **** 					TM1637SetBrightness(strongBrightness);
 3939              		.loc 1 1179 25 is_stmt 0 view .LVU1173
 3940 0034 0B4B     		ldr	r3, .L342+20
 3941              	.L341:
1185:Src/main.c    **** 					TM1637SetBrightness(weakBrightness);
 3942              		.loc 1 1185 23 view .LVU1174
 3943 0036 1878     		ldrb	r0, [r3]
1185:Src/main.c    **** 					TM1637SetBrightness(weakBrightness);
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 106


 3944              		.loc 1 1185 7 view .LVU1175
 3945 0038 0028     		cmp	r0, #0
 3946 003a E8D0     		beq	.L327
1186:Src/main.c    **** 				}
 3947              		.loc 1 1186 6 is_stmt 1 view .LVU1176
 3948 003c FFF7FEFF 		bl	TM1637SetBrightness
 3949              	.LVL253:
 3950              		.loc 1 1191 1 is_stmt 0 view .LVU1177
 3951 0040 E5E7     		b	.L327
 3952              	.L332:
1183:Src/main.c    **** 				isWeakBrightness = true;
 3953              		.loc 1 1183 9 is_stmt 1 view .LVU1178
1183:Src/main.c    **** 				isWeakBrightness = true;
 3954              		.loc 1 1183 31 is_stmt 0 discriminator 1 view .LVU1179
 3955 0042 0949     		ldr	r1, .L342+24
 3956 0044 8A42     		cmp	r2, r1
 3957 0046 E2D8     		bhi	.L327
1184:Src/main.c    **** 				if(weakBrightness > 0){
 3958              		.loc 1 1184 5 is_stmt 1 view .LVU1180
1184:Src/main.c    **** 				if(weakBrightness > 0){
 3959              		.loc 1 1184 22 is_stmt 0 view .LVU1181
 3960 0048 0122     		movs	r2, #1
 3961 004a 1A70     		strb	r2, [r3]
1185:Src/main.c    **** 					TM1637SetBrightness(weakBrightness);
 3962              		.loc 1 1185 5 is_stmt 1 view .LVU1182
1185:Src/main.c    **** 					TM1637SetBrightness(weakBrightness);
 3963              		.loc 1 1185 23 is_stmt 0 view .LVU1183
 3964 004c 074B     		ldr	r3, .L342+28
 3965 004e F2E7     		b	.L341
 3966              	.L343:
 3967              		.align	2
 3968              	.L342:
 3969 0050 00480140 		.word	1073825792
 3970 0054 00440140 		.word	1073824768
 3971 0058 00000000 		.word	savedBrightness
 3972 005c 00000000 		.word	adcValue
 3973 0060 00000000 		.word	isWeakBrightness
 3974 0064 00000000 		.word	strongBrightness
 3975 0068 FB080000 		.word	2299
 3976 006c 00000000 		.word	weakBrightness
 3977              		.cfi_endproc
 3978              	.LFE59:
 3980              		.section	.text.Error_Handler,"ax",%progbits
 3981              		.align	1
 3982              		.global	Error_Handler
 3983              		.syntax unified
 3984              		.code	16
 3985              		.thumb_func
 3987              	Error_Handler:
 3988              	.LFB60:
1192:Src/main.c    **** /* USER CODE END 4 */
1193:Src/main.c    **** 
1194:Src/main.c    **** /**
1195:Src/main.c    ****   * @brief  This function is executed in case of error occurrence.
1196:Src/main.c    ****   * @retval None
1197:Src/main.c    ****   */
1198:Src/main.c    **** void Error_Handler(void)
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 107


1199:Src/main.c    **** {
 3989              		.loc 1 1199 1 is_stmt 1 view -0
 3990              		.cfi_startproc
 3991              		@ args = 0, pretend = 0, frame = 0
 3992              		@ frame_needed = 0, uses_anonymous_args = 0
 3993              		@ link register save eliminated.
1200:Src/main.c    ****   /* USER CODE BEGIN Error_Handler_Debug */
1201:Src/main.c    ****   /* User can add his own implementation to report the HAL error return state */
1202:Src/main.c    **** 
1203:Src/main.c    ****   /* USER CODE END Error_Handler_Debug */
1204:Src/main.c    **** }
 3994              		.loc 1 1204 1 view .LVU1185
 3995              		@ sp needed
 3996 0000 7047     		bx	lr
 3997              		.cfi_endproc
 3998              	.LFE60:
 4000              		.global	tempBuffer
 4001              		.section	.bss.tempBuffer,"aw",%nobits
 4002              		.align	1
 4005              	tempBuffer:
 4006 0000 00000000 		.space	18
 4006      00000000 
 4006      00000000 
 4006      00000000 
 4006      0000
 4007              		.global	tempBuffered
 4008              		.section	.bss.tempBuffered,"aw",%nobits
 4011              	tempBuffered:
 4012 0000 00       		.space	1
 4013              		.global	tempertureHideTime
 4014              		.section	.bss.tempertureHideTime,"aw",%nobits
 4017              	tempertureHideTime:
 4018 0000 00       		.space	1
 4019              		.global	tempertureShowTime
 4020              		.section	.bss.tempertureShowTime,"aw",%nobits
 4023              	tempertureShowTime:
 4024 0000 00       		.space	1
 4025              		.global	temperture
 4026              		.section	.data.temperture,"aw"
 4029              	temperture:
 4030 0000 19       		.byte	25
 4031              		.global	setKeyRepeatReported
 4032              		.section	.bss.setKeyRepeatReported,"aw",%nobits
 4035              	setKeyRepeatReported:
 4036 0000 00       		.space	1
 4037              		.global	alarmBeepCount
 4038              		.section	.bss.alarmBeepCount,"aw",%nobits
 4039              		.align	2
 4042              	alarmBeepCount:
 4043 0000 00000000 		.space	4
 4044              		.global	alarmTimestamp
 4045              		.section	.bss.alarmTimestamp,"aw",%nobits
 4046              		.align	2
 4049              	alarmTimestamp:
 4050 0000 00000000 		.space	4
 4051              		.global	lastSetKeyPressReportTime
 4052              		.section	.bss.lastSetKeyPressReportTime,"aw",%nobits
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 108


 4053              		.align	2
 4056              	lastSetKeyPressReportTime:
 4057 0000 00000000 		.space	4
 4058              		.global	lastSetKeyPressTime
 4059              		.section	.bss.lastSetKeyPressTime,"aw",%nobits
 4060              		.align	2
 4063              	lastSetKeyPressTime:
 4064 0000 00000000 		.space	4
 4065              		.global	lastModeKeyPressTime
 4066              		.section	.bss.lastModeKeyPressTime,"aw",%nobits
 4067              		.align	2
 4070              	lastModeKeyPressTime:
 4071 0000 00000000 		.space	4
 4072              		.global	isChiming
 4073              		.section	.bss.isChiming,"aw",%nobits
 4076              	isChiming:
 4077 0000 00       		.space	1
 4078              		.global	lastChimeSecond
 4079              		.section	.data.lastChimeSecond,"aw"
 4082              	lastChimeSecond:
 4083 0000 FF       		.byte	-1
 4084              		.global	ringStartTime
 4085              		.section	.bss.ringStartTime,"aw",%nobits
 4086              		.align	2
 4089              	ringStartTime:
 4090 0000 00000000 		.space	4
 4091              		.global	lastRingOnTimeHour
 4092              		.section	.bss.lastRingOnTimeHour,"aw",%nobits
 4095              	lastRingOnTimeHour:
 4096 0000 00       		.space	1
 4097              		.global	ringOnTimeStop
 4098              		.section	.bss.ringOnTimeStop,"aw",%nobits
 4101              	ringOnTimeStop:
 4102 0000 00       		.space	1
 4103              		.global	ringOnTimeStart
 4104              		.section	.bss.ringOnTimeStart,"aw",%nobits
 4107              	ringOnTimeStart:
 4108 0000 00       		.space	1
 4109              		.global	isRingOnTimeEnabled
 4110              		.section	.bss.isRingOnTimeEnabled,"aw",%nobits
 4113              	isRingOnTimeEnabled:
 4114 0000 00       		.space	1
 4115              		.global	alarmMin
 4116              		.section	.bss.alarmMin,"aw",%nobits
 4119              	alarmMin:
 4120 0000 00       		.space	1
 4121              		.global	alarmHour
 4122              		.section	.bss.alarmHour,"aw",%nobits
 4125              	alarmHour:
 4126 0000 00       		.space	1
 4127              		.global	isAlarming
 4128              		.section	.bss.isAlarming,"aw",%nobits
 4131              	isAlarming:
 4132 0000 00       		.space	1
 4133              		.global	isAlarmed
 4134              		.section	.bss.isAlarmed,"aw",%nobits
 4137              	isAlarmed:
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 109


 4138 0000 00       		.space	1
 4139              		.global	isAlarmEnabled
 4140              		.section	.bss.isAlarmEnabled,"aw",%nobits
 4143              	isAlarmEnabled:
 4144 0000 00       		.space	1
 4145              		.global	blinkControl
 4146              		.section	.bss.blinkControl,"aw",%nobits
 4149              	blinkControl:
 4150 0000 00       		.space	1
 4151              		.global	lastTime
 4152              		.section	.bss.lastTime,"aw",%nobits
 4155              	lastTime:
 4156 0000 00000000 		.space	8
 4156      00000000 
 4157              		.global	time
 4158              		.section	.bss.time,"aw",%nobits
 4161              	time:
 4162 0000 00000000 		.space	8
 4162      00000000 
 4163              		.global	weakBrightness
 4164              		.section	.bss.weakBrightness,"aw",%nobits
 4167              	weakBrightness:
 4168 0000 00       		.space	1
 4169              		.global	strongBrightness
 4170              		.section	.bss.strongBrightness,"aw",%nobits
 4173              	strongBrightness:
 4174 0000 00       		.space	1
 4175              		.global	isWeakBrightness
 4176              		.section	.data.isWeakBrightness,"aw"
 4179              	isWeakBrightness:
 4180 0000 01       		.byte	1
 4181              		.global	savedBrightness
 4182              		.section	.bss.savedBrightness,"aw",%nobits
 4185              	savedBrightness:
 4186 0000 00       		.space	1
 4187              		.global	adcValue
 4188              		.section	.bss.adcValue,"aw",%nobits
 4189              		.align	2
 4192              	adcValue:
 4193 0000 00000000 		.space	8
 4193      00000000 
 4194              		.global	lastDisplayChangeTime
 4195              		.section	.bss.lastDisplayChangeTime,"aw",%nobits
 4196              		.align	2
 4199              	lastDisplayChangeTime:
 4200 0000 00000000 		.space	4
 4201              		.global	isInitCompleted
 4202              		.section	.bss.isInitCompleted,"aw",%nobits
 4205              	isInitCompleted:
 4206 0000 00       		.space	1
 4207              		.global	currentMode
 4208              		.section	.bss.currentMode,"aw",%nobits
 4211              	currentMode:
 4212 0000 00       		.space	1
 4213              		.global	tempertureMap
 4214              		.section	.rodata.tempertureMap,"a"
 4215              		.align	1
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 110


 4218              	tempertureMap:
 4219 0000 1E04     		.short	1054
 4220 0002 4304     		.short	1091
 4221 0004 6804     		.short	1128
 4222 0006 8D04     		.short	1165
 4223 0008 B304     		.short	1203
 4224 000a DA04     		.short	1242
 4225 000c 0005     		.short	1280
 4226 000e 2805     		.short	1320
 4227 0010 4F05     		.short	1359
 4228 0012 7705     		.short	1399
 4229 0014 9F05     		.short	1439
 4230 0016 C705     		.short	1479
 4231 0018 F005     		.short	1520
 4232 001a 1806     		.short	1560
 4233 001c 4106     		.short	1601
 4234 001e 6A06     		.short	1642
 4235 0020 9306     		.short	1683
 4236 0022 BC06     		.short	1724
 4237 0024 E506     		.short	1765
 4238 0026 0D07     		.short	1805
 4239 0028 3607     		.short	1846
 4240 002a 5F07     		.short	1887
 4241 002c 8707     		.short	1927
 4242 002e B007     		.short	1968
 4243 0030 D807     		.short	2008
 4244 0032 0008     		.short	2048
 4245 0034 2708     		.short	2087
 4246 0036 4E08     		.short	2126
 4247 0038 7508     		.short	2165
 4248 003a 9C08     		.short	2204
 4249 003c C208     		.short	2242
 4250 003e E808     		.short	2280
 4251 0040 0E09     		.short	2318
 4252 0042 3309     		.short	2355
 4253 0044 5709     		.short	2391
 4254 0046 7B09     		.short	2427
 4255 0048 9F09     		.short	2463
 4256 004a C209     		.short	2498
 4257 004c E509     		.short	2533
 4258 004e 070A     		.short	2567
 4259 0050 290A     		.short	2601
 4260 0052 4A0A     		.short	2634
 4261 0054 6B0A     		.short	2667
 4262 0056 8B0A     		.short	2699
 4263 0058 AA0A     		.short	2730
 4264 005a C90A     		.short	2761
 4265 005c E70A     		.short	2791
 4266 005e 050B     		.short	2821
 4267 0060 220B     		.short	2850
 4268 0062 3F0B     		.short	2879
 4269 0064 5B0B     		.short	2907
 4270 0066 770B     		.short	2935
 4271 0068 920B     		.short	2962
 4272 006a AC0B     		.short	2988
 4273 006c C60B     		.short	3014
 4274 006e E00B     		.short	3040
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 111


 4275 0070 F80B     		.short	3064
 4276 0072 110C     		.short	3089
 4277 0074 290C     		.short	3113
 4278 0076 400C     		.short	3136
 4279 0078 560C     		.short	3158
 4280 007a 6D0C     		.short	3181
 4281 007c 820C     		.short	3202
 4282 007e 980C     		.short	3224
 4283 0080 AC0C     		.short	3244
 4284 0082 C00C     		.short	3264
 4285 0084 D40C     		.short	3284
 4286 0086 E70C     		.short	3303
 4287 0088 FA0C     		.short	3322
 4288 008a 0D0D     		.short	3341
 4289 008c 1F0D     		.short	3359
 4290 008e 300D     		.short	3376
 4291 0090 410D     		.short	3393
 4292 0092 520D     		.short	3410
 4293 0094 620D     		.short	3426
 4294 0096 720D     		.short	3442
 4295 0098 810D     		.short	3457
 4296 009a 900D     		.short	3472
 4297 009c 9F0D     		.short	3487
 4298 009e AD0D     		.short	3501
 4299 00a0 BB0D     		.short	3515
 4300 00a2 C90D     		.short	3529
 4301 00a4 D60D     		.short	3542
 4302 00a6 E30D     		.short	3555
 4303 00a8 F00D     		.short	3568
 4304 00aa FC0D     		.short	3580
 4305 00ac 080E     		.short	3592
 4306 00ae 130E     		.short	3603
 4307 00b0 1F0E     		.short	3615
 4308 00b2 2A0E     		.short	3626
 4309 00b4 350E     		.short	3637
 4310 00b6 3F0E     		.short	3647
 4311 00b8 490E     		.short	3657
 4312 00ba 530E     		.short	3667
 4313 00bc 5D0E     		.short	3677
 4314 00be 670E     		.short	3687
 4315 00c0 700E     		.short	3696
 4316 00c2 790E     		.short	3705
 4317 00c4 820E     		.short	3714
 4318 00c6 8A0E     		.short	3722
 4319 00c8 920E     		.short	3730
 4320 00ca 9B0E     		.short	3739
 4321 00cc A30E     		.short	3747
 4322 00ce AA0E     		.short	3754
 4323 00d0 B20E     		.short	3762
 4324 00d2 B90E     		.short	3769
 4325 00d4 C00E     		.short	3776
 4326 00d6 C70E     		.short	3783
 4327 00d8 CE0E     		.short	3790
 4328 00da D50E     		.short	3797
 4329 00dc DB0E     		.short	3803
 4330 00de E10E     		.short	3809
 4331 00e0 E70E     		.short	3815
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 112


 4332 00e2 ED0E     		.short	3821
 4333 00e4 F30E     		.short	3827
 4334 00e6 F90E     		.short	3833
 4335 00e8 FF0E     		.short	3839
 4336 00ea 040F     		.short	3844
 4337 00ec 090F     		.short	3849
 4338 00ee 0E0F     		.short	3854
 4339 00f0 130F     		.short	3859
 4340 00f2 180F     		.short	3864
 4341 00f4 1D0F     		.short	3869
 4342 00f6 220F     		.short	3874
 4343 00f8 260F     		.short	3878
 4344 00fa 2B0F     		.short	3883
 4345              		.text
 4346              	.Letext0:
 4347              		.file 2 "D:\\STM32CubeCLT\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi
 4348              		.file 3 "D:\\STM32CubeCLT\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi
 4349              		.file 4 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f030x6.h"
 4350              		.file 5 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f0xx.h"
 4351              		.file 6 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_def.h"
 4352              		.file 7 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_rcc.h"
 4353              		.file 8 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_rcc_ex.h"
 4354              		.file 9 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_gpio.h"
 4355              		.file 10 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_dma.h"
 4356              		.file 11 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_adc.h"
 4357              		.file 12 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_tim.h"
 4358              		.file 13 "Inc/adc.h"
 4359              		.file 14 "Inc/tim.h"
 4360              		.file 15 "Lib/SD3077.h"
 4361              		.file 16 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_adc_ex.h"
 4362              		.file 17 "Lib/TM1637.h"
 4363              		.file 18 "Inc/i2c.h"
 4364              		.file 19 "Inc/dma.h"
 4365              		.file 20 "Inc/gpio.h"
 4366              		.file 21 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal.h"
 4367              		.file 22 "<built-in>"
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 113


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
  D:\Temp\ccs3Iv9J.s:19     .text.readBackupSettings:00000000 $t
  D:\Temp\ccs3Iv9J.s:25     .text.readBackupSettings:00000000 readBackupSettings
  D:\Temp\ccs3Iv9J.s:96     .text.readBackupSettings:00000038 $d
  D:\Temp\ccs3Iv9J.s:4125   .bss.alarmHour:00000000 alarmHour
  D:\Temp\ccs3Iv9J.s:4119   .bss.alarmMin:00000000 alarmMin
  D:\Temp\ccs3Iv9J.s:4143   .bss.isAlarmEnabled:00000000 isAlarmEnabled
  D:\Temp\ccs3Iv9J.s:103    .text.saveSettings:00000000 $t
  D:\Temp\ccs3Iv9J.s:109    .text.saveSettings:00000000 saveSettings
  D:\Temp\ccs3Iv9J.s:180    .text.saveSettings:00000058 $d
  D:\Temp\ccs3Iv9J.s:4023   .bss.tempertureShowTime:00000000 tempertureShowTime
  D:\Temp\ccs3Iv9J.s:4017   .bss.tempertureHideTime:00000000 tempertureHideTime
  D:\Temp\ccs3Iv9J.s:4113   .bss.isRingOnTimeEnabled:00000000 isRingOnTimeEnabled
  D:\Temp\ccs3Iv9J.s:4107   .bss.ringOnTimeStart:00000000 ringOnTimeStart
  D:\Temp\ccs3Iv9J.s:4101   .bss.ringOnTimeStop:00000000 ringOnTimeStop
  D:\Temp\ccs3Iv9J.s:4185   .bss.savedBrightness:00000000 savedBrightness
  D:\Temp\ccs3Iv9J.s:4173   .bss.strongBrightness:00000000 strongBrightness
  D:\Temp\ccs3Iv9J.s:4167   .bss.weakBrightness:00000000 weakBrightness
  D:\Temp\ccs3Iv9J.s:196    .text.resetSettings:00000000 $t
  D:\Temp\ccs3Iv9J.s:202    .text.resetSettings:00000000 resetSettings
  D:\Temp\ccs3Iv9J.s:270    .text.resetSettings:0000003c $d
  D:\Temp\ccs3Iv9J.s:285    .text.checkRingOnTime:00000000 $t
  D:\Temp\ccs3Iv9J.s:291    .text.checkRingOnTime:00000000 checkRingOnTime
  D:\Temp\ccs3Iv9J.s:481    .text.checkRingOnTime:000000b4 $d
  D:\Temp\ccs3Iv9J.s:4161   .bss.time:00000000 time
  D:\Temp\ccs3Iv9J.s:4082   .data.lastChimeSecond:00000000 lastChimeSecond
  D:\Temp\ccs3Iv9J.s:4089   .bss.ringStartTime:00000000 ringStartTime
  D:\Temp\ccs3Iv9J.s:4076   .bss.isChiming:00000000 isChiming
  D:\Temp\ccs3Iv9J.s:4095   .bss.lastRingOnTimeHour:00000000 lastRingOnTimeHour
  D:\Temp\ccs3Iv9J.s:498    .text.alarmStart:00000000 $t
  D:\Temp\ccs3Iv9J.s:504    .text.alarmStart:00000000 alarmStart
  D:\Temp\ccs3Iv9J.s:540    .text.alarmStart:00000014 $d
  D:\Temp\ccs3Iv9J.s:4131   .bss.isAlarming:00000000 isAlarming
  D:\Temp\ccs3Iv9J.s:4137   .bss.isAlarmed:00000000 isAlarmed
  D:\Temp\ccs3Iv9J.s:547    .text.alarmTimerTick:00000000 $t
  D:\Temp\ccs3Iv9J.s:553    .text.alarmTimerTick:00000000 alarmTimerTick
  D:\Temp\ccs3Iv9J.s:675    .text.alarmTimerTick:00000070 $d
  D:\Temp\ccs3Iv9J.s:4049   .bss.alarmTimestamp:00000000 alarmTimestamp
  D:\Temp\ccs3Iv9J.s:4042   .bss.alarmBeepCount:00000000 alarmBeepCount
  D:\Temp\ccs3Iv9J.s:681    .text.alarmStop:00000000 $t
  D:\Temp\ccs3Iv9J.s:687    .text.alarmStop:00000000 alarmStop
  D:\Temp\ccs3Iv9J.s:725    .text.alarmStop:0000001c $d
  D:\Temp\ccs3Iv9J.s:731    .text.checkAlarm:00000000 $t
  D:\Temp\ccs3Iv9J.s:737    .text.checkAlarm:00000000 checkAlarm
  D:\Temp\ccs3Iv9J.s:820    .text.checkAlarm:00000050 $d
  D:\Temp\ccs3Iv9J.s:830    .text.refreshTemperture:00000000 $t
  D:\Temp\ccs3Iv9J.s:836    .text.refreshTemperture:00000000 refreshTemperture
  D:\Temp\ccs3Iv9J.s:967    .text.refreshTemperture:00000050 $d
  D:\Temp\ccs3Iv9J.s:4192   .bss.adcValue:00000000 adcValue
  D:\Temp\ccs3Iv9J.s:4011   .bss.tempBuffered:00000000 tempBuffered
  D:\Temp\ccs3Iv9J.s:4005   .bss.tempBuffer:00000000 tempBuffer
  D:\Temp\ccs3Iv9J.s:4218   .rodata.tempertureMap:00000000 tempertureMap
  D:\Temp\ccs3Iv9J.s:4029   .data.temperture:00000000 temperture
  D:\Temp\ccs3Iv9J.s:978    .text.refreshTimeDisplay:00000000 $t
  D:\Temp\ccs3Iv9J.s:984    .text.refreshTimeDisplay:00000000 refreshTimeDisplay
  D:\Temp\ccs3Iv9J.s:1158   .text.refreshTimeDisplay:000000d4 $d
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 114


  D:\Temp\ccs3Iv9J.s:4155   .bss.lastTime:00000000 lastTime
  D:\Temp\ccs3Iv9J.s:4211   .bss.currentMode:00000000 currentMode
  D:\Temp\ccs3Iv9J.s:4149   .bss.blinkControl:00000000 blinkControl
  D:\Temp\ccs3Iv9J.s:1167   .text.refreshSettingsDisplay:00000000 $t
  D:\Temp\ccs3Iv9J.s:1173   .text.refreshSettingsDisplay:00000000 refreshSettingsDisplay
  D:\Temp\ccs3Iv9J.s:1204   .text.refreshSettingsDisplay:00000012 $d
  D:\Temp\ccs3Iv9J.s:1217   .text.refreshSettingsDisplay:0000002c $t
  D:\Temp\ccs3Iv9J.s:1832   .text.refreshSettingsDisplay:0000028c $d
  D:\Temp\ccs3Iv9J.s:1850   .text.modeKeyClicked:00000000 $t
  D:\Temp\ccs3Iv9J.s:1856   .text.modeKeyClicked:00000000 modeKeyClicked
  D:\Temp\ccs3Iv9J.s:1894   .text.modeKeyClicked:0000001c $d
  D:\Temp\ccs3Iv9J.s:1910   .text.modeKeyClicked:0000002c $t
  D:\Temp\ccs3Iv9J.s:2140   .text.modeKeyClicked:00000118 $d
  D:\Temp\ccs3Iv9J.s:4179   .data.isWeakBrightness:00000000 isWeakBrightness
  D:\Temp\ccs3Iv9J.s:4199   .bss.lastDisplayChangeTime:00000000 lastDisplayChangeTime
  D:\Temp\ccs3Iv9J.s:2158   .text.modeKeyLongPressed:00000000 $t
  D:\Temp\ccs3Iv9J.s:2164   .text.modeKeyLongPressed:00000000 modeKeyLongPressed
  D:\Temp\ccs3Iv9J.s:2221   .text.modeKeyLongPressed:0000002c $d
  D:\Temp\ccs3Iv9J.s:2230   .text.setKeyClicked:00000000 $t
  D:\Temp\ccs3Iv9J.s:2236   .text.setKeyClicked:00000000 setKeyClicked
  D:\Temp\ccs3Iv9J.s:2272   .text.setKeyClicked:0000001c $d
  D:\Temp\ccs3Iv9J.s:2288   .text.setKeyClicked:0000002c $t
  D:\Temp\ccs3Iv9J.s:2518   .text.setKeyClicked:00000118 $d
  D:\Temp\ccs3Iv9J.s:2538   .text.setKeyPresseRepeatReport:00000000 $t
  D:\Temp\ccs3Iv9J.s:2544   .text.setKeyPresseRepeatReport:00000000 setKeyPresseRepeatReport
  D:\Temp\ccs3Iv9J.s:2571   .text.setKeyPresseRepeatReport:00000016 $d
  D:\Temp\ccs3Iv9J.s:2715   .text.setKeyPresseRepeatReport:000000a4 $d
  D:\Temp\ccs3Iv9J.s:4035   .bss.setKeyRepeatReported:00000000 setKeyRepeatReported
  D:\Temp\ccs3Iv9J.s:2729   .text.setKeyPressed:00000000 $t
  D:\Temp\ccs3Iv9J.s:2735   .text.setKeyPressed:00000000 setKeyPressed
  D:\Temp\ccs3Iv9J.s:2761   .text.setKeyPressed:0000000c $d
  D:\Temp\ccs3Iv9J.s:4063   .bss.lastSetKeyPressTime:00000000 lastSetKeyPressTime
  D:\Temp\ccs3Iv9J.s:2766   .text.setKeyReleased:00000000 $t
  D:\Temp\ccs3Iv9J.s:2772   .text.setKeyReleased:00000000 setKeyReleased
  D:\Temp\ccs3Iv9J.s:2827   .text.setKeyReleased:00000028 $d
  D:\Temp\ccs3Iv9J.s:2833   .text.modeKeyPressed:00000000 $t
  D:\Temp\ccs3Iv9J.s:2839   .text.modeKeyPressed:00000000 modeKeyPressed
  D:\Temp\ccs3Iv9J.s:2865   .text.modeKeyPressed:0000000c $d
  D:\Temp\ccs3Iv9J.s:4070   .bss.lastModeKeyPressTime:00000000 lastModeKeyPressTime
  D:\Temp\ccs3Iv9J.s:2870   .text.modeKeyReleased:00000000 $t
  D:\Temp\ccs3Iv9J.s:2876   .text.modeKeyReleased:00000000 modeKeyReleased
  D:\Temp\ccs3Iv9J.s:2932   .text.modeKeyReleased:0000002c $d
  D:\Temp\ccs3Iv9J.s:2937   .text.SystemClock_Config:00000000 $t
  D:\Temp\ccs3Iv9J.s:2943   .text.SystemClock_Config:00000000 SystemClock_Config
  D:\Temp\ccs3Iv9J.s:3067   .text.startup.main:00000000 $t
  D:\Temp\ccs3Iv9J.s:3073   .text.startup.main:00000000 main
  D:\Temp\ccs3Iv9J.s:3714   .text.startup.main:000002a0 $d
  D:\Temp\ccs3Iv9J.s:4205   .bss.isInitCompleted:00000000 isInitCompleted
  D:\Temp\ccs3Iv9J.s:4056   .bss.lastSetKeyPressReportTime:00000000 lastSetKeyPressReportTime
  D:\Temp\ccs3Iv9J.s:3745   .text.HAL_GPIO_EXTI_Callback:00000000 $t
  D:\Temp\ccs3Iv9J.s:3751   .text.HAL_GPIO_EXTI_Callback:00000000 HAL_GPIO_EXTI_Callback
  D:\Temp\ccs3Iv9J.s:3863   .text.HAL_GPIO_EXTI_Callback:0000006c $d
  D:\Temp\ccs3Iv9J.s:3870   .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
  D:\Temp\ccs3Iv9J.s:3876   .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
  D:\Temp\ccs3Iv9J.s:3969   .text.HAL_TIM_PeriodElapsedCallback:00000050 $d
  D:\Temp\ccs3Iv9J.s:3981   .text.Error_Handler:00000000 $t
  D:\Temp\ccs3Iv9J.s:3987   .text.Error_Handler:00000000 Error_Handler
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 115


  D:\Temp\ccs3Iv9J.s:4002   .bss.tempBuffer:00000000 $d
  D:\Temp\ccs3Iv9J.s:4012   .bss.tempBuffered:00000000 $d
  D:\Temp\ccs3Iv9J.s:4018   .bss.tempertureHideTime:00000000 $d
  D:\Temp\ccs3Iv9J.s:4024   .bss.tempertureShowTime:00000000 $d
  D:\Temp\ccs3Iv9J.s:4036   .bss.setKeyRepeatReported:00000000 $d
  D:\Temp\ccs3Iv9J.s:4039   .bss.alarmBeepCount:00000000 $d
  D:\Temp\ccs3Iv9J.s:4046   .bss.alarmTimestamp:00000000 $d
  D:\Temp\ccs3Iv9J.s:4053   .bss.lastSetKeyPressReportTime:00000000 $d
  D:\Temp\ccs3Iv9J.s:4060   .bss.lastSetKeyPressTime:00000000 $d
  D:\Temp\ccs3Iv9J.s:4067   .bss.lastModeKeyPressTime:00000000 $d
  D:\Temp\ccs3Iv9J.s:4077   .bss.isChiming:00000000 $d
  D:\Temp\ccs3Iv9J.s:4086   .bss.ringStartTime:00000000 $d
  D:\Temp\ccs3Iv9J.s:4096   .bss.lastRingOnTimeHour:00000000 $d
  D:\Temp\ccs3Iv9J.s:4102   .bss.ringOnTimeStop:00000000 $d
  D:\Temp\ccs3Iv9J.s:4108   .bss.ringOnTimeStart:00000000 $d
  D:\Temp\ccs3Iv9J.s:4114   .bss.isRingOnTimeEnabled:00000000 $d
  D:\Temp\ccs3Iv9J.s:4120   .bss.alarmMin:00000000 $d
  D:\Temp\ccs3Iv9J.s:4126   .bss.alarmHour:00000000 $d
  D:\Temp\ccs3Iv9J.s:4132   .bss.isAlarming:00000000 $d
  D:\Temp\ccs3Iv9J.s:4138   .bss.isAlarmed:00000000 $d
  D:\Temp\ccs3Iv9J.s:4144   .bss.isAlarmEnabled:00000000 $d
  D:\Temp\ccs3Iv9J.s:4150   .bss.blinkControl:00000000 $d
  D:\Temp\ccs3Iv9J.s:4156   .bss.lastTime:00000000 $d
  D:\Temp\ccs3Iv9J.s:4162   .bss.time:00000000 $d
  D:\Temp\ccs3Iv9J.s:4168   .bss.weakBrightness:00000000 $d
  D:\Temp\ccs3Iv9J.s:4174   .bss.strongBrightness:00000000 $d
  D:\Temp\ccs3Iv9J.s:4186   .bss.savedBrightness:00000000 $d
  D:\Temp\ccs3Iv9J.s:4189   .bss.adcValue:00000000 $d
  D:\Temp\ccs3Iv9J.s:4196   .bss.lastDisplayChangeTime:00000000 $d
  D:\Temp\ccs3Iv9J.s:4206   .bss.isInitCompleted:00000000 $d
  D:\Temp\ccs3Iv9J.s:4212   .bss.currentMode:00000000 $d
  D:\Temp\ccs3Iv9J.s:4215   .rodata.tempertureMap:00000000 $d
  D:\Temp\ccs3Iv9J.s:2584   .text.setKeyPresseRepeatReport:00000023 $d
  D:\Temp\ccs3Iv9J.s:2584   .text.setKeyPresseRepeatReport:00000024 $t

UNDEFINED SYMBOLS
ReadBackData
WriteBackData
HAL_GetTick
HAL_GPIO_WritePin
HAL_TIM_Base_Start_IT
htim17
HAL_GPIO_ReadPin
HAL_TIM_Base_Stop_IT
__aeabi_uidiv
__aeabi_uidivmod
TimeNow
memcpy
TM1637ShowNumberRight
TM1637SetChar
__gnu_thumb1_case_uhi
__gnu_thumb1_case_uqi
SetInterruptOuput
SetTime
TM1637SetBrightness
EnableSencodInterruptOuput
memset
ARM GAS  D:\Temp\ccs3Iv9J.s 			page 116


HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_I2C1_Init
MX_ADC_Init
MX_TIM17_Init
MX_TIM3_Init
MX_TIM16_Init
TM1637Init
HAL_ADCEx_Calibration_Start
HAL_ADC_Start_DMA
HAL_TIM_Base_Start
hadc
htim3
htim16
